{"prompt": "You are tasked with developing a recommendation system for a bookstore using collaborative filtering. Given a dataset of user ratings for books, your goal is to predict which books a specific user would enjoy. The dataset is represented as a list of tuples, where each tuple contains a user ID, a book ID, and the rating given by the user. Implement the function `get_top_books` that takes the dataset and a user ID as input and returns a list of the top 5 book IDs that the user is likely to enjoy. The prediction should be based on the Pearson correlation coefficient between the target user and other users.\n\n**Input:**\n- A list of tuples `ratings` where each tuple is of the form `(user_id, book_id, rating)`.\n- An integer `user_id` representing the user for whom recommendations are to be made.\n\n**Output:**\n- A list of 5 book IDs that the user is likely to enjoy, sorted by predicted rating in descending order.\n\n**Sample Input:**\n```python\nratings = [(1, 101, 4.5), (1, 102, 3.0), (2, 101, 5.0), (2, 103, 4.0), (3, 102, 5.0), (3, 103, 4.5), (3, 104, 4.0), (4, 101, 3.5), (4, 104, 5.0), (5, 102, 4.0), (5, 103, 3.0), (5, 104, 4.5)]\nuser_id = 1\n```\n\n**Sample Output:**\n```python\n[103, 104, 102, 101]\n```", "response": "```python\nimport numpy as np\nfrom scipy.stats import pearsonr\n\ndef get_top_books(ratings, user_id):\n    \"\"\"\n    Predicts and returns the top 5 book IDs that a user is likely to enjoy based on collaborative filtering.\n    \n    :param ratings: List of tuples (user_id, book_id, rating).\n    :param user_id: Integer representing the user for whom recommendations are to be made.\n    :return: List of 5 book IDs sorted by predicted rating in descending order.\n    \"\"\"\n    # Step 1: Calculate the average rating of each book\n    book_ratings = {}\n    for user, book, rating in ratings:\n        if book in book_ratings:\n            book_ratings[book].append(rating)\n        else:\n            book_ratings[book] = [rating]\n    avg_book_ratings = {book: np.mean(ratings) for book, ratings in book_ratings.items()}\n\n    # Create a dictionary of user ratings\n    user_ratings = {}\n    for user, book, rating in ratings:\n        if user in user_ratings:\n            user_ratings[user][book] = rating\n        else:\n            user_ratings[user] = {book: rating}\n\n    # Step 2: Calculate Pearson correlation coefficient between target user and each other user\n    def get_pearson_correlation(target_user, other_user):\n        target_ratings = user_ratings[target_user]\n        other_ratings = user_ratings[other_user]\n        common_books = set(target_ratings).intersection(other_ratings)\n        if len(common_books) < 2:\n            return 0.0\n        target_book_scores = [target_ratings[book] for book in common_books]\n        other_book_scores = [other_ratings[book] for book in common_books]\n        corr, _ = pearsonr(target_book_scores, other_book_scores)\n        return corr\n\n    correlations = []\n    for other_user in user_ratings:\n        if other_user != user_id:\n            corr = get_pearson_correlation(user_id, other_user)\n            correlations.append((other_user, corr))\n\n    # Step 3: Predict the rating of each book that the target user has not rated\n    predicted_ratings = {}\n    for book in avg_book_ratings:\n        if book not in user_ratings[user_id]:\n            numerator = 0\n            denominator = 0\n            for other_user, corr in correlations:\n                if book in user_ratings[other_user]:\n                    numerator += corr * (user_ratings[other_user][book] - avg_book_ratings[book])\n                    denominator += abs(corr)\n            if denominator != 0:\n                predicted_ratings[book] = avg_book_ratings[book] + (numerator / denominator)\n\n    # Step 4: Recommend the top 5 books with the highest predicted ratings\n    top_books = sorted(predicted_ratings, key=predicted_ratings.get, reverse=True)[:5]\n    return top_books\n\n# Test the function\nratings = [(1, 101, 4.5), (1, 102, 3.0), (2, 101, 5.0), (2, 103, 4.0), (3, 102, 5.0), (3, 103, 4.5), (3, 104, 4.0), (4, 101, 3.5), (4, 104, 5.0), (5, 102, 4.0), (5, 103, 3.0), (5, 104, 4.5)]\nuser_id = 1\nprint(get_top_books(ratings, user_id))  # Output: list of book IDs recommended for user 1\n```"}
{"prompt": "You are given a list of integers. Your task is to write a Python function `find_largest_prime` that identifies and returns the largest prime number from the list. If the list contains no prime numbers, the function should return -1. The function should be optimized for performance to handle large input sizes.\n\n**Input:**\n- A list of integers `numbers` (1 \u2264 len(numbers) \u2264 10^5), where each integer `n` satisfies -10^9 \u2264 n \u2264 10^9.\n\n**Output:**\n- An integer representing the largest prime number in the list, or -1 if no prime numbers are present.\n\n**Sample Input:**\n```\n[29, 15, 23, 8, 41, 11, 62, 37, 59]\n```\n\n**Sample Output:**\n```\n59\n```", "response": "```python\ndef is_prime(n):\n    \"\"\"Check if a number is prime.\"\"\"\n    if n <= 1:\n        return False\n    if n <= 3:\n        return True\n    if n % 2 == 0 or n % 3 == 0:\n        return False\n    i = 5\n    while i * i <= n:\n        if n % i == 0 or n % (i + 2) == 0:\n            return False\n        i += 6\n    return True\n\ndef find_largest_prime(numbers):\n    \"\"\"Find the largest prime number in a list.\"\"\"\n    largest_prime = -1\n    for number in numbers:\n        if is_prime(number) and number > largest_prime:\n            largest_prime = number\n    return largest_prime\n\n# Test the function with the given list\nnumbers = [29, 15, 23, 8, 41, 11, 62, 37, 59]\nprint(find_largest_prime(numbers))  # Output should be 59\n```"}
{"prompt": "You are tasked with writing a Python script to generate a set of random test cases for a function that computes the greatest common divisor (GCD) of two integers. Your script should produce a list of 50 test cases, where each test case consists of two integers, both ranging from 1 to 1000, inclusive.\n\n**Sample Input:**\nNo input is required for this task.\n\n**Sample Output:**\n```\nTest Case 1: a=123, b=456, Expected GCD: 3\nTest Case 2: a=789, b=101, Expected GCD: 1\n...\nTest Case 50: a=999, b=888, Expected GCD: 37\n```", "response": "```python\nimport random\nimport math\n\ndef generate_test_cases(num_test_cases=50, lower_bound=1, upper_bound=1000):\n    \"\"\"\n    Generates a list of random test cases for a GCD function.\n    \n    Parameters:\n    num_test_cases (int): The number of test cases to generate.\n    lower_bound (int): The lower bound for the random integers.\n    upper_bound (int): The upper bound for the random integers.\n    \n    Returns:\n    list: A list of tuples, each containing two integers.\n    \"\"\"\n    test_cases = []\n    for _ in range(num_test_cases):\n        a = random.randint(lower_bound, upper_bound)\n        b = random.randint(lower_bound, upper_bound)\n        test_cases.append((a, b))\n    return test_cases\n\n# Generate the test cases\ntest_cases = generate_test_cases()\n\n# Print the test cases and the expected GCD result for verification\nfor i, (a, b) in enumerate(test_cases, 1):\n    expected_gcd = math.gcd(a, b)\n    print(f\"Test Case {i}: a={a}, b={b}, Expected GCD: {expected_gcd}\")\n```"}
{"prompt": "You are tasked with implementing a function `convert_temperature` that performs a temperature conversion from Fahrenheit to Celsius. The function should accept a single mandatory argument representing the temperature in Fahrenheit and an optional argument `round_to` which indicates the number of decimal places to round the resulting Celsius temperature to. If `round_to` is not provided, it should default to 2. Your function should return the converted temperature rounded to the specified number of decimal places.\n\n**Sample Input:**\n- `convert_temperature(32)`\n- `convert_temperature(212, 1)`\n\n**Sample Output:**\n- `0.0`\n- `100.0`", "response": "```python\ndef convert_temperature(fahrenheit, round_to=2):\n    \"\"\"\n    Convert a temperature from Fahrenheit to Celsius.\n\n    Parameters:\n    fahrenheit (float): Temperature in Fahrenheit.\n    round_to (int, optional): Number of decimal places to round the Celsius temperature to. Defaults to 2.\n\n    Returns:\n    float: Temperature in Celsius rounded to the specified number of decimal places.\n    \"\"\"\n    celsius = (fahrenheit - 32) * 5 / 9\n    return round(celsius, round_to)\n```"}
{"prompt": "You are given an integer `n`. Your task is to write a function `prime_factorization` that returns a dictionary containing the prime factors of `n` as keys and their respective exponents as values. The prime factors should be listed in ascending order.\n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 10^6)\n\n**Output:**\n- A dictionary where keys are the prime factors of `n` and values are their exponents.\n\n**Sample Input:**\n```\n100\n```\n\n**Sample Output:**\n```\n{2: 2, 5: 2}\n```", "response": "```python\ndef prime_factorization(n):\n    \"\"\"\n    Returns a dictionary of prime factors of n with their respective exponents.\n    \n    Parameters:\n    n (int): The integer to factorize.\n    \n    Returns:\n    dict: A dictionary with prime factors as keys and their exponents as values.\n    \"\"\"\n    i = 2\n    factors = {}\n    while i * i <= n:\n        if n % i:\n            i += 1\n        else:\n            n //= i\n            factors[i] = factors.get(i, 0) + 1\n    if n > 1:\n        factors[n] = factors.get(n, 0) + 1\n    return factors\n\n# Example usage:\n# print(prime_factorization(100))  # Output: {2: 2, 5: 2}\n```"}
{"prompt": "You are given a dictionary `input_dict` where keys are strings and values are integers. Your task is to implement a function `sort_by_value` that returns a list of tuples sorted by the dictionary values in descending order. Each tuple should contain a key-value pair from the dictionary. For example, if the input dictionary is `{'apple': 3, 'banana': 1, 'cherry': 2}`, the function should return `[('apple', 3), ('cherry', 2), ('banana', 1)]`.\n\n**Sample Input:**\n```python\n{'apple': 3, 'banana': 1, 'cherry': 2}\n```\n\n**Sample Output:**\n```python\n[('apple', 3), ('cherry', 2), ('banana', 1)]\n```", "response": "```python\ndef sort_by_value(input_dict):\n    \"\"\"\n    Sorts a dictionary by its values in descending order and returns a list of tuples.\n\n    Parameters:\n    input_dict (dict): A dictionary with string keys and integer values.\n\n    Returns:\n    list: A list of tuples sorted by the dictionary values in descending order.\n    \"\"\"\n    return sorted(input_dict.items(), key=lambda item: item[1], reverse=True)\n\n# Example usage:\ninput_dict = {'apple': 3, 'banana': 1, 'cherry': 2}\nprint(sort_by_value(input_dict))\n```"}
{"prompt": "You are given a CSV formatted string representing sales data for various products categorized into different product categories. Each line in the CSV string contains three fields: `category`, `product`, and `sales`. Your task is to write a Python function that calculates and prints the total sales for each product category. The CSV parsing should be handled using the `csv` module. \n\n**Input:**\n- A string in CSV format with the first line as headers: `category,product,sales`.\n- Each subsequent line contains a product category, product name, and sales amount separated by commas.\n\n**Output:**\n- For each product category, print the total sales formatted as: `Total sales for <category>: $<total_sales>`, where `<total_sales>` is formatted to two decimal places.\n\n**Sample Input:**\n```\ncategory,product,sales\nElectronics,Laptop,1200.50\nElectronics,Smartphone,800.00\nClothing,T-Shirt,25.00\nClothing,Jacket,49.99\nBooks,Novel,19.99\nBooks,Science,59.99\n```\n\n**Sample Output:**\n```\nTotal sales for Electronics: $2000.50\nTotal sales for Clothing: $75.99\nTotal sales for Books: $79.98\n```", "response": "```python\nimport csv\nfrom io import StringIO\n\ndef calculate_total_sales_per_category(csv_string):\n    \"\"\"\n    Calculate and print the total sales for each product category from a CSV formatted string.\n\n    :param csv_string: A string containing CSV formatted sales data.\n    \"\"\"\n    # Use StringIO to simulate reading from a file\n    csv_file = StringIO(csv_string)\n    \n    # Initialize a dictionary to hold category and corresponding sales total\n    sales_totals = {}\n\n    # Create a CSV reader object\n    csv_reader = csv.DictReader(csv_file)\n\n    # Loop through the rows\n    for row in csv_reader:\n        # Get the category and sales\n        category = row['category']\n        sales = float(row['sales']) if row['sales'].replace('.', '', 1).isdigit() else 0\n\n        # If category not in dictionary, add it\n        if category not in sales_totals:\n            sales_totals[category] = 0\n        \n        # Add the sales to the corresponding category\n        sales_totals[category] += sales\n    \n    # Print the results\n    for category, total_sales in sales_totals.items():\n        print(f\"Total sales for {category}: ${total_sales:.2f}\")\n\n# Example usage\ncsv_data = \"\"\"category,product,sales\nElectronics,Laptop,1200.50\nElectronics,Smartphone,800.00\nClothing,T-Shirt,25.00\nClothing,Jacket,49.99\nBooks,Novel,19.99\nBooks,Science,59.99\n\"\"\"\n\ncalculate_total_sales_per_category(csv_data)\n```"}
{"prompt": "You are tasked with creating a function `generate_html_table(data)` that constructs an HTML table from a given list of lists `data`. The first sublist in `data` contains the column headers, and the subsequent sublists contain the data rows. Your function should return a string representing the HTML code for the table, formatted with `<table>`, `<tr>`, `<th>`, and `<td>` tags.\n\n**Input:**\n- A list of lists `data` where `data[0]` is the header row and `data[1:]` are the data rows.\n\n**Output:**\n- A string representing the HTML code for the table.\n\n**Sample Input:**\n```python\n[\n    [\"Name\", \"Age\", \"City\"],\n    [\"Alice\", \"30\", \"New York\"],\n    [\"Bob\", \"25\", \"Los Angeles\"],\n    [\"Charlie\", \"35\", \"Chicago\"]\n]\n```\n\n**Sample Output:**\n```html\n<table>\n  <tr>\n\t<th>Name</th>\n\t<th>Age</th>\n\t<th>City</th>\n  </tr>\n  <tr>\n\t<td>Alice</td>\n\t<td>30</td>\n\t<td>New York</td>\n  </tr>\n  <tr>\n\t<td>Bob</td>\n\t<td>25</td>\n\t<td>Los Angeles</td>\n  </tr>\n  <tr>\n\t<td>Charlie</td>\n\t<td>35</td>\n\t<td>Chicago</td>\n  </tr>\n</table>\n```", "response": "```python\ndef generate_html_table(data):\n    \"\"\"\n    Generates an HTML table from a list of lists.\n    \n    Parameters:\n    data (list of lists): The first sublist contains the header row, and the subsequent sublists contain the data rows.\n    \n    Returns:\n    str: A string representing the HTML code for the table.\n    \"\"\"\n    html = [\"<table>\"]\n    \n    # Generate table header\n    header_row = data[0]\n    html.append(\"  <tr>\")\n    for header in header_row:\n        html.append(f\"    <th>{header}</th>\")\n    html.append(\"  </tr>\")\n    \n    # Generate table data rows\n    for row in data[1:]:\n        html.append(\"  <tr>\")\n        for cell in row:\n            html.append(f\"    <td>{cell}</td>\")\n        html.append(\"  </tr>\")\n    \n    html.append(\"</table>\")\n    return \"\\n\".join(html)\n```"}
{"prompt": "You are tasked with implementing a class `Employee` that has two attributes: `name` and `salary`. Your goal is to add a class method `from_string` that constructs an `Employee` object from a string formatted as \"name,salary\". The method should parse the string, extract the name and salary, and return an `Employee` object with these attributes. \n\n**Input:**\n- A single string in the format \"name,salary\" where `name` is a string and `salary` is an integer.\n\n**Output:**\n- An `Employee` object with the `name` and `salary` attributes set according to the input string.\n\n**Sample Input:**\n```\n\"John Doe,50000\"\n```\n\n**Sample Output:**\n- An `Employee` object with `name=\"John Doe\"` and `salary=50000`.", "response": "```python\nclass Employee:\n    def __init__(self, name, salary):\n        self.name = name\n        self.salary = salary\n\n    @classmethod\n    def from_string(cls, string):\n        \"\"\"\n        Create an Employee object from a string in the format \"name,salary\".\n        \n        :param string: A string containing the employee's name and salary separated by a comma.\n        :return: An Employee object with the specified name and salary.\n        \"\"\"\n        name, salary = string.split(',')\n        return cls(name, int(salary))\n```"}
{"prompt": "You are tasked with implementing a function `validate_ip(ip_address)` that determines if a given string `ip_address` is a valid IPv4 address. A valid IPv4 address consists of four octets, each ranging from 0 to 255, separated by periods. The function should return `True` if the IP address is valid, and `False` otherwise. Note that octets must not contain leading zeros unless the octet is exactly \"0\". The input string may contain invalid characters or incorrect formatting.\n\n**Sample Input and Output:**\n- Input: `\"192.168.1.1\"`\n  - Output: `True`\n- Input: `\"256.100.50.25\"`\n  - Output: `False`\n- Input: `\"192.168.01.1\"`\n  - Output: `False`\n- Input: `\"192.168.1.1.1\"`\n  - Output: `False`\n- Input: `\"192.168.1\"`\n  - Output: `False`\n- Input: `\"192.168.1.a\"`\n  - Output: `False`", "response": "```python\ndef validate_ip(ip_address):\n    \"\"\"\n    Validates if the given string is a valid IPv4 address.\n    \n    Parameters:\n    ip_address (str): The IP address to validate.\n    \n    Returns:\n    bool: True if the IP address is valid, False otherwise.\n    \"\"\"\n    # Split the IP address by periods\n    octets = ip_address.split('.')\n    \n    # Check if there are exactly 4 octets\n    if len(octets) != 4:\n        return False\n    \n    for octet in octets:\n        # Check if the octet is a digit and not empty\n        if not octet.isdigit() or not octet:\n            return False\n        \n        # Convert octet to an integer\n        num = int(octet)\n        \n        # Check if the number is in the range 0-255\n        if num < 0 or num > 255:\n            return False\n        \n        # Check for leading zeros\n        if octet != str(num):\n            return False\n    \n    return True\n```"}
{"prompt": "You are given a CSV file named `employees.csv` with the following columns: `employee_id`, `department`, and `salary`. Your task is to write a Python script that reads this file and calculates the total salary for each department. The output should be formatted as \"Department: Total Salary\" for each department that has at least one employee. Departments with no employees should not be included in the output.\n\n**Sample Input:**\n```\nemployee_id,department,salary\n1,Engineering,75000\n2,Engineering,85000\n3,HR,50000\n4,Marketing,60000\n5,HR,55000\n```\n\n**Sample Output:**\n```\nDepartment: Engineering, Total Salary: 160000.0\nDepartment: HR, Total Salary: 105000.0\nDepartment: Marketing, Total Salary: 60000.0\n```", "response": "```python\nimport csv\nfrom collections import defaultdict\n\ndef calculate_total_salary_by_department(file_path):\n    \"\"\"\n    Reads a CSV file and calculates the total salary for each department.\n\n    Parameters:\n    file_path (str): The path to the CSV file.\n\n    Returns:\n    None: Prints the total salary for each department with at least one employee.\n    \"\"\"\n    department_salaries = defaultdict(int)\n    \n    with open(file_path, mode='r', newline='') as file:\n        reader = csv.DictReader(file)\n        \n        for row in reader:\n            department = row['department']\n            salary = float(row['salary'])\n            department_salaries[department] += salary\n    \n    for department, total_salary in department_salaries.items():\n        print(f\"Department: {department}, Total Salary: {total_salary}\")\n\n# Example usage\ncalculate_total_salary_by_department('employees.csv')\n```"}
{"prompt": "Implement a Python class `Car` with the following specifications:\n\n- The class should have an initializer `__init__` that accepts six parameters: `make`, `model`, `year`, `mileage`, `color`, and `price`. These parameters should be stored as instance variables.\n- Implement a method `__str__` that returns a string representation of the car in the format: `Car(make=<make>, model=<model>, year=<year>, mileage=<mileage>, color=<color>, price=<price>)`.\n- Implement a method `paint` that takes a parameter `new_color` and updates the car's color to the new color.\n- Implement a method `drive` that takes a parameter `miles` and increases the car's mileage by the specified number of miles.\n- Implement a method `update_price` that takes a parameter `new_price` and updates the car's price to the new price.\n\n**Sample Input:**\n```python\ncar = Car(\"Toyota\", \"Corolla\", 2020, 15000, \"red\", 18000)\nprint(car)\ncar.paint(\"blue\")\ncar.drive(500)\ncar.update_price(17500)\nprint(car)\n```\n\n**Sample Output:**\n```\nCar(make=Toyota, model=Corolla, year=2020, mileage=15000, color=red, price=18000)\nCar(make=Toyota, model=Corolla, year=2020, mileage=15500, color=blue, price=17500)\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, mileage, color, price):\n        \"\"\"\n        Initializes a new Car instance with the given attributes.\n\n        :param make: The manufacturer of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        :param mileage: The current mileage of the car.\n        :param color: The current color of the car.\n        :param price: The current price of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.mileage = mileage\n        self.color = color\n        self.price = price\n\n    def __str__(self):\n        \"\"\"\n        Returns a string representation of the car.\n\n        :return: A string describing the car's attributes.\n        \"\"\"\n        return (f\"Car(make={self.make}, model={self.model}, year={self.year}, \"\n                f\"mileage={self.mileage}, color={self.color}, price={self.price})\")\n\n    def paint(self, new_color):\n        \"\"\"\n        Updates the color of the car.\n\n        :param new_color: The new color to paint the car.\n        \"\"\"\n        self.color = new_color\n\n    def drive(self, miles):\n        \"\"\"\n        Increases the mileage of the car by the specified number of miles.\n\n        :param miles: The number of miles driven.\n        \"\"\"\n        self.mileage += miles\n\n    def update_price(self, new_price):\n        \"\"\"\n        Updates the price of the car.\n\n        :param new_price: The new price of the car.\n        \"\"\"\n        self.price = new_price\n```"}
{"prompt": "You are participating in a text classification challenge where your task is to develop a spam detection system. Given a dataset of text documents labeled as \"spam\" or \"ham\", your goal is to implement a function that trains a Naive Bayes classifier using scikit-learn. Your function should take a list of documents and their corresponding labels as input and return the trained classifier.\n\n**Input:**\n- `documents`: A list of strings, where each string is a text document.\n- `labels`: A list of strings, where each string is either \"spam\" or \"ham\", corresponding to the label of each document in `documents`.\n\n**Output:**\n- A trained `MultinomialNB` classifier.\n\n**Sample Input:**\n```python\ndocuments = [\"Free money now!!!\", \"Hi Bob, how about a game of golf tomorrow?\", \"Win a free iPhone now!!!\"]\nlabels = [\"spam\", \"ham\", \"spam\"]\n```\n\n**Sample Output:**\n- A trained `MultinomialNB` classifier object.", "response": "```python\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\n\ndef train_spam_classifier(documents, labels):\n    \"\"\"\n    Trains a Naive Bayes classifier to classify text documents as 'spam' or 'ham'.\n    \n    Parameters:\n    documents (list of str): A list of text documents.\n    labels (list of str): A list of labels ('spam' or 'ham') corresponding to each document.\n    \n    Returns:\n    MultinomialNB: A trained Naive Bayes classifier.\n    \"\"\"\n    vectorizer = CountVectorizer()\n    X = vectorizer.fit_transform(documents)\n    classifier = MultinomialNB()\n    classifier.fit(X, labels)\n    return classifier\n```"}
{"prompt": "You are given a string `text`. Your task is to write a Python function that generates a bar chart using `matplotlib` to visualize the frequency of the 10 most frequent words in the text. The function should handle cases where the input text is empty or contains only whitespace characters. If there are fewer than 10 unique words, the bar chart should display all available words.\n\n**Input:**\n- A single string `text` (0 \u2264 len(text) \u2264 1000).\n\n**Output:**\n- A bar chart displaying the 10 most frequent words and their frequencies. If there are fewer than 10 unique words, display all available words.\n\n**Sample Input:**\n```\n\"In computer science, computer programming is the process of designing and building an executable computer program\"\n```\n\n**Sample Output:**\n- A bar chart with words on the x-axis and their frequencies on the y-axis.", "response": "```python\nimport matplotlib.pyplot as plt\nfrom collections import Counter\nimport re\n\ndef plot_word_frequencies(text):\n    \"\"\"\n    Generates a bar chart of the 10 most frequent words in the given text.\n    \n    Parameters:\n    text (str): The input text from which to count word frequencies.\n    \"\"\"\n    # Check if the text is empty or contains only whitespace\n    if not text.strip():\n        print(\"The input text is empty or contains only whitespace.\")\n        return\n    \n    # Use regex to find words and convert them to lowercase\n    words = re.findall(r'\\b\\w+\\b', text.lower())\n    \n    # Count the frequency of each word\n    word_counts = Counter(words)\n    \n    # Get the 10 most common words\n    most_common_words = word_counts.most_common(10)\n    \n    # Unzip the words and their counts\n    words, counts = zip(*most_common_words)\n    \n    # Plotting the bar chart\n    plt.figure(figsize=(10, 6))\n    plt.bar(words, counts, color='skyblue')\n    plt.xlabel('Words')\n    plt.ylabel('Frequencies')\n    plt.title('Top 10 Most Frequent Words')\n    plt.xticks(rotation=45)\n    plt.tight_layout()\n    plt.show()\n\n# Example usage\ntext = \"In computer science, computer programming is the process of designing and building an executable computer program\"\nplot_word_frequencies(text)\n```"}
{"prompt": "Implement the `merge_sort` function in Python, which sorts a given list of integers in ascending order using the merge sort algorithm. The function should handle lists of any size, including empty lists and lists with a single element. Your implementation should recursively divide the list into halves, sort each half, and then merge the sorted halves.\n\n**Input:**\n- A list of integers `arr` (0 \u2264 len(arr) \u2264 10^4), where each integer `arr[i]` satisfies -10^9 \u2264 arr[i] \u2264 10^9.\n\n**Output:**\n- A new list containing the integers from `arr` sorted in ascending order.\n\n**Sample Input:**\n```\n[38, 27, 43, 3, 9, 82, 10]\n```\n\n**Sample Output:**\n```\n[3, 9, 10, 27, 38, 43, 82]\n```", "response": "```python\ndef merge_sort(arr):\n    \"\"\"\n    Sorts a list of integers in ascending order using the merge sort algorithm.\n\n    Parameters:\n    arr (list): A list of integers to be sorted.\n\n    Returns:\n    list: A new list containing the integers from arr sorted in ascending order.\n    \"\"\"\n    if len(arr) <= 1:\n        return arr\n\n    mid = len(arr) // 2\n    left_half = arr[:mid]\n    right_half = arr[mid:]\n\n    sorted_left = merge_sort(left_half)\n    sorted_right = merge_sort(right_half)\n\n    return merge(sorted_left, sorted_right)\n\ndef merge(left, right):\n    \"\"\"\n    Merges two sorted lists into a single sorted list.\n\n    Parameters:\n    left (list): The first sorted list.\n    right (list): The second sorted list.\n\n    Returns:\n    list: A new list containing all elements from left and right in sorted order.\n    \"\"\"\n    sorted_list = []\n    left_index = right_index = 0\n\n    while left_index < len(left) and right_index < len(right):\n        if left[left_index] <= right[right_index]:\n            sorted_list.append(left[left_index])\n            left_index += 1\n        else:\n            sorted_list.append(right[right_index])\n            right_index += 1\n\n    while left_index < len(left):\n        sorted_list.append(left[left_index])\n        left_index += 1\n\n    while right_index < len(right):\n        sorted_list.append(right[right_index])\n        right_index += 1\n\n    return sorted_list\n\n# Example usage:\n# arr = [38, 27, 43, 3, 9, 82, 10]\n# print(merge_sort(arr))  # Output: [3, 9, 10, 27, 38, 43, 82]\n```"}
{"prompt": "You are given a string `s`. Your task is to find the longest palindromic substring within `s`. If there are multiple palindromic substrings of the same maximum length, return any one of them. The input string `s` consists of lowercase English letters and has a length between 1 and 1000.\n\n**Sample Input:**\n```\nbabad\n```\n\n**Sample Output:**\n```\nbab\n```\nor\n```\naba\n```", "response": "```python\ndef longest_palindrome(s: str) -> str:\n    \"\"\"\n    Finds the longest palindromic substring in the given string s.\n    \n    :param s: Input string consisting of lowercase English letters.\n    :return: The longest palindromic substring in s.\n    \"\"\"\n    def expand_around_center(left: int, right: int) -> str:\n        \"\"\"\n        Expands around the center indices left and right to find the longest palindrome.\n        \n        :param left: Left index of the center.\n        :param right: Right index of the center.\n        :return: The longest palindromic substring centered at left and right.\n        \"\"\"\n        while left >= 0 and right < len(s) and s[left] == s[right]:\n            left -= 1\n            right += 1\n        return s[left + 1:right]\n\n    if not s:\n        return \"\"\n\n    longest = \"\"\n    for i in range(len(s)):\n        # Odd length palindromes\n        palindrome1 = expand_around_center(i, i)\n        # Even length palindromes\n        palindrome2 = expand_around_center(i, i + 1)\n\n        # Update longest palindrome found\n        if len(palindrome1) > len(longest):\n            longest = palindrome1\n        if len(palindrome2) > len(longest):\n            longest = palindrome2\n\n    return longest\n```"}
{"prompt": "You are tasked with implementing a simple command-line calculator that supports basic arithmetic operations: addition, subtraction, multiplication, and division. Your program should prompt the user to select an operation and input two numbers. It should then output the result of the operation. If the user selects division and the second number is zero, the program should output \"Error! Division by zero.\" If the user inputs an invalid operation choice, the program should output \"Invalid Input.\"\n\n**Sample Input:**\n```\n1\n5\n3\n```\n**Sample Output:**\n```\n5 + 3 = 8\n```\n\n**Sample Input:**\n```\n4\n10\n0\n```\n**Sample Output:**\n```\n10 / 0 = Error! Division by zero.\n```\n\n**Sample Input:**\n```\n5\n2\n3\n```\n**Sample Output:**\n```\nInvalid Input\n```", "response": "```python\ndef add(x, y):\n    \"\"\"Return the sum of x and y.\"\"\"\n    return x + y\n\ndef subtract(x, y):\n    \"\"\"Return the difference of x and y.\"\"\"\n    return x - y\n\ndef multiply(x, y):\n    \"\"\"Return the product of x and y.\"\"\"\n    return x * y\n\ndef divide(x, y):\n    \"\"\"Return the quotient of x and y, or an error message if y is zero.\"\"\"\n    if y == 0:\n        return \"Error! Division by zero.\"\n    else:\n        return x / y\n\ndef calculator():\n    \"\"\"Prompt the user for an arithmetic operation and two numbers, then display the result.\"\"\"\n    print(\"Select operation:\")\n    print(\"1.Add\")\n    print(\"2.Subtract\")\n    print(\"3.Multiply\")\n    print(\"4.Divide\")\n\n    choice = input(\"Enter choice(1/2/3/4): \")\n\n    if choice in ['1', '2', '3', '4']:\n        num1 = float(input(\"Enter first number: \"))\n        num2 = float(input(\"Enter second number: \"))\n\n        if choice == '1':\n            print(f\"{num1} + {num2} = {add(num1, num2)}\")\n\n        elif choice == '2':\n            print(f\"{num1} - {num2} = {subtract(num1, num2)}\")\n\n        elif choice == '3':\n            print(f\"{num1} * {num2} = {multiply(num1, num2)}\")\n\n        elif choice == '4':\n            result = divide(num1, num2)\n            print(f\"{num1} / {num2} = {result}\")\n\n    else:\n        print(\"Invalid Input\")\n\nif __name__ == \"__main__\":\n    calculator()\n```"}
{"prompt": "You are given a list of tuples, where each tuple consists of two elements. Your task is to implement a function `convert_list_to_dict` that transforms this list into a dictionary. Each tuple should be treated as a key-value pair in the dictionary. In the event of duplicate keys, the value from the last occurrence of the key should be retained.\n\n**Input:**\n- A list of tuples, where each tuple contains exactly two elements.\n\n**Output:**\n- A dictionary constructed from the list of tuples, with the last occurrence of each key determining its value.\n\n**Sample Input:**\n```python\n[('apple', 2), ('banana', 3), ('apple', 5)]\n```\n\n**Sample Output:**\n```python\n{'apple': 5, 'banana': 3}\n```", "response": "```python\ndef convert_list_to_dict(tuple_list):\n    \"\"\"\n    Converts a list of tuples into a dictionary, with each tuple representing a key-value pair.\n    In case of duplicate keys, the value from the last occurrence of the key is retained.\n\n    :param tuple_list: List of tuples, where each tuple contains two elements (key, value).\n    :return: Dictionary constructed from the list of tuples.\n    \"\"\"\n    return dict(tuple_list)\n```"}
{"prompt": "Implement a Python class `Circle` with the following specifications:\n\n- **Constructor (`__init__`)**: Accepts a single parameter `radius` and initializes an instance variable with this value.\n- **Method (`area`)**: Computes and returns the area of the circle using the formula \\( A = \\pi r^2 \\).\n- **Method (`circumference`)**: Computes and returns the circumference of the circle using the formula \\( C = 2\\pi r \\).\n\n**Input:**\n- The `__init__` method will be called with a single floating-point number representing the radius of the circle.\n\n**Output:**\n- The `area` method should return a floating-point number representing the area of the circle.\n- The `circumference` method should return a floating-point number representing the circumference of the circle.\n\n**Sample Input/Output:**\n- For a circle with radius `3.0`:\n  - `area()` should return `28.274333882308138`.\n  - `circumference()` should return `18.84955592153876`.", "response": "```python\nimport math\n\nclass Circle:\n    def __init__(self, radius):\n        \"\"\"\n        Initializes the Circle with a given radius.\n\n        :param radius: The radius of the circle.\n        \"\"\"\n        self.radius = radius\n    \n    def area(self):\n        \"\"\"\n        Calculates the area of the circle.\n\n        :return: The area of the circle.\n        \"\"\"\n        return math.pi * self.radius ** 2\n    \n    def circumference(self):\n        \"\"\"\n        Calculates the circumference of the circle.\n\n        :return: The circumference of the circle.\n        \"\"\"\n        return 2 * math.pi * self.radius\n```"}
{"prompt": "You are given a binary tree with `n` nodes. Each node has an integer value, a left child, and a right child. Your task is to determine the maximum depth of the tree. The maximum depth is defined as the number of nodes along the longest path from the root node down to the farthest leaf node. Implement a function `maxDepth` that takes the root of the tree as input and returns an integer representing the maximum depth.\n\n**Input:**\n- The input is a binary tree. The root node is provided as an argument to the function `maxDepth`.\n\n**Output:**\n- Return an integer representing the maximum depth of the binary tree.\n\n**Sample Input:**\n```\n    3\n   / \\\n  9  20\n    /  \\\n   15   7\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\nclass TreeNode:\n    def __init__(self, value=0, left=None, right=None):\n        self.value = value\n        self.left = left\n        self.right = right\n\ndef maxDepth(root):\n    \"\"\"\n    Calculate the maximum depth of a binary tree.\n\n    :param root: TreeNode, the root of the binary tree\n    :return: int, the maximum depth of the tree\n    \"\"\"\n    if root is None:\n        return 0\n    else:\n        left_depth = maxDepth(root.left)\n        right_depth = maxDepth(root.right)\n        return max(left_depth, right_depth) + 1\n```"}
{"prompt": "You are given two lists of integers, `list1` and `list2`. Your task is to write a Python function `get_common_elements(list1, list2)` that returns a set containing the common elements between the two lists. The function should be optimized for large lists, utilizing the most efficient algorithm and data structures.\n\n**Input:**\n- Two lists of integers, `list1` and `list2`.\n\n**Output:**\n- A set of integers representing the common elements between `list1` and `list2`.\n\n**Sample Input:**\n- `list1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]`\n- `list2 = [5, 6, 7, 8, 9, 10, 11, 12, 13, 14]`\n\n**Sample Output:**\n- `{5, 6, 7, 8, 9, 10}`", "response": "```python\ndef get_common_elements(list1, list2):\n    \"\"\"\n    Returns a set containing the common elements between two lists.\n    \n    Parameters:\n    list1 (list): The first list of integers.\n    list2 (list): The second list of integers.\n    \n    Returns:\n    set: A set of integers representing the common elements.\n    \"\"\"\n    set1 = set(list1)\n    set2 = set(list2)\n    return set1.intersection(set2)\n\n# Example usage\nlist1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\nlist2 = [5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\nprint(get_common_elements(list1, list2))  # Output: {5, 6, 7, 8, 9, 10}\n```"}
{"prompt": "You are given an undirected graph represented as an adjacency list using a dictionary of sets. Your task is to determine whether the graph contains a cycle. The graph consists of `N` nodes labeled from `0` to `N-1`. Each node has a list of adjacent nodes. Write a function `has_cycle(graph)` that returns `True` if the graph contains a cycle, and `False` otherwise.\n\n**Input:**\n- A dictionary `graph` where each key is a node and each value is a set of adjacent nodes.\n\n**Output:**\n- A boolean value indicating whether the graph contains a cycle.\n\n**Sample Input 1:**\n```python\ngraph = {\n    0: {1, 2},\n    1: {0, 3},\n    2: {0, 4},\n    3: {1},\n    4: {2}\n}\n```\n**Sample Output 1:**\n```\nFalse\n```\n\n**Sample Input 2:**\n```python\ncyclic_graph = {\n    0: {1, 2},\n    1: {0, 3},\n    2: {0, 4},\n    3: {1, 2},  # Cycle created here\n    4: {2}\n}\n```\n**Sample Output 2:**\n```\nTrue\n```", "response": "```python\ndef has_cycle(graph):\n    \"\"\"\n    Determines if the given undirected graph contains a cycle.\n\n    :param graph: A dictionary representing the graph as an adjacency list.\n    :return: True if the graph contains a cycle, False otherwise.\n    \"\"\"\n    def dfs(node, parent, visited):\n        visited.add(node)\n        for neighbor in graph[node]:\n            if neighbor not in visited:\n                if dfs(neighbor, node, visited):\n                    return True\n            elif neighbor != parent:\n                return True\n        return False\n\n    visited = set()\n    for node in graph:\n        if node not in visited:\n            if dfs(node, None, visited):\n                return True\n    return False\n\n# Example usage:\ngraph = {\n    0: {1, 2},\n    1: {0, 3},\n    2: {0, 4},\n    3: {1},\n    4: {2}\n}\n\nprint(has_cycle(graph))  # Output: False\n\n# Example with a cycle:\ncyclic_graph = {\n    0: {1, 2},\n    1: {0, 3},\n    2: {0, 4},\n    3: {1, 2},  # Cycle created here\n    4: {2}\n}\n\nprint(has_cycle(cyclic_graph))  # Output: True\n```"}
{"prompt": "You are given a text file. Your task is to write a Python script that reads the file and outputs the top 10 most frequent words along with their counts. The script should ignore case and punctuation. Assume the file exists and is accessible.\n\n**Input:**\n- A text file named `input.txt` with the following content:\n```\nHello, world! Hello, everyone. Welcome to the world of programming. Programming is fun, isn't it?\n```\n\n**Output:**\n- The top 10 most frequent words and their counts, printed in descending order of frequency. If there are ties, the words should be printed in lexicographical order.\n```\nhello: 2\nworld: 2\nprogramming: 2\nis: 1\nit: 1\nof: 1\nthe: 1\nto: 1\nfun: 1\neveryone: 1\n```", "response": "```python\nimport string\nfrom collections import Counter\n\ndef process_file(file_path):\n    \"\"\"\n    Reads a text file, counts the frequency of each word (ignoring case and punctuation),\n    and prints the top 10 most frequent words along with their counts.\n    \n    :param file_path: Path to the text file.\n    \"\"\"\n    with open(file_path, 'r') as file:\n        contents = file.read()\n    \n    contents = contents.translate(str.maketrans('', '', string.punctuation)).lower()\n    words = contents.split()\n    word_counts = Counter(words)\n    most_common_words = word_counts.most_common(10)\n    \n    for word, count in most_common_words:\n        print(f\"{word}: {count}\")\n\n# Replace 'input.txt' with the path to your file\nprocess_file('input.txt')\n```"}
{"prompt": "You are tasked with implementing a function `generate_fibonacci_sequence(n)` that computes the first `n` numbers of the Fibonacci sequence efficiently. The Fibonacci sequence is defined as follows: `F(0) = 0`, `F(1) = 1`, and `F(n) = F(n-1) + F(n-2)` for `n >= 2`. To optimize the computation, use memoization. Your function should return the sequence as a list.\n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 50), representing the number of Fibonacci numbers to generate.\n\n**Output:**\n- A list containing the first `n` numbers of the Fibonacci sequence.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n```", "response": "```python\ndef generate_fibonacci_sequence(n, memo={0: 0, 1: 1}):\n    \"\"\"\n    Generate the first n numbers of the Fibonacci sequence using memoization.\n\n    Parameters:\n    n (int): The number of Fibonacci numbers to generate.\n\n    Returns:\n    list: A list containing the first n Fibonacci numbers.\n    \"\"\"\n    if n in memo:\n        return [memo[i] for i in range(n)]\n    \n    for i in range(2, n):\n        memo[i] = memo[i-1] + memo[i-2]\n    \n    return [memo[i] for i in range(n)]\n\n# Example usage\nn = 10\nfibonacci_sequence = generate_fibonacci_sequence(n)\nprint(fibonacci_sequence)\n```"}
{"prompt": "You are given a string `s` representing a simple mathematical expression consisting of non-negative integers and the operators `+` and `-`. The expression is guaranteed to be valid and does not contain any spaces. Your task is to implement a function `evaluate_expression(s)` that evaluates the expression and returns the result as an integer. The numbers in the expression can be of arbitrary length.\n\n**Input:**\n- A string `s` (1 \u2264 |s| \u2264 10^5) representing a valid mathematical expression.\n\n**Output:**\n- An integer representing the result of the evaluated expression.\n\n**Sample Input:**\n```\n\"123+45-67+89\"\n```\n\n**Sample Output:**\n```\n180\n```", "response": "```python\ndef evaluate_expression(s):\n    \"\"\"\n    Evaluates a simple mathematical expression consisting of non-negative integers and the operators '+' and '-'.\n    \n    :param s: A string representing the mathematical expression.\n    :return: An integer representing the result of the evaluated expression.\n    \"\"\"\n    current_number = 0\n    total = 0\n    sign = 1  # 1 for positive, -1 for negative\n\n    for char in s:\n        if char.isdigit():\n            current_number = current_number * 10 + int(char)\n        else:\n            total += sign * current_number\n            current_number = 0\n            if char == '+':\n                sign = 1\n            elif char == '-':\n                sign = -1\n\n    total += sign * current_number\n\n    return total\n\n# Example usage:\nprint(evaluate_expression(\"123+45-67+89\"))  # Output: 180\n```"}
{"prompt": "You are given a list of `n` integers, where each integer represents the height of a bar in a histogram. Your task is to determine the maximum area of a rectangle that can be formed by any number of contiguous bars. Write a function `find_max_rectangle_area(heights)` that takes a list of integers `heights` as input and returns the maximum area of the rectangle that can be formed.\n\n**Input:**\n- A list of integers `heights` (1 \u2264 len(heights) \u2264 10^4), where each integer is in the range [0, 10^4].\n\n**Output:**\n- An integer representing the maximum area of the rectangle that can be formed.\n\n**Sample Input:**\n```\n[2, 1, 5, 6, 2, 3]\n```\n\n**Sample Output:**\n```\n10\n```", "response": "```python\ndef find_max_rectangle_area(heights):\n    \"\"\"\n    Calculate the maximum area of a rectangle that can be formed by any number of contiguous bars in a histogram.\n\n    :param heights: List of integers representing the heights of the bars.\n    :return: Integer representing the maximum area of the rectangle that can be formed.\n    \"\"\"\n    stack = []\n    max_area = 0\n    index = 0\n\n    while index < len(heights):\n        if not stack or heights[index] >= heights[stack[-1]]:\n            stack.append(index)\n            index += 1\n        else:\n            top_of_stack = stack.pop()\n            area = (heights[top_of_stack] *\n                    ((index - stack[-1] - 1) if stack else index))\n            max_area = max(max_area, area)\n\n    while stack:\n        top_of_stack = stack.pop()\n        area = (heights[top_of_stack] *\n                ((index - stack[-1] - 1) if stack else index))\n        max_area = max(max_area, area)\n\n    return max_area\n```"}
{"prompt": "You are tasked with writing a Python script that reads a CSV file containing product data and generates a bar chart using the `matplotlib` library to visualize the quantity of each product in stock. The CSV file will have the following columns: `product_id`, `name`, `price`, `quantity`. Your script should be able to handle large CSV files efficiently. \n\n**Input:**\n- A CSV file named `products.csv` with the following structure:\n  ```\n  product_id,name,price,quantity\n  1,ProductA,10.99,150\n  2,ProductB,19.99,200\n  3,ProductC,5.99,50\n  ...\n  ```\n\n**Output:**\n- A bar chart displayed on the screen with product names on the x-axis and their corresponding quantities in stock on the y-axis. The chart should be sorted in descending order of quantity.\n\n**Sample Input:**\n- `products.csv`:\n  ```\n  product_id,name,price,quantity\n  1,ProductA,10.99,150\n  2,ProductB,19.99,200\n  3,ProductC,5.99,50\n  ```\n\n**Sample Output:**\n- A bar chart with `ProductB`, `ProductA`, and `ProductC` on the x-axis and their quantities `200`, `150`, and `50` on the y-axis, respectively.", "response": "```python\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ndef plot_product_quantities(filename):\n    \"\"\"\n    Reads a CSV file containing product data and generates a bar chart\n    visualizing the quantity of each product in stock.\n\n    Parameters:\n    filename (str): The path to the CSV file.\n\n    Returns:\n    None\n    \"\"\"\n    # Load the CSV file in chunks\n    chunk_size = 10000\n    chunks = []\n\n    # Read the CSV file in chunks to handle large files efficiently\n    for chunk in pd.read_csv(filename, chunksize=chunk_size):\n        chunks.append(chunk)\n\n    # Concatenate all chunks into a single DataFrame\n    df = pd.concat(chunks, axis=0)\n\n    # Sort the DataFrame by 'quantity' in descending order\n    df = df.sort_values(by='quantity', ascending=False)\n\n    # Create a bar chart of product quantities\n    plt.figure(figsize=(10, 6))\n    plt.bar(df['name'], df['quantity'], color='skyblue')\n    plt.xlabel('Product Name')\n    plt.ylabel('Quantity in Stock')\n    plt.title('Product Quantities in Stock')\n    plt.xticks(rotation=90)\n    plt.tight_layout()\n    plt.show()\n\n# Example usage:\n# plot_product_quantities('products.csv')\n```"}
{"prompt": "You are given a list of integers representing the ages of a group of people. Your task is to implement a function `calculate_average_age` that computes and returns the average age of the group. Additionally, the function should return a dictionary detailing the count of individuals in each age category: under 18, 18-64, and 65 and above. The age categories should be the keys in the dictionary, with their respective counts as values.\n\n**Input:**\n- A list of integers `ages` (0 \u2264 len(ages) \u2264 1000), where each integer represents the age of a person (0 \u2264 age \u2264 120).\n\n**Output:**\n- A tuple consisting of a float representing the average age and a dictionary with the age categories as keys and their counts as values.\n\n**Sample Input:**\n```python\nages = [17, 22, 65, 45, 19, 70, 15]\n```\n\n**Sample Output:**\n```python\n(33.57142857142857, {'under 18': 3, '18-64': 3, '65 and above': 1})\n```", "response": "```python\ndef calculate_average_age(ages):\n    \"\"\"\n    Calculate the average age and count of people in each age group.\n\n    Parameters:\n    ages (list of int): A list of integers representing the ages of people.\n\n    Returns:\n    tuple: A tuple containing the average age (float) and a dictionary with age group counts.\n    \"\"\"\n    if not ages:\n        return 0.0, {'under 18': 0, '18-64': 0, '65 and above': 0}\n    \n    age_groups = {'under 18': 0, '18-64': 0, '65 and above': 0}\n    total_age = 0\n    \n    for age in ages:\n        if age < 18:\n            age_groups['under 18'] += 1\n        elif 18 <= age <= 64:\n            age_groups['18-64'] += 1\n        else:\n            age_groups['65 and above'] += 1\n        total_age += age\n    \n    average_age = total_age / len(ages)\n    \n    return average_age, age_groups\n```"}
{"prompt": "You are tasked with implementing a function `generate_api_key` that generates a secure API key. The API key must be exactly 40 characters long and must include at least one lowercase letter, one uppercase letter, one digit, and one special character. The function should return a valid API key. If the generated key does not meet the criteria, the function should regenerate it until a valid key is produced.\n\n**Sample Input:**\nNo input is required for this function.\n\n**Sample Output:**\nA valid 40-character API key, for example:\n```\naB3#xY9!mN2@qL5$rT7^wP8&zQ0*vU1\n```", "response": "```python\nimport random\nimport string\n\ndef generate_api_key(length=40):\n    \"\"\"\n    Generate a secure API key of the specified length.\n    \n    The API key must be 40 characters long and include at least one lowercase letter,\n    one uppercase letter, one digit, and one special character.\n    \n    Parameters:\n    length (int): The length of the API key to generate. Default is 40.\n    \n    Returns:\n    str: A valid API key.\n    \n    Raises:\n    ValueError: If the specified length is not 40.\n    \"\"\"\n    if length != 40:\n        raise ValueError(\"API Key length must be 40 characters.\")\n    \n    valid_characters = string.ascii_letters + string.digits + string.punctuation\n    api_key = ''.join(random.choice(valid_characters) for _ in range(length))\n    \n    if not (any(c.islower() for c in api_key) and\n            any(c.isupper() for c in api_key) and\n            any(c.isdigit() for c in api_key) and\n            any(c in string.punctuation for c in api_key)):\n        return generate_api_key()\n    \n    return api_key\n\n# Example usage:\n# print(generate_api_key())\n```"}
{"prompt": "You are tasked with implementing a function `calculate_discount` that computes the final price of an item after applying a given discount rate. The function should accept two parameters: `price`, representing the original price of the item, and `discount_rate`, representing the percentage discount to be applied. If the `discount_rate` exceeds 100%, the function should return the original price without any discount. Both `price` and `discount_rate` are guaranteed to be non-negative numbers.\n\n**Input:**\n- The function will be called with two arguments: `price` (float) and `discount_rate` (float).\n\n**Output:**\n- The function should return a float representing the discounted price.\n\n**Sample Input/Output:**\n- `calculate_discount(100.0, 20.0)` should return `80.0`.\n- `calculate_discount(200.0, 150.0)` should return `200.0`.", "response": "```python\ndef calculate_discount(price, discount_rate):\n    \"\"\"\n    Calculate the discounted price of an item.\n\n    Parameters:\n    price (float): The original price of the item.\n    discount_rate (float): The discount rate as a percentage.\n\n    Returns:\n    float: The discounted price of the item.\n    \"\"\"\n    if discount_rate > 100:\n        return price\n    return price * (1 - discount_rate / 100)\n```"}
{"prompt": "You are tasked with implementing an efficient algorithm to compute the nth Fibonacci number. The Fibonacci sequence is defined as follows: F(0) = 0, F(1) = 1, and F(n) = F(n-1) + F(n-2) for n > 1. Your solution should utilize dynamic programming to handle large values of n efficiently.\n\n**Input:**\n- A single integer `n` (0 \u2264 n \u2264 10^6), representing the position in the Fibonacci sequence.\n\n**Output:**\n- A single integer, the nth Fibonacci number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef fibonacci(n):\n    \"\"\"\n    Computes the nth Fibonacci number using dynamic programming.\n    \n    Parameters:\n    n (int): The position in the Fibonacci sequence (0 \u2264 n \u2264 10^6).\n    \n    Returns:\n    int: The nth Fibonacci number.\n    \"\"\"\n    if n <= 0:\n        return 0\n    elif n == 1:\n        return 1\n    \n    fib = [0] * (n + 1)\n    fib[1] = 1\n    \n    for i in range(2, n + 1):\n        fib[i] = fib[i - 1] + fib[i - 2]\n    \n    return fib[n]\n```"}
{"prompt": "You are given a list of strings. Your task is to clean each string by performing the following operations in order:\n1. Remove any leading and trailing whitespace.\n2. Convert all characters to lowercase.\n3. Replace sequences of spaces with a single space.\n4. Remove all punctuation characters.\n\nWrite a Python function `clean_strings(strings)` that takes a list of strings as input and returns a new list of cleaned strings.\n\n**Sample Input:**\n```python\n[\"  Hello, World!  \", \"Python is great.\", \"Clean  this_string!\"]\n```\n\n**Sample Output:**\n```python\n['hello world', 'python is great', 'clean thisstring']\n```", "response": "```python\nimport string\n\ndef clean_strings(strings):\n    \"\"\"\n    Cleans a list of strings by removing leading/trailing whitespace, converting to lowercase,\n    replacing sequences of spaces with a single space, and removing punctuation.\n\n    :param strings: List of strings to be cleaned.\n    :return: List of cleaned strings.\n    \"\"\"\n    result = []\n    for s in strings:\n        s = s.strip().lower()\n        s = ' '.join(s.split())\n        s = s.translate(str.maketrans('', '', string.punctuation))\n        result.append(s)\n    return result\n\n# Example usage:\nstrings = [\"  Hello, World!  \", \"Python is great.\", \"Clean  this_string!\"]\ncleaned_strings = clean_strings(strings)\nprint(cleaned_strings)\n```"}
{"prompt": "You are given a list of integers. Your task is to implement a function `remove_duplicates` that removes all duplicate elements from the list while preserving the original order of the elements. The function should return the modified list.\n\n**Input:**\n- A list of integers `input_list` (1 \u2264 len(input_list) \u2264 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers with duplicates removed, maintaining the original order.\n\n**Sample Input:**\n```python\n[1, 2, 3, 2, 1, 4, 5]\n```\n\n**Sample Output:**\n```python\n[1, 2, 3, 4, 5]\n```", "response": "```python\ndef remove_duplicates(input_list):\n    \"\"\"\n    Removes all duplicate elements from the input list while preserving the original order.\n\n    Parameters:\n    input_list (list of int): The list of integers from which duplicates are to be removed.\n\n    Returns:\n    list of int: A list of integers with duplicates removed, maintaining the original order.\n    \"\"\"\n    seen = set()\n    result = []\n    for item in input_list:\n        if item not in seen:\n            seen.add(item)\n            result.append(item)\n    return result\n```"}
{"prompt": "You are tasked with implementing a function `read_csv` that processes a CSV file and returns a list of dictionaries. Each dictionary corresponds to a row in the CSV file, with the keys derived from the header row. The CSV file can have any number of columns. Your function should handle the file reading and parsing efficiently.\n\n**Input:**\n- A string `file_path` representing the path to the CSV file.\n- The CSV file will have a header row, which contains the keys for the dictionaries.\n- Each subsequent row in the CSV file will contain values corresponding to the headers.\n\n**Output:**\n- A list of dictionaries, where each dictionary represents a row in the CSV file.\n\n**Sample Input:**\nGiven a CSV file `data.csv` with the following content:\n```\nname,age,city\nAlice,30,New York\nBob,25,Los Angeles\nCharlie,35,Chicago\n```\n\n**Sample Output:**\n```python\n[\n    {'name': 'Alice', 'age': '30', 'city': 'New York'},\n    {'name': 'Bob', 'age': '25', 'city': 'Los Angeles'},\n    {'name': 'Charlie', 'age': '35', 'city': 'Chicago'}\n]\n```", "response": "```python\nimport csv\n\ndef read_csv(file_path):\n    \"\"\"\n    Reads a CSV file and returns a list of dictionaries, where each dictionary\n    represents a row in the CSV file. The first row of the CSV file is treated\n    as the header row, which contains the keys for the dictionaries.\n\n    :param file_path: A string representing the path to the CSV file.\n    :return: A list of dictionaries, each corresponding to a row in the CSV file.\n    \"\"\"\n    with open(file_path, mode='r', newline='') as file:\n        csv_reader = csv.DictReader(file)\n        return [row for row in csv_reader]\n```"}
{"prompt": "You are given two lists of integers, `list1` and `list2`, each containing `n` elements. Your task is to write a function that returns a new list where each element is the product of the corresponding elements from `list1` and `list2`. The function should be optimized for performance.\n\n**Input:**\n- Two lists of integers, `list1` and `list2`, of equal length `n` (1 \u2264 n \u2264 10^5).\n- Each element in the lists is an integer in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers where each element is the product of the corresponding elements from `list1` and `list2`.\n\n**Sample Input:**\n```\nlist1 = [1, 2, 3, 4]\nlist2 = [5, 6, 7, 8]\n```\n\n**Sample Output:**\n```\n[5, 12, 21, 32]\n```", "response": "```python\ndef multiply_lists(list1, list2):\n    \"\"\"\n    Multiplies corresponding elements of two lists and returns a new list with the results.\n\n    :param list1: List of integers.\n    :param list2: List of integers.\n    :return: List of integers where each element is the product of corresponding elements from list1 and list2.\n    \"\"\"\n    return [a * b for a, b in zip(list1, list2)]\n```"}
{"prompt": "Given two integers `a` and `b` (1 \u2264 a \u2264 b \u2264 10^6), write a Python function `find_primes_in_range(a, b)` that returns a list of all prime numbers within the inclusive range `[a, b]`.\n\n**Sample Input:**\n```\n10 30\n```\n\n**Sample Output:**\n```\n[11, 13, 17, 19, 23, 29]\n```", "response": "```python\ndef find_primes_in_range(a, b):\n    \"\"\"\n    Returns a list of all prime numbers within the inclusive range [a, b].\n\n    Parameters:\n    a (int): The lower bound of the range.\n    b (int): The upper bound of the range.\n\n    Returns:\n    list: A list of prime numbers within the range [a, b].\n    \"\"\"\n    def is_prime(n):\n        \"\"\"\n        Checks if a number n is a prime number.\n\n        Parameters:\n        n (int): The number to check for primality.\n\n        Returns:\n        bool: True if n is a prime number, False otherwise.\n        \"\"\"\n        if n <= 1:\n            return False\n        if n <= 3:\n            return True\n        if n % 2 == 0 or n % 3 == 0:\n            return False\n        i = 5\n        while i * i <= n:\n            if n % i == 0 or n % (i + 2) == 0:\n                return False\n            i += 6\n        return True\n\n    primes = []\n    for num in range(a, b + 1):\n        if is_prime(num):\n            primes.append(num)\n    return primes\n\n# Example usage:\n# primes = find_primes_in_range(10, 30)\n# print(primes)  # Output: [11, 13, 17, 19, 23, 29]\n```"}
{"prompt": "You are given a string `s`. Your task is to write a function `longest_palindrome` that finds and returns the longest palindromic substring within `s`. If there are multiple substrings of the same maximum length, return the one that appears first in the string.\n\n**Constraints:**\n- The length of the string `s` is between 1 and 1000.\n- The string `s` consists of only lowercase English letters.\n\n**Sample Input:**\n```\n\"babad\"\n```\n\n**Sample Output:**\n```\n\"bab\"\n```\n\n**Sample Input:**\n```\n\"cbbd\"\n```\n\n**Sample Output:**\n```\n\"bb\"\n```", "response": "```python\ndef longest_palindrome(s: str) -> str:\n    \"\"\"\n    Finds the longest palindromic substring in the given string s.\n    \n    :param s: The input string.\n    :return: The longest palindromic substring.\n    \"\"\"\n    if not s:\n        return \"\"\n\n    def expand_around_center(left: int, right: int) -> str:\n        \"\"\"\n        Expands around the center indices left and right to find the longest palindrome.\n        \n        :param left: The left index of the center.\n        :param right: The right index of the center.\n        :return: The longest palindromic substring found by expanding around the center.\n        \"\"\"\n        while left >= 0 and right < len(s) and s[left] == s[right]:\n            left -= 1\n            right += 1\n        return s[left + 1:right]\n\n    longest = \"\"\n    for i in range(len(s)):\n        # Odd length palindromes\n        palindrome1 = expand_around_center(i, i)\n        # Even length palindromes\n        palindrome2 = expand_around_center(i, i + 1)\n\n        # Update longest palindrome found\n        if len(palindrome1) > len(longest):\n            longest = palindrome1\n        if len(palindrome2) > len(longest):\n            longest = palindrome2\n\n    return longest\n```"}
{"prompt": "You are given a list of dictionaries `dicts` and a list of keys `keys`. Your task is to implement a function `filter_dicts` that constructs a new list of dictionaries, each containing only the key-value pairs from the original dictionaries where the key is present in the `keys` list. The order of dictionaries and the order of keys in the resulting dictionaries should match their order in the input.\n\n**Input:**\n- `dicts`: A list of dictionaries.\n- `keys`: A list of keys to be included in the output dictionaries.\n\n**Output:**\n- A list of dictionaries, each containing only the specified keys.\n\n**Sample Input:**\n```python\ndicts = [{'name': 'Alice', 'age': 25, 'city': 'New York'}, {'name': 'Bob', 'age': 30, 'city': 'Paris'}]\nkeys = ['name', 'city']\n```\n\n**Sample Output:**\n```python\n[{'name': 'Alice', 'city': 'New York'}, {'name': 'Bob', 'city': 'Paris'}]\n```", "response": "```python\ndef filter_dicts(dicts, keys):\n    \"\"\"\n    Filters a list of dictionaries to include only the specified keys.\n\n    Parameters:\n    dicts (list of dict): The list of dictionaries to filter.\n    keys (list): The list of keys to include in the filtered dictionaries.\n\n    Returns:\n    list of dict: A new list of dictionaries containing only the specified keys.\n    \"\"\"\n    return [{key: d[key] for key in keys if key in d} for d in dicts]\n```"}
{"prompt": "You are tasked with implementing a function `read_json` that reads a JSON file from a given file path and returns the data as a nested dictionary. Your function should handle standard JSON formatting and be able to process files containing complex nested structures.\n\n**Function Signature:**\n```python\ndef read_json(file_path: str) -> dict:\n```\n\n**Input:**\n- A string `file_path` representing the path to a JSON file.\n\n**Output:**\n- A nested dictionary representing the JSON data.\n\n**Sample Input:**\nGiven a JSON file `data.json` with the following content:\n```json\n{\n    \"name\": \"John Doe\",\n    \"age\": 30,\n    \"children\": [\n        {\n            \"name\": \"Jane Doe\",\n            \"age\": 10\n        },\n        {\n            \"name\": \"Doe Junior\",\n            \"age\": 7\n        }\n    ],\n    \"married\": true\n}\n```\n\n**Sample Output:**\n```python\n{\n    'name': 'John Doe',\n    'age': 30,\n    'children': [\n        {'name': 'Jane Doe', 'age': 10},\n        {'name': 'Doe Junior', 'age': 7}\n    ],\n    'married': True\n}\n```", "response": "```python\nimport json\n\ndef read_json(file_path: str) -> dict:\n    \"\"\"\n    Reads a JSON file from the given file path and returns the data as a nested dictionary.\n\n    :param file_path: A string representing the path to a JSON file.\n    :return: A nested dictionary representing the JSON data.\n    \"\"\"\n    with open(file_path, 'r') as file:\n        data = json.load(file)\n    return data\n```"}
{"prompt": "You are given a function `divide_numbers(a, b)` that is supposed to return the result of dividing `a` by `b`. However, the function needs to be enhanced to handle potential errors gracefully. Specifically, it should return a meaningful error message if `b` is zero or if either `a` or `b` is not a number. Implement the modified function.\n\n**Sample Input 1:**\n```\ndivide_numbers(10, 2)\n```\n**Sample Output 1:**\n```\n5.0\n```\n\n**Sample Input 2:**\n```\ndivide_numbers(10, 0)\n```\n**Sample Output 2:**\n```\nError: Division by zero is not allowed.\n```\n\n**Sample Input 3:**\n```\ndivide_numbers(10, 'a')\n```\n**Sample Output 3:**\n```\nError: Invalid input type. Please provide numbers.\n```", "response": "```python\ndef divide_numbers(a, b):\n    \"\"\"\n    Divides two numbers and handles potential errors.\n\n    Parameters:\n    a (int, float): The numerator.\n    b (int, float): The denominator.\n\n    Returns:\n    float: The result of the division if successful.\n    str: An error message if an error occurs.\n    \"\"\"\n    try:\n        result = a / b\n    except ZeroDivisionError:\n        return \"Error: Division by zero is not allowed.\"\n    except TypeError:\n        return \"Error: Invalid input type. Please provide numbers.\"\n    else:\n        return result\n```"}
{"prompt": "You are tasked with implementing a `Matrix` class in Python that supports basic matrix operations. The class should have the following functionalities:\n\n- **Initialization (`__init__`)**: Accepts a 2D list (list of lists) representing the matrix.\n- **Transpose (`transpose`)**: Returns a new `Matrix` object that is the transpose of the current matrix.\n- **Matrix Multiplication (`multiply`)**: Takes another `Matrix` object as input and returns a new `Matrix` object representing the product of the two matrices. If the matrices cannot be multiplied, raise a `ValueError`.\n- **Determinant (`determinant`)**: Returns the determinant of the matrix. If the matrix is not square, raise a `ValueError`.\n- **Square Check (`is_square`)**: Returns `True` if the matrix is square, `False` otherwise.\n\n**Sample Input/Output:**\n\n```python\n# Example 1:\nmatrix1 = Matrix([[1, 2], [3, 4]])\nmatrix2 = Matrix([[2, 0], [1, 2]])\n\n# Transpose\nprint(matrix1.transpose().data)  # Output: [[1, 3], [2, 4]]\n\n# Multiply\nprint(matrix1.multiply(matrix2).data)  # Output: [[4, 4], [10, 8]]\n\n# Determinant\nprint(matrix1.determinant())  # Output: -2\n\n# Is Square\nprint(matrix1.is_square())  # Output: True\n\n# Example 2:\nmatrix3 = Matrix([[1, 2, 3], [4, 5, 6]])\n\n# Transpose\nprint(matrix3.transpose().data)  # Output: [[1, 4], [2, 5], [3, 6]]\n\n# Multiply (should raise ValueError)\ntry:\n    matrix1.multiply(matrix3)\nexcept ValueError as e:\n    print(e)  # Output: Number of columns in the first matrix must be equal to the number of rows in the second matrix\n\n# Determinant (should raise ValueError)\ntry:\n    matrix3.determinant()\nexcept ValueError as e:\n    print(e)  # Output: Determinant is only defined for square matrices\n\n# Is Square\nprint(matrix3.is_square())  # Output: False\n```", "response": "```python\nclass Matrix:\n    def __init__(self, data):\n        \"\"\"\n        Initializes a Matrix object with the given 2D list.\n        \n        :param data: List of lists representing the matrix.\n        \"\"\"\n        self.data = data\n        self.rows = len(data)\n        self.cols = len(data[0]) if data else 0\n\n    def transpose(self):\n        \"\"\"\n        Returns the transpose of the matrix as a new Matrix object.\n        \n        :return: Transposed Matrix object.\n        \"\"\"\n        transposed = [[self.data[j][i] for j in range(self.rows)] for i in range(self.cols)]\n        return Matrix(transposed)\n\n    def multiply(self, other):\n        \"\"\"\n        Multiplies the current matrix with another Matrix object.\n        \n        :param other: Matrix object to multiply with.\n        :return: Product Matrix object.\n        :raises ValueError: If the matrices cannot be multiplied.\n        \"\"\"\n        if self.cols != other.rows:\n            raise ValueError(\"Number of columns in the first matrix must be equal to the number of rows in the second matrix\")\n\n        result = [[sum(self.data[i][k] * other.data[k][j] for k in range(self.cols)) for j in range(other.cols)] for i in range(self.rows)]\n        return Matrix(result)\n\n    def determinant(self):\n        \"\"\"\n        Returns the determinant of the matrix.\n        \n        :return: Determinant of the matrix.\n        :raises ValueError: If the matrix is not square.\n        \"\"\"\n        if not self.is_square():\n            raise ValueError(\"Determinant is only defined for square matrices\")\n\n        def det(matrix):\n            if len(matrix) == 1:\n                return matrix[0][0]\n            if len(matrix) == 2:\n                return matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0]\n            det_val = 0\n            for c in range(len(matrix)):\n                det_val += ((-1) ** c) * matrix[0][c] * det([row[:c] + row[c+1:] for row in matrix[1:]])\n            return det_val\n\n        return det(self.data)\n\n    def is_square(self):\n        \"\"\"\n        Checks if the matrix is square.\n        \n        :return: True if the matrix is square, False otherwise.\n        \"\"\"\n        return self.rows == self.cols\n```"}
{"prompt": "You are tasked with implementing a function `calculate_factorial` in Python that computes the factorial of a given non-negative integer `n` using recursion. Your function must handle the base case correctly and include a docstring for documentation. If the input is a negative integer, your function should raise a `ValueError`.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n120\n```", "response": "```python\ndef calculate_factorial(n):\n    \"\"\"\n    Calculates the factorial of a non-negative integer n using recursion.\n\n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n\n    Returns:\n    int: The factorial of the integer n.\n\n    Raises:\n    ValueError: If n is a negative integer.\n    \"\"\"\n    if n < 0:\n        raise ValueError(\"Input must be a non-negative integer\")\n    if n == 0 or n == 1:\n        return 1\n    return n * calculate_factorial(n - 1)\n```"}
{"prompt": "You are given a list of integers representing daily temperatures recorded over a month. Your task is to implement a function `calculate_average_temperature` that computes the average temperature for the month. The function should return a string indicating the average temperature rounded to two decimal places, followed by a warning message based on the average temperature:\n- If the average temperature is above 30 degrees Celsius, return \"Warning: Hot weather ahead!\".\n- If the average temperature is below 15 degrees Celsius, return \"Warning: Cold weather ahead!\".\n- If the average temperature is between 15 and 30 degrees Celsius, return \"Weather is moderate.\".\n- If the input list is empty, return \"No temperature data provided.\".\n\n**Sample Input:**\n```\n[22, 25, 19, 30, 28, 31, 24, 27, 18, 21, 29, 26, 20, 23, 32, 33, 34, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\n```\n\n**Sample Output:**\n```\nAverage temperature: 18.50\u00b0C\nWeather is moderate.\n```", "response": "```python\ndef calculate_average_temperature(temperatures):\n    \"\"\"\n    Calculate the average temperature from a list of daily temperatures and return a warning message based on the average.\n\n    :param temperatures: List of integers representing daily temperatures in Celsius.\n    :return: A string indicating the average temperature and a warning message.\n    \"\"\"\n    if not temperatures:\n        return \"No temperature data provided.\"\n    \n    average_temp = sum(temperatures) / len(temperatures)\n    \n    if average_temp > 30:\n        return f\"Average temperature: {average_temp:.2f}\u00b0C\\nWarning: Hot weather ahead!\"\n    elif average_temp < 15:\n        return f\"Average temperature: {average_temp:.2f}\u00b0C\\nWarning: Cold weather ahead!\"\n    else:\n        return f\"Average temperature: {average_temp:.2f}\u00b0C\\nWeather is moderate.\"\n```"}
{"prompt": "You are tasked with implementing a `Matrix` class that supports basic matrix operations: addition, subtraction, and multiplication. The class should be initialized with a 2D list of numbers. Implement the following methods:\n\n- `__init__(self, data)`: Initializes the matrix with the given 2D list `data`. Ensure that all rows are of the same length and all elements are either integers or floats. Raise a `ValueError` if these conditions are not met.\n- `add(self, other)`: Adds another `Matrix` object to the current matrix. Ensure that both matrices have the same dimensions. Raise a `ValueError` if they do not.\n- `subtract(self, other)`: Subtracts another `Matrix` object from the current matrix. Ensure that both matrices have the same dimensions. Raise a `ValueError` if they do not.\n- `multiply(self, other)`: Multiplies the current matrix with another `Matrix` object. Ensure that the number of columns in the current matrix is equal to the number of rows in the other matrix. Raise a `ValueError` if they do not.\n\n**Sample Input:**\n```python\nmatrix1 = Matrix([[1, 2], [3, 4]])\nmatrix2 = Matrix([[5, 6], [7, 8]])\nadded_matrix = matrix1.add(matrix2)\nsubtracted_matrix = matrix1.subtract(matrix2)\nmultiplied_matrix = matrix1.multiply(matrix2)\n```\n\n**Sample Output:**\n```\nadded_matrix.data: [[6, 8], [10, 12]]\nsubtracted_matrix.data: [[-4, -4], [-4, -4]]\nmultiplied_matrix.data: [[19, 22], [43, 50]]\n```", "response": "```python\nclass Matrix:\n    def __init__(self, data):\n        \"\"\"\n        Initializes the matrix with the given 2D list `data`.\n        Raises ValueError if rows are not of the same length or elements are not numbers.\n        \"\"\"\n        if not all(isinstance(row, list) and len(row) == len(data[0]) for row in data):\n            raise ValueError(\"All rows must be lists of the same length.\")\n        if not all(isinstance(el, (int, float)) for row in data for el in row):\n            raise ValueError(\"All elements must be integers or floats.\")\n        self.data = data\n        self.rows = len(data)\n        self.cols = len(data[0])\n\n    def add(self, other):\n        \"\"\"\n        Adds another Matrix object to the current matrix.\n        Raises ValueError if matrices do not have the same dimensions.\n        \"\"\"\n        if not isinstance(other, Matrix) or self.rows != other.rows or self.cols != other.cols:\n            raise ValueError(\"Matrices must be of the same dimensions to add.\")\n        return Matrix([[self.data[i][j] + other.data[i][j] for j in range(self.cols)] for i in range(self.rows)])\n\n    def subtract(self, other):\n        \"\"\"\n        Subtracts another Matrix object from the current matrix.\n        Raises ValueError if matrices do not have the same dimensions.\n        \"\"\"\n        if not isinstance(other, Matrix) or self.rows != other.rows or self.cols != other.cols:\n            raise ValueError(\"Matrices must be of the same dimensions to subtract.\")\n        return Matrix([[self.data[i][j] - other.data[i][j] for j in range(self.cols)] for i in range(self.rows)])\n\n    def multiply(self, other):\n        \"\"\"\n        Multiplies the current matrix with another Matrix object.\n        Raises ValueError if the number of columns in the current matrix is not equal to the number of rows in the other matrix.\n        \"\"\"\n        if not isinstance(other, Matrix) or self.cols != other.rows:\n            raise ValueError(\"Number of columns in the first matrix must be equal to the number of rows in the second.\")\n        result_data = [\n            [sum(self.data[i][k] * other.data[k][j] for k in range(self.cols)) for j in range(other.cols)]\n            for i in range(self.rows)\n        ]\n        return Matrix(result_data)\n```"}
{"prompt": "Implement a Python class `Car` with the following specifications:\n\n- The class should have an initializer `__init__` that takes four parameters: `make`, `model`, `year`, and `color`. These parameters should be stored as instance variables.\n- Implement a method `paint` that takes a single parameter `new_color` and updates the `color` attribute of the car.\n- Implement a method `description` that returns a string formatted as `\"A {year} {color} {make} {model}\"`.\n\n**Sample Input/Output:**\n\n```python\ncar = Car(\"Toyota\", \"Corolla\", 2020, \"red\")\nprint(car.description())  # Output: A 2020 red Toyota Corolla\ncar.paint(\"blue\")\nprint(car.description())  # Output: A 2020 blue Toyota Corolla\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, color):\n        \"\"\"\n        Initializes a new Car instance with the given make, model, year, and color.\n\n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        :param color: The color of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.color = color\n\n    def paint(self, new_color):\n        \"\"\"\n        Changes the color of the car to the new specified color.\n\n        :param new_color: The new color to paint the car.\n        \"\"\"\n        self.color = new_color\n\n    def description(self):\n        \"\"\"\n        Returns a string describing the car in the format \"A {year} {color} {make} {model}\".\n\n        :return: A string describing the car.\n        \"\"\"\n        return f\"A {self.year} {self.color} {self.make} {self.model}\"\n```"}
{"prompt": "You are given a string `s` consisting of lowercase English letters. Your task is to generate all unique palindromic substrings that can be formed using the characters in `s`. A palindromic substring is a sequence of characters that reads the same backward as forward. Return the list of these palindromic substrings.\n\n**Input:**\n- A single string `s` (1 \u2264 |s| \u2264 10).\n\n**Output:**\n- A list of unique palindromic substrings.\n\n**Sample Input:**\n```\naab\n```\n\n**Sample Output:**\n```\n['a', 'b', 'aa', 'aba']\n```", "response": "```python\ndef generate_palindrome(s):\n    \"\"\"\n    Generate all unique palindromic substrings from the given string s.\n\n    :param s: Input string consisting of lowercase English letters.\n    :return: List of unique palindromic substrings.\n    \"\"\"\n    def is_palindrome(check_str):\n        return check_str == check_str[::-1]\n\n    def backtrack(start, path):\n        current_str = ''.join(path)\n        if current_str and is_palindrome(current_str):\n            result.add(current_str)\n\n        for i in range(start, len(s)):\n            path.append(s[i])\n            backtrack(i + 1, path)\n            path.pop()\n\n    result = set()\n    s = ''.join(sorted(s))  # Sort to handle duplicates more efficiently\n    backtrack(0, [])\n    return list(result)\n```"}
{"prompt": "You are tasked with solving the classic Tower of Hanoi puzzle using a recursive algorithm. Given `n` disks, your goal is to move all disks from the source rod to the target rod, using an auxiliary rod, following these rules:\n1. Only one disk can be moved at a time.\n2. Each move consists of taking the upper disk from one of the stacks and placing it on top of another stack or on an empty rod.\n3. No larger disk may be placed on top of a smaller disk.\n\nImplement the function `tower_of_hanoi(n, source, target, auxiliary)` that prints the sequence of moves required to solve the puzzle. The function takes four parameters:\n- `n`: the number of disks.\n- `source`: the name of the source rod (e.g., 'A').\n- `target`: the name of the target rod (e.g., 'C').\n- `auxiliary`: the name of the auxiliary rod (e.g., 'B').\n\n**Sample Input:**\n```\n3, 'A', 'C', 'B'\n```\n\n**Sample Output:**\n```\nMove disk 1 from A to C\nMove disk 2 from A to B\nMove disk 1 from C to B\nMove disk 3 from A to C\nMove disk 1 from B to A\nMove disk 2 from B to C\nMove disk 1 from A to C\n```", "response": "```python\ndef tower_of_hanoi(n, source, target, auxiliary):\n    \"\"\"\n    Prints the steps required to solve the Tower of Hanoi puzzle for a given number of disks.\n\n    Parameters:\n    n (int): The number of disks.\n    source (str): The name of the source rod.\n    target (str): The name of the target rod.\n    auxiliary (str): The name of the auxiliary rod.\n    \"\"\"\n    if n == 1:\n        print(f\"Move disk 1 from {source} to {target}\")\n        return\n    tower_of_hanoi(n - 1, source, auxiliary, target)\n    print(f\"Move disk {n} from {source} to {target}\")\n    tower_of_hanoi(n - 1, auxiliary, target, source)\n\n# Example usage:\ntower_of_hanoi(3, 'A', 'C', 'B')\n```"}
{"prompt": "You are given two lists of strings, `fruits` and `veggies`, representing the names of fruits and vegetables, respectively. Your task is to write a Python function `merge_and_sort(fruits, veggies)` that combines these two lists into one, eliminates any duplicate entries, and returns the sorted list in alphabetical order.\n\n**Input:**\n- Two lists of strings, `fruits` and `veggies`.\n\n**Output:**\n- A single list of strings containing unique elements from both input lists, sorted in alphabetical order.\n\n**Sample Input:**\n```python\nfruits = [\"apple\", \"banana\", \"cherry\"]\nveggies = [\"spinach\", \"broccoli\", \"apple\"]\n```\n\n**Sample Output:**\n```python\n['apple', 'banana', 'broccoli', 'cherry', 'spinach']\n```", "response": "```python\ndef merge_and_sort(fruits, veggies):\n    \"\"\"\n    Merges two lists of strings, removes duplicates, and sorts the result alphabetically.\n\n    Parameters:\n    fruits (list of str): List of fruit names.\n    veggies (list of str): List of vegetable names.\n\n    Returns:\n    list of str: Sorted list of unique fruit and vegetable names.\n    \"\"\"\n    # Merge the two lists, remove duplicates, and sort the result\n    return sorted(set(fruits + veggies))\n\n# Example usage:\nfruits = [\"apple\", \"banana\", \"cherry\"]\nveggies = [\"spinach\", \"broccoli\", \"apple\"]\nresult = merge_and_sort(fruits, veggies)\nprint(result)  # Output: ['apple', 'banana', 'broccoli', 'cherry', 'spinach']\n```"}
{"prompt": "You are given a list of integers. Your task is to implement a function `find_max_even` that identifies and returns the largest even number from the list. If the list contains no even numbers, the function should return `None`. \n\n**Input:**\n- A list of integers `numbers` (1 \u2264 len(numbers) \u2264 10^3), where each integer `num` satisfies -10^6 \u2264 num \u2264 10^6.\n\n**Output:**\n- Return the largest even integer in the list, or `None` if no even integers are present.\n\n**Sample Input:**\n```\n[23, 42, 57, 68, 19, 91]\n```\n\n**Sample Output:**\n```\n68\n```", "response": "```python\ndef find_max_even(numbers):\n    \"\"\"\n    Finds the largest even number in a list of integers.\n    \n    Parameters:\n    numbers (list): A list of integers.\n    \n    Returns:\n    int or None: The largest even integer in the list, or None if no even integers are present.\n    \"\"\"\n    even_numbers = [num for num in numbers if num % 2 == 0]\n    if not even_numbers:\n        return None\n    return max(even_numbers)\n\n# Example usage:\nexample_list = [23, 42, 57, 68, 19, 91]\nprint(find_max_even(example_list))  # Output: 68\n```"}
{"prompt": "You are tasked with implementing a `Car` class that models a car with specific attributes and behaviors. The class should have the following:\n\n- **Attributes:**\n  - `make`: A string representing the manufacturer of the car.\n  - `model`: A string representing the model of the car.\n  - `year`: An integer representing the year the car was manufactured.\n\n- **Methods:**\n  - `start_engine`: A method that prints \"Engine started\" when called.\n  - `stop_engine`: A method that prints \"Engine stopped\" when called.\n\n**Input:**\n- The input will be provided as arguments to the `Car` class constructor in the following order: `make`, `model`, `year`.\n\n**Output:**\n- The output should be the result of calling `start_engine` and `stop_engine` methods on an instance of the `Car` class.\n\n**Sample Input:**\n```\nToyota Corolla 2022\n```\n\n**Sample Output:**\n```\nEngine started\nEngine stopped\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year):\n        \"\"\"\n        Initializes a new instance of the Car class.\n\n        :param make: A string representing the manufacturer of the car.\n        :param model: A string representing the model of the car.\n        :param year: An integer representing the year the car was manufactured.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n\n    def start_engine(self):\n        \"\"\"\n        Simulates starting the car's engine by printing \"Engine started\".\n        \"\"\"\n        print(\"Engine started\")\n\n    def stop_engine(self):\n        \"\"\"\n        Simulates stopping the car's engine by printing \"Engine stopped\".\n        \"\"\"\n        print(\"Engine stopped\")\n\n# Create an instance of the Car class\nmy_car = Car(\"Toyota\", \"Corolla\", 2022)\n\n# Call the start_engine and stop_engine methods\nmy_car.start_engine()\nmy_car.stop_engine()\n```"}
{"prompt": "You are tasked with developing a function for a web application that dynamically generates HTML content for user profiles based on provided user data. Your function, `generate_user_profile`, should accept a dictionary with keys `name`, `email`, `age`, and `bio`, and return a string formatted as an HTML document. The HTML should include a header with the user's name, a section detailing their email and age, and another section for their bio.\n\n**Sample Input:**\n```python\n{\"name\": \"Jane Smith\", \"email\": \"jane.smith@example.com\", \"age\": 28, \"bio\": \"Graphic designer with a passion for digital art.\"}\n```\n\n**Sample Output:**\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Jane Smith - User Profile</title>\n</head>\n<body>\n    <header>\n        <h1>Jane Smith</h1>\n    </header>\n    <main>\n        <p>Email: jane.smith@example.com</p>\n        <p>Age: 28</p>\n        <section>\n            <h2>Bio</h2>\n            <p>Graphic designer with a passion for digital art.</p>\n        </section>\n    </main>\n</body>\n</html>\n```", "response": "```python\ndef generate_user_profile(user_info):\n    \"\"\"\n    Generates an HTML string for a user profile based on the provided user information.\n\n    Parameters:\n    user_info (dict): A dictionary containing user information with keys 'name', 'email', 'age', and 'bio'.\n\n    Returns:\n    str: A string representing the HTML content for the user profile.\n    \"\"\"\n    html_content = f\"\"\"\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>{user_info['name']} - User Profile</title>\n    </head>\n    <body>\n        <header>\n            <h1>{user_info['name']}</h1>\n        </header>\n        <main>\n            <p>Email: {user_info['email']}</p>\n            <p>Age: {user_info['age']}</p>\n            <section>\n                <h2>Bio</h2>\n                <p>{user_info['bio']}</p>\n            </section>\n        </main>\n    </body>\n    </html>\n    \"\"\"\n    return html_content\n\n# Example usage:\nuser_profile = {\"name\": \"Jane Smith\", \"email\": \"jane.smith@example.com\", \"age\": 28, \"bio\": \"Graphic designer with a passion for digital art.\"}\nprint(generate_user_profile(user_profile))\n```"}
{"prompt": "You are tasked with implementing a function `generate_primes(n)` that returns a list containing the first `n` prime numbers. A prime number is defined as a natural number greater than 1 that has no positive divisors other than 1 and itself.\n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 100), representing the number of prime numbers to generate.\n\n**Output:**\n- A list of the first `n` prime numbers.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n[2, 3, 5, 7, 11]\n```", "response": "```python\ndef generate_primes(n):\n    \"\"\"\n    Generate a list of the first n prime numbers.\n\n    Parameters:\n    n (int): The number of prime numbers to generate.\n\n    Returns:\n    list: A list containing the first n prime numbers.\n    \"\"\"\n    def is_prime(num):\n        if num <= 1:\n            return False\n        if num == 2:\n            return True\n        if num % 2 == 0:\n            return False\n        for i in range(3, int(num**0.5) + 1, 2):\n            if num % i == 0:\n                return False\n        return True\n\n    primes = []\n    num = 2\n    while len(primes) < n:\n        if is_prime(num):\n            primes.append(num)\n        num += 1\n    return primes\n```"}
{"prompt": "You are tasked with implementing an efficient algorithm to compute the nth Fibonacci number. To optimize the computation, use memoization to store previously computed Fibonacci numbers. Your function should handle large values of n efficiently.\n\n**Input:**\n- An integer `n` (0 \u2264 n \u2264 50)\n\n**Output:**\n- The nth Fibonacci number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef fibonacci(n, memo=None):\n    \"\"\"\n    Computes the nth Fibonacci number using memoization.\n\n    Parameters:\n    n (int): The position in the Fibonacci sequence.\n    memo (dict, optional): A dictionary to store previously computed Fibonacci numbers.\n\n    Returns:\n    int: The nth Fibonacci number.\n    \"\"\"\n    if memo is None:\n        memo = {}\n    if n in memo:\n        return memo[n]\n    if n <= 1:\n        return n\n    else:\n        memo[n] = fibonacci(n-1, memo) + fibonacci(n-2, memo)\n        return memo[n]\n```"}
{"prompt": "In a simple dice rolling game, two players take turns rolling a six-sided die. The first player to roll a six wins the game. Your task is to simulate this game and output the result of each roll and the winner at the end.\n\n**Input:**\nNo input is provided. The game is simulated with random dice rolls.\n\n**Output:**\n- For each roll, print \"Player X's turn\" followed by \"Player X rolled a Y\", where X is the player number (1 or 2) and Y is the result of the dice roll.\n- Once a player rolls a six, print \"Player X wins!\" and terminate the game.\n\n**Sample Output:**\n```\nPlayer 1's turn\nPlayer 1 rolled a 3\nPlayer 2's turn\nPlayer 2 rolled a 5\nPlayer 1's turn\nPlayer 1 rolled a 6\nPlayer 1 wins!\n```", "response": "```python\nimport random\n\ndef roll_dice():\n    \"\"\"\n    Simulate rolling a six-sided die.\n    \n    Returns:\n        int: A random integer between 1 and 6 inclusive.\n    \"\"\"\n    return random.randint(1, 6)\n\ndef play_game():\n    \"\"\"\n    Simulate the dice rolling game between two players.\n    \n    The game continues until one player rolls a six, at which point the game ends and the winner is declared.\n    \"\"\"\n    player_turn = 1\n    while True:\n        print(f\"Player {player_turn}'s turn\")\n        roll = roll_dice()\n        print(f\"Player {player_turn} rolled a {roll}\")\n        if roll == 6:\n            print(f\"Player {player_turn} wins!\")\n            break\n        player_turn = 3 - player_turn  # Switch player turns (1 <-> 2)\n\nplay_game()\n```"}
{"prompt": "You are given a list of integers and a target integer. Your task is to find all unique pairs of distinct numbers from the list that sum up to the target. Each pair should be ordered from smallest to largest, and the list of pairs should be sorted lexicographically. \n\n**Input:**\n- The first line contains an integer `n` (1 \u2264 n \u2264 10^3), the number of integers in the list.\n- The second line contains `n` space-separated integers representing the list.\n- The third line contains an integer `target` (-10^6 \u2264 target \u2264 10^6), the target sum.\n\n**Output:**\n- Print a list of tuples, where each tuple contains two integers that add up to the target. Each tuple should be ordered from smallest to largest, and the list of tuples should be sorted lexicographically.\n\n**Sample Input:**\n```\n5\n1 2 3 4 5\n6\n```\n\n**Sample Output:**\n```\n[(1, 5), (2, 4)]\n```", "response": "```python\ndef find_pairs(nums, target):\n    \"\"\"\n    Finds all unique pairs of distinct numbers from the list that sum up to the target.\n    \n    Parameters:\n    nums (list of int): The list of integers.\n    target (int): The target sum.\n    \n    Returns:\n    list of tuple: A list of tuples, where each tuple contains two integers that add up to the target.\n    \"\"\"\n    nums = sorted(nums)\n    pairs = []\n    used = set()\n    for num in nums:\n        complement = target - num\n        if complement in used:\n            pairs.append((num, complement))\n        used.add(num)\n    return pairs\n\n# Example usage:\n# nums = [1, 2, 3, 4, 5]\n# target = 6\n# print(find_pairs(nums, target))  # Output: [(1, 5), (2, 4)]\n```"}
{"prompt": "You are tasked with implementing a `Calculator` class in Python that supports basic arithmetic operations: addition, subtraction, multiplication, and division. The class should have four methods, each corresponding to one of these operations. Each method should accept two numerical parameters and return the result of the operation. For the division method, ensure that it handles division by zero by raising a `ValueError` with the message \"Cannot divide by zero.\"\n\n**Sample Input/Output:**\n- `Calculator().add(5, 3)` should return `8`.\n- `Calculator().subtract(10, 4)` should return `6`.\n- `Calculator().multiply(6, 7)` should return `42`.\n- `Calculator().divide(8, 2)` should return `4.0`.\n- `Calculator().divide(5, 0)` should raise a `ValueError` with the message \"Cannot divide by zero.\"", "response": "```python\nclass Calculator:\n    def add(self, a, b):\n        \"\"\"Return the sum of a and b.\"\"\"\n        return a + b\n\n    def subtract(self, a, b):\n        \"\"\"Return the difference of a and b.\"\"\"\n        return a - b\n\n    def multiply(self, a, b):\n        \"\"\"Return the product of a and b.\"\"\"\n        return a * b\n\n    def divide(self, a, b):\n        \"\"\"Return the quotient of a and b. Raises ValueError if b is zero.\"\"\"\n        try:\n            return a / b\n        except ZeroDivisionError:\n            raise ValueError(\"Cannot divide by zero.\")\n```"}
{"prompt": "You are given an integer `n`. Your task is to write a function `get_prime_factors` that returns a list of its prime factors, including their multiplicities. The prime factors should be listed in ascending order.\n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 10^6)\n\n**Output:**\n- A list of integers representing the prime factors of `n`, including their multiplicities.\n\n**Sample Input:**\n```\n60\n```\n\n**Sample Output:**\n```\n[2, 2, 3, 5]\n```", "response": "```python\ndef get_prime_factors(n):\n    \"\"\"\n    Returns a list of prime factors of the given integer n, including their multiplicities.\n    \n    Parameters:\n    n (int): The integer to factorize.\n    \n    Returns:\n    list: A list of prime factors of n in ascending order.\n    \"\"\"\n    prime_factors = []\n    # Check for number of 2s\n    while n % 2 == 0:\n        prime_factors.append(2)\n        n //= 2\n    # Check for odd factors from 3 onwards\n    factor = 3\n    while factor * factor <= n:\n        while n % factor == 0:\n            prime_factors.append(factor)\n            n //= factor\n        factor += 2\n    # If n is a prime number greater than 2\n    if n > 2:\n        prime_factors.append(n)\n    return prime_factors\n\n# Example usage:\n# print(get_prime_factors(60))  # Output: [2, 2, 3, 5]\n```"}
{"prompt": "You are given a list of strings `words` and a string `pattern`. Your task is to implement a function `find_pattern_match` that returns a list of strings from `words` that match the `pattern`. A string matches the `pattern` if there exists a one-to-one character mapping between every character of the `pattern` and every character of the string. For example, the pattern \"abc\" matches the string \"dog\" because there is a mapping {a: d, b: o, c: g}. However, the pattern \"abc\" does not match the string \"dad\" because the mapping {a: d, b: a, c: d} is not one-to-one.\n\n**Input:**\n- A list of strings `words` (1 \u2264 len(words) \u2264 1000, 1 \u2264 len(word) \u2264 20)\n- A string `pattern` (1 \u2264 len(pattern) \u2264 20)\n\n**Output:**\n- A list of strings from `words` that match the `pattern`.\n\n**Sample Input:**\n```\nwords = [\"abc\", \"deq\", \"mee\", \"aqq\", \"dkd\", \"ccc\"]\npattern = \"abb\"\n```\n\n**Sample Output:**\n```\n['mee', 'aqq']\n```", "response": "```python\ndef find_pattern_match(words, pattern):\n    \"\"\"\n    Returns a list of strings from `words` that match the `pattern`.\n    \n    A string matches the `pattern` if there is a one-to-one mapping between\n    every character of the `pattern` and every character of the string.\n    \n    :param words: List of strings to be checked against the pattern.\n    :param pattern: The pattern string to match against.\n    :return: List of strings from `words` that match the `pattern`.\n    \"\"\"\n    def match(word, pattern):\n        if len(word) != len(pattern):\n            return False\n        char_to_pattern = {}\n        pattern_to_char = {}\n        \n        for w, p in zip(word, pattern):\n            if w in char_to_pattern:\n                if char_to_pattern[w] != p:\n                    return False\n            else:\n                char_to_pattern[w] = p\n            \n            if p in pattern_to_char:\n                if pattern_to_char[p] != w:\n                    return False\n            else:\n                pattern_to_char[p] = w\n        \n        return True\n    \n    return [word for word in words if match(word, pattern)]\n```"}
{"prompt": "You are given a string `s` consisting of lowercase English letters. Your task is to implement a function that removes all duplicate characters from the string while maintaining the order of the first occurrence of each character. \n\n**Input:**\n- A single string `s` (1 \u2264 |s| \u2264 10^5).\n\n**Output:**\n- A string with all duplicate characters removed, preserving the order of the first occurrence of each character.\n\n**Sample Input:**\n```\nprogramming\n```\n\n**Sample Output:**\n```\nprogamin\n```", "response": "```python\ndef remove_duplicates(input_string: str) -> str:\n    \"\"\"\n    Removes all duplicate characters from the input string while preserving the order\n    of the first occurrence of each character.\n\n    :param input_string: A string from which duplicates need to be removed.\n    :return: A string with duplicates removed.\n    \"\"\"\n    seen = set()\n    result = []\n    for char in input_string:\n        if char not in seen:\n            seen.add(char)\n            result.append(char)\n    return ''.join(result)\n\n# Example usage:\ninput_str = \"programming\"\noutput_str = remove_duplicates(input_str)\nprint(output_str)  # Output will be \"progamin\"\n```"}
{"prompt": "You are given a list of strings. Your task is to implement a function that returns a dictionary where each key is a unique word (case-insensitive) and its value is the number of times it appears across all strings in the list.\n\n**Input:**\n- A list of strings, where each string may contain multiple words separated by spaces.\n\n**Output:**\n- A dictionary with words as keys and their respective counts as values.\n\n**Sample Input:**\n```python\n[\"Hello world\", \"hello there\", \"World of code\"]\n```\n\n**Sample Output:**\n```python\n{'hello': 2, 'world': 2, 'there': 1, 'of': 1, 'code': 1}\n```", "response": "```python\ndef word_count(strings_list):\n    \"\"\"\n    Returns a dictionary with words as keys and their respective counts as values.\n    \n    :param strings_list: List of strings to process.\n    :return: Dictionary with word counts.\n    \"\"\"\n    count_dict = {}\n    for string in strings_list:\n        words = string.split()\n        for word in words:\n            word = word.lower()\n            if word in count_dict:\n                count_dict[word] += 1\n            else:\n                count_dict[word] = 1\n    return count_dict\n```"}
{"prompt": "You are given two integers, `start` and `end`. Your task is to write a function that returns a list of all prime numbers within the inclusive range `[start, end]`. A prime number is a natural number greater than 1 that has no positive divisors other than 1 and itself.\n\n**Input:**\n- Two integers `start` and `end` (1 \u2264 start \u2264 end \u2264 10^6)\n\n**Output:**\n- A list of integers representing the prime numbers in the given range.\n\n**Sample Input:**\n```\n10 50\n```\n\n**Sample Output:**\n```\n[11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47]\n```", "response": "```python\ndef is_prime(n):\n    \"\"\"Check if a number is a prime number.\"\"\"\n    if n <= 1:\n        return False\n    if n <= 3:\n        return True\n    if n % 2 == 0 or n % 3 == 0:\n        return False\n    i = 5\n    while i * i <= n:\n        if n % i == 0 or n % (i + 2) == 0:\n            return False\n        i += 6\n    return True\n\ndef find_primes_in_range(start, end):\n    \"\"\"Find all prime numbers in the given range [start, end].\"\"\"\n    primes = []\n    for num in range(start, end + 1):\n        if is_prime(num):\n            primes.append(num)\n    return primes\n```"}
{"prompt": "You are tasked with simulating the roll of a six-sided die. Your program should use a random number generator to simulate the die roll. The user will specify the number of rolls they wish to simulate. Your program should output the result of each roll.\n\n**Input:**\n- The first line of input contains a single integer \\( n \\) (1 \u2264 \\( n \\) \u2264 100), representing the number of die rolls to simulate.\n\n**Output:**\n- Output \\( n \\) lines, each containing the result of a die roll, which is an integer between 1 and 6, inclusive.\n\n**Sample Input:**\n```\n3\n```\n\n**Sample Output:**\n```\n5\n2\n6\n```", "response": "```python\nimport random\n\ndef roll_dice(num_rolls):\n    \"\"\"\n    Simulates rolling a six-sided die a specified number of times.\n\n    Parameters:\n    num_rolls (int): The number of times to roll the die.\n\n    Returns:\n    list: A list of integers representing the result of each die roll.\n    \"\"\"\n    results = []\n    for _ in range(num_rolls):\n        result = random.randint(1, 6)\n        results.append(result)\n    return results\n\ndef main():\n    \"\"\"\n    Main function to handle user input and output the results of die rolls.\n    \"\"\"\n    try:\n        num_rolls = int(input().strip())\n        if num_rolls <= 0 or num_rolls > 100:\n            print(\"Please enter a valid number of rolls between 1 and 100.\")\n            return\n        \n        roll_results = roll_dice(num_rolls)\n        for result in roll_results:\n            print(result)\n    \n    except ValueError:\n        print(\"Invalid input. Please enter a valid integer for the number of rolls.\")\n\nif __name__ == \"__main__\":\n    main()\n```"}
{"prompt": "You are given a list of integers. Your task is to implement a function `find_max_min(numbers)` that returns a tuple containing the maximum and minimum values from the list. If the list is empty, the function should return `None`. The list can contain any number of integers, both positive and negative.\n\n**Input:**\n- A list of integers `numbers` (0 \u2264 len(numbers) \u2264 10^5).\n\n**Output:**\n- A tuple `(max_value, min_value)` if the list is not empty.\n- `None` if the list is empty.\n\n**Sample Input 1:**\n```\n[3, 5, 1, 2, 4, -1, 0]\n```\n\n**Sample Output 1:**\n```\n(5, -1)\n```\n\n**Sample Input 2:**\n```\n[]\n```\n\n**Sample Output 2:**\n```\nNone\n```", "response": "```python\ndef find_max_min(numbers):\n    \"\"\"\n    Returns a tuple containing the maximum and minimum values from the list.\n    If the list is empty, returns None.\n\n    :param numbers: List of integers\n    :return: Tuple (max_value, min_value) or None if the list is empty\n    \"\"\"\n    if not numbers:\n        return None\n    return (max(numbers), min(numbers))\n```"}
{"prompt": "In a simple dice game, two players each roll a fair six-sided die once. The player with the higher roll wins. If both players roll the same number, the game is a tie. Your task is to simulate this game and determine the outcome.\n\n**Input:**\nNo input is provided. The dice rolls are randomly generated.\n\n**Output:**\nPrint the result of the game:\n- \"Player 1 wins!\" if Player 1 rolled a higher number.\n- \"Player 2 wins!\" if Player 2 rolled a higher number.\n- \"It's a tie!\" if both players rolled the same number.\n\n**Sample Output:**\n```\nPlayer 1 rolled: 4\nPlayer 2 rolled: 3\nPlayer 1 wins!\n```\n\n**Sample Output:**\n```\nPlayer 1 rolled: 2\nPlayer 2 rolled: 5\nPlayer 2 wins!\n```\n\n**Sample Output:**\n```\nPlayer 1 rolled: 6\nPlayer 2 rolled: 6\nIt's a tie!\n```", "response": "```python\nimport random\n\ndef roll_dice():\n    \"\"\"\n    Simulate rolling a six-sided die.\n    \n    Returns:\n        int: A random integer between 1 and 6, inclusive.\n    \"\"\"\n    return random.randint(1, 6)\n\ndef dice_game():\n    \"\"\"\n    Simulate a dice game between two players.\n    \n    Prints the result of the game, indicating which player wins or if it's a tie.\n    \"\"\"\n    player1_roll = roll_dice()\n    player2_roll = roll_dice()\n    \n    print(f\"Player 1 rolled: {player1_roll}\")\n    print(f\"Player 2 rolled: {player2_roll}\")\n    \n    if player1_roll > player2_roll:\n        print(\"Player 1 wins!\")\n    elif player2_roll > player1_roll:\n        print(\"Player 2 wins!\")\n    else:\n        print(\"It's a tie!\")\n\n# Run the game\ndice_game()\n```"}
{"prompt": "You are given a nested list of integers. Your task is to write a function `flatten_nested_list` that takes this nested list as input and returns a new list with all the integers from the nested list, flattened into a single-level list. The function should be able to handle any level of nesting.\n\n**Input:**\n- A nested list of integers, where each element is either an integer or a list of integers.\n\n**Output:**\n- A list of integers, representing the flattened version of the input nested list.\n\n**Sample Input:**\n```\n[[1, [2, 3]], [4, [5, [6, 7]]]]\n```\n\n**Sample Output:**\n```\n[1, 2, 3, 4, 5, 6, 7]\n```", "response": "```python\ndef flatten_nested_list(nested_list):\n    \"\"\"\n    Flattens a nested list of integers into a single-level list.\n\n    :param nested_list: List of integers or nested lists of integers.\n    :return: A flattened list of integers.\n    \"\"\"\n    result = []\n    for element in nested_list:\n        if isinstance(element, list):\n            result.extend(flatten_nested_list(element))\n        else:\n            result.append(element)\n    return result\n\n# Example usage:\n# nested_list = [[1, [2, 3]], [4, [5, [6, 7]]]]\n# print(flatten_nested_list(nested_list))  # Output: [1, 2, 3, 4, 5, 6, 7]\n```"}
{"prompt": "You are tasked with implementing a function to compute the compound interest based on the given principal amount, interest rate, and time period. The formula for compound interest is:\n\n\\[ \\text{Compound Interest} = \\text{Principal} \\times \\left(1 + \\frac{\\text{Rate}}{100}\\right)^{\\text{Time}} \\]\n\nYour function should take three parameters: `principal`, `rate`, and `time`, and return the compound interest rounded to two decimal places.\n\n**Input:**\n- The function will receive three arguments: `principal` (a float), `rate` (a float representing the interest rate in percentage), and `time` (an integer representing the time period in years).\n\n**Output:**\n- Return a float representing the compound interest, rounded to two decimal places.\n\n**Sample Input:**\n- `principal = 1000.0`, `rate = 5.0`, `time = 3`\n\n**Sample Output:**\n- `1157.63`", "response": "```python\ndef calculate_interest(principal, rate, time):\n    \"\"\"\n    Calculate the compound interest given the principal amount, interest rate, and time period.\n\n    Parameters:\n    principal (float): The principal amount.\n    rate (float): The annual interest rate in percentage.\n    time (int): The time period in years.\n\n    Returns:\n    float: The compound interest rounded to two decimal places.\n    \"\"\"\n    compound_interest = principal * (1 + rate / 100) ** time\n    return round(compound_interest, 2)\n```"}
{"prompt": "You are given a Python dictionary `data`. Your task is to implement a function `convert_to_json` that converts this dictionary into a JSON formatted string. The function should be robust and handle any exceptions that may arise due to invalid data types or other issues by returning an empty string. \n\n**Input:**\n- A Python dictionary `data` which may contain various data types including nested dictionaries and lists.\n\n**Output:**\n- A string representing the JSON formatted version of the input dictionary, or an empty string if an error occurs.\n\n**Sample Input:**\n```python\ndata = {\"name\": \"John\", \"age\": 30, \"city\": \"New York\", \"hobbies\": [\"reading\", \"traveling\"]}\n```\n\n**Sample Output:**\n```json\n{\"name\": \"John\", \"age\": 30, \"city\": \"New York\", \"hobbies\": [\"reading\", \"traveling\"]}\n```", "response": "```python\nimport json\n\ndef convert_to_json(data):\n    \"\"\"\n    Converts a Python dictionary to a JSON formatted string.\n    \n    Parameters:\n    data (dict): The dictionary to be converted.\n    \n    Returns:\n    str: A JSON formatted string of the input dictionary, or an empty string if an error occurs.\n    \"\"\"\n    try:\n        return json.dumps(data)\n    except (TypeError, OverflowError):\n        return \"\"\n    except Exception:\n        return \"\"\n```"}
{"prompt": "You are given a list of integers `numbers`. Your task is to implement a function `remove_duplicates` that returns a new list containing only the unique elements from the input list, preserving the order of their first appearance. If the input list is empty, your function should return an empty list.\n\n**Constraints:**\n- The list `numbers` can contain between 0 and 10^5 integers.\n- Each integer in the list can range from -10^9 to 10^9.\n\n**Sample Input:**\n```python\nnumbers = [4, 5, 6, 4, 7, 5, 8, 9, 6]\n```\n\n**Sample Output:**\n```python\n[4, 5, 6, 7, 8, 9]\n```", "response": "```python\ndef remove_duplicates(numbers):\n    \"\"\"\n    Returns a new list containing the unique elements of the input list,\n    in the order they first appear. If the input list is empty, returns an empty list.\n    \n    :param numbers: List of integers\n    :return: List of unique integers\n    \"\"\"\n    if not numbers:  # Check if the list is empty\n        return []\n    \n    unique_numbers = []\n    seen = set()\n    \n    for number in numbers:\n        if number not in seen:\n            unique_numbers.append(number)\n            seen.add(number)\n    \n    return unique_numbers\n```"}
{"prompt": "You are given a list of `n` points in a 2D plane, where each point is represented as a tuple of integers `(x, y)`. Your task is to find the closest pair of points and return them along with the distance between them. Implement a brute-force solution with a time complexity of O(n^2). Assume that the list contains at least two points.\n\n**Input:**\n- A list of tuples, where each tuple represents the coordinates of a point in the 2D plane.\n\n**Output:**\n- A tuple containing the two closest points and the distance between them.\n\n**Sample Input:**\n```\n[(1, 2), (3, 4), (5, 6), (7, 8), (9, 10)]\n```\n\n**Sample Output:**\n```\n(((1, 2), (3, 4)), 2.8284271247461903)\n```", "response": "```python\nimport math\n\ndef find_closest_pair(points):\n    \"\"\"\n    Finds the closest pair of points in a 2D space using a brute-force approach.\n    \n    Parameters:\n    points (list of tuples): A list of points where each point is a tuple (x, y).\n    \n    Returns:\n    tuple: A tuple containing the two closest points and the distance between them.\n    \"\"\"\n    def distance(point1, point2):\n        return math.sqrt((point1[0] - point2[0]) ** 2 + (point1[1] - point2[1]) ** 2)\n    \n    min_distance = float('inf')\n    closest_pair = None\n    \n    for i in range(len(points)):\n        for j in range(i + 1, len(points)):\n            current_distance = distance(points[i], points[j])\n            if current_distance < min_distance:\n                min_distance = current_distance\n                closest_pair = (points[i], points[j])\n    \n    return closest_pair, min_distance\n\n# Test the function with the provided list of points\npoints = [(1, 2), (3, 4), (5, 6), (7, 8), (9, 10)]\nclosest_pair, distance = find_closest_pair(points)\nprint(f\"Closest pair: {closest_pair}, Distance: {distance}\")\n```"}
{"prompt": "You are given two sorted arrays, `array1` and `array2`, of lengths `n` and `m` respectively. Your task is to write a function `merge_sorted_arrays` that merges these two arrays into a single sorted array. The function should utilize a two-pointer technique to achieve a time complexity of O(n + m).\n\n**Input:**\n- Two sorted arrays `array1` and `array2`.\n\n**Output:**\n- A single sorted array containing all elements from `array1` and `array2`.\n\n**Sample Input:**\n- `array1 = [1, 3, 5, 7, 9]`\n- `array2 = [2, 4, 6, 8, 10]`\n\n**Sample Output:**\n- `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]`", "response": "```python\ndef merge_sorted_arrays(array1, array2):\n    \"\"\"\n    Merges two sorted arrays into a single sorted array using a two-pointer technique.\n    \n    Parameters:\n    array1 (list): The first sorted array.\n    array2 (list): The second sorted array.\n    \n    Returns:\n    list: A merged sorted array containing all elements from array1 and array2.\n    \"\"\"\n    i, j = 0, 0\n    merged_array = []\n    \n    while i < len(array1) and j < len(array2):\n        if array1[i] < array2[j]:\n            merged_array.append(array1[i])\n            i += 1\n        else:\n            merged_array.append(array2[j])\n            j += 1\n    \n    while i < len(array1):\n        merged_array.append(array1[i])\n        i += 1\n    \n    while j < len(array2):\n        merged_array.append(array2[j])\n        j += 1\n    \n    return merged_array\n\n# Test the function with the given arrays\narray1 = [1, 3, 5, 7, 9]\narray2 = [2, 4, 6, 8, 10]\nprint(merge_sorted_arrays(array1, array2))\n```"}
{"prompt": "You are given a list of integers. Your task is to determine the length of the longest increasing subsequence in the list. An increasing subsequence is defined as a sequence where each element is greater than the previous one. You must implement a function `find_longest_increasing_subsequence` using dynamic programming to solve this problem.\n\n**Input:**\n- A list of integers `numbers` (1 \u2264 len(numbers) \u2264 1000), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- An integer representing the length of the longest increasing subsequence.\n\n**Sample Input:**\n```\n[10, 9, 2, 5, 3, 7, 101]\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef find_longest_increasing_subsequence(numbers):\n    \"\"\"\n    Finds the length of the longest increasing subsequence in a list of integers using dynamic programming.\n\n    :param numbers: List of integers\n    :return: Length of the longest increasing subsequence\n    \"\"\"\n    if not numbers:\n        return 0\n\n    dp = [1] * len(numbers)\n    \n    for i in range(1, len(numbers)):\n        for j in range(i):\n            if numbers[i] > numbers[j]:\n                dp[i] = max(dp[i], dp[j] + 1)\n    \n    return max(dp)\n\n# Test the function\nnumbers = [10, 9, 2, 5, 3, 7, 101]\nprint(find_longest_increasing_subsequence(numbers))  # Output: 4\n```"}
{"prompt": "Implement a Python class `Car` with the following specifications:\n\n- **Constructor**: `__init__(self, make, model, year, color)` initializes the car with the given make, model, year, and color.\n- **Methods**:\n  - `start(self)`: Simulates starting the car's engine.\n  - `stop(self)`: Simulates stopping the car's engine.\n  - `paint(self, new_color)`: Changes the car's color to `new_color`.\n\n**Sample Input/Output**:\n```python\ncar = Car(\"Toyota\", \"Corolla\", 2020, \"Red\")\ncar.start()  # Output: Engine started.\ncar.stop()   # Output: Engine stopped.\ncar.paint(\"Blue\")  # Output: Car painted Blue.\nprint(car.color)  # Output: Blue\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, color):\n        \"\"\"\n        Initializes a new Car instance with the specified make, model, year, and color.\n\n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        :param color: The color of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.color = color\n\n    def start(self):\n        \"\"\"\n        Simulates starting the car's engine.\n        \"\"\"\n        print(\"Engine started.\")\n\n    def stop(self):\n        \"\"\"\n        Simulates stopping the car's engine.\n        \"\"\"\n        print(\"Engine stopped.\")\n\n    def paint(self, new_color):\n        \"\"\"\n        Changes the car's color to the specified new color.\n\n        :param new_color: The new color to paint the car.\n        \"\"\"\n        self.color = new_color\n        print(f\"Car painted {new_color}.\")\n```"}
{"prompt": "You are tasked with implementing a function `convert_to_json` that serializes a given dictionary into a JSON formatted string. The dictionary can contain nested dictionaries and lists. Your function should ensure that the resulting JSON string is properly formatted with an indentation of 4 spaces.\n\n**Function Signature:**\n```python\ndef convert_to_json(data: dict) -> str:\n```\n\n**Input:**\n- A dictionary `data` which may contain nested dictionaries and lists.\n\n**Output:**\n- A string representing the JSON formatted version of the input dictionary with an indentation of 4 spaces.\n\n**Sample Input:**\n```python\n{\n    \"name\": \"John Doe\",\n    \"age\": 30,\n    \"children\": [\n        {\n            \"name\": \"Jane Doe\",\n            \"age\": 10\n        },\n        {\n            \"name\": \"Doe Junior\",\n            \"age\": 7\n        }\n    ],\n    \"address\": {\n        \"street\": \"123 Elm St\",\n        \"city\": \"Somewhere\",\n        \"zip\": \"12345\"\n    }\n}\n```\n\n**Sample Output:**\n```json\n{\n    \"name\": \"John Doe\",\n    \"age\": 30,\n    \"children\": [\n        {\n            \"name\": \"Jane Doe\",\n            \"age\": 10\n        },\n        {\n            \"name\": \"Doe Junior\",\n            \"age\": 7\n        }\n    ],\n    \"address\": {\n        \"street\": \"123 Elm St\",\n        \"city\": \"Somewhere\",\n        \"zip\": \"12345\"\n    }\n}\n```", "response": "```python\nimport json\n\ndef convert_to_json(data: dict) -> str:\n    \"\"\"\n    Serializes a dictionary into a JSON formatted string with an indentation of 4 spaces.\n\n    :param data: A dictionary that may contain nested dictionaries and lists.\n    :return: A JSON formatted string representation of the input dictionary.\n    \"\"\"\n    return json.dumps(data, indent=4)\n```"}
{"prompt": "You are given a positive integer `n`. Your task is to write a function `sum_of_even_numbers(n: int) -> int` that computes the sum of all even numbers from 1 to `n` (inclusive). The function must utilize a generator expression to perform the summation.\n\n**Input:**\n- A single integer `n` (1 \u2264 n \u2264 10^6)\n\n**Output:**\n- An integer representing the sum of all even numbers from 1 to `n`.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n30\n```", "response": "```python\ndef sum_of_even_numbers(n: int) -> int:\n    \"\"\"\n    Computes the sum of all even numbers from 1 to n (inclusive) using a generator expression.\n\n    :param n: The upper limit of the range (inclusive).\n    :return: The sum of all even numbers from 1 to n.\n    \"\"\"\n    return sum(x for x in range(1, n+1) if x % 2 == 0)\n```"}
{"prompt": "You are tasked with implementing a function `fetch_data_from_api(url: str) -> dict` that retrieves data from a specified API endpoint. Your function should handle potential issues such as network errors or invalid URLs gracefully. The function should return the fetched data as a dictionary. If an error occurs, the function should raise an appropriate exception.\n\n**Sample Input:**\n```\nhttps://api.example.com/data\n```\n\n**Sample Output:**\n```\n{'key1': 'value1', 'key2': 'value2'}\n```", "response": "```python\nimport requests\n\ndef fetch_data_from_api(url: str) -> dict:\n    \"\"\"\n    Fetches data from the given URL and returns it as a dictionary.\n\n    Args:\n        url (str): The API URL to fetch data from.\n\n    Returns:\n        dict: The JSON data fetched from the API.\n\n    Raises:\n        requests.exceptions.RequestException: If there is a network issue or the URL is invalid.\n        ValueError: If the response does not contain valid JSON.\n    \"\"\"\n    try:\n        response = requests.get(url)\n        response.raise_for_status()\n        return response.json()\n    except requests.exceptions.RequestException as e:\n        print(f\"Network issue or invalid URL: {e}\")\n        raise\n    except ValueError as e:\n        print(f\"Invalid JSON response: {e}\")\n        raise\n```"}
{"prompt": "You are given a sentence as a string. Your task is to implement a function `count_words(sentence: str) -> dict` that processes the sentence and returns a dictionary. The dictionary should map each unique word (case-insensitive) to the number of times it appears in the sentence. The function should ignore punctuation.\n\n**Input:**\n- A single string `sentence` (1 \u2264 len(sentence) \u2264 1000) containing words separated by spaces. Words may include punctuation.\n\n**Output:**\n- A dictionary where keys are unique words (in lowercase) and values are their respective counts.\n\n**Sample Input:**\n```\n\"Hello, world! Hello, Universe.\"\n```\n\n**Sample Output:**\n```\n{'hello': 2, 'world': 1, 'universe': 1}\n```", "response": "```python\ndef count_words(sentence: str) -> dict:\n    \"\"\"\n    Counts the occurrences of each unique word in a given sentence, ignoring case and punctuation.\n    \n    :param sentence: A string containing words separated by spaces.\n    :return: A dictionary mapping each unique word (in lowercase) to its count.\n    \"\"\"\n    import string\n    sentence = sentence.lower().translate(str.maketrans('', '', string.punctuation))\n    words = sentence.split()\n    word_counts = {}\n    \n    for word in words:\n        if word in word_counts:\n            word_counts[word] += 1\n        else:\n            word_counts[word] = 1\n    \n    return word_counts\n```"}
{"prompt": "You are tasked with implementing a `Rectangle` class in Python. The class should support the following operations:\n\n- **Initialization**: Create a rectangle with given width and height.\n- **Area Calculation**: Compute the area of the rectangle.\n- **Perimeter Calculation**: Compute the perimeter of the rectangle.\n- **Scaling**: Scale the dimensions of the rectangle by a given factor.\n- **Rotation**: Rotate the rectangle by 90 degrees, swapping its width and height.\n- **String Representation**: Return a string representation of the rectangle in the format `Rectangle(width=<width>, height=<height>)`.\n\n**Sample Input/Output**:\n- Input: `rect = Rectangle(3, 4)`\n- Output: `rect.area()` should return `12`\n- Output: `rect.perimeter()` should return `14`\n- Output: `rect.scale(2); rect.area()` should return `48`\n- Output: `rect.rotate(); rect.__str__()` should return `Rectangle(width=8, height=4)`", "response": "```python\nclass Rectangle:\n    def __init__(self, width, height):\n        \"\"\"\n        Initialize a rectangle with the given width and height.\n        \n        :param width: The width of the rectangle.\n        :param height: The height of the rectangle.\n        \"\"\"\n        self.width = width\n        self.height = height\n\n    def area(self):\n        \"\"\"\n        Calculate the area of the rectangle.\n        \n        :return: The area of the rectangle.\n        \"\"\"\n        return self.width * self.height\n\n    def perimeter(self):\n        \"\"\"\n        Calculate the perimeter of the rectangle.\n        \n        :return: The perimeter of the rectangle.\n        \"\"\"\n        return 2 * (self.width + self.height)\n\n    def scale(self, factor):\n        \"\"\"\n        Scale the dimensions of the rectangle by the given factor.\n        \n        :param factor: The scaling factor.\n        \"\"\"\n        self.width *= factor\n        self.height *= factor\n\n    def rotate(self):\n        \"\"\"\n        Rotate the rectangle by 90 degrees, swapping its width and height.\n        \"\"\"\n        self.width, self.height = self.height, self.width\n\n    def __str__(self):\n        \"\"\"\n        Return a string representation of the rectangle.\n        \n        :return: A string in the format 'Rectangle(width=<width>, height=<height>)'.\n        \"\"\"\n        return f\"Rectangle(width={self.width}, height={self.height})\"\n```"}
{"prompt": "You are given a dataset of customer reviews for a product. Each review is represented as a dictionary with the following keys: `review_id`, `rating`, and `text`. Your task is to implement a function `summarize_reviews(reviews)` that processes a list of reviews and returns a dictionary. This dictionary should contain the average rating of the reviews and a summary string. The summary string is constructed by concatenating the first 50 characters of each review's text. If the list of reviews is empty, the function should return an average rating of 0 and an empty summary string.\n\n**Input:**\n- A list of dictionaries, where each dictionary contains:\n  - `review_id`: An integer representing the unique identifier of the review.\n  - `rating`: An integer representing the rating given by the customer.\n  - `text`: A string representing the text of the review.\n\n**Output:**\n- A dictionary with two keys:\n  - `average_rating`: A float representing the average rating of the reviews.\n  - `summary`: A string representing the concatenated first 50 characters of each review's text.\n\n**Sample Input:**\n```python\n[\n    {\"review_id\": 1, \"rating\": 4, \"text\": \"Great product, would buy again.\"},\n    {\"review_id\": 2, \"rating\": 5, \"text\": \"Absolutely fantastic quality!\"},\n    {\"review_id\": 3, \"rating\": 2, \"text\": \"Could have been better, some issues.\"}\n]\n```\n\n**Sample Output:**\n```python\n{\"average_rating\": 3.6666666666666665, \"summary\": \"Great product, would buy again.Absolutely fantastic quality!Could have been bet\"}\n```", "response": "```python\ndef summarize_reviews(reviews):\n    \"\"\"\n    Processes a list of reviews and returns a dictionary containing the average rating\n    and a summary of the reviews. The summary is a concatenation of the first 50 characters\n    of each review's text. If the list is empty, returns an average rating of 0 and an empty summary.\n    \n    :param reviews: List of dictionaries, each containing 'review_id', 'rating', and 'text'.\n    :return: Dictionary with 'average_rating' and 'summary'.\n    \"\"\"\n    if not reviews:\n        return {\"average_rating\": 0, \"summary\": \"\"}\n    \n    total_rating = 0\n    summary_text = \"\"\n    \n    for review in reviews:\n        total_rating += review[\"rating\"]\n        summary_text += review[\"text\"][:50]\n    \n    average_rating = total_rating / len(reviews)\n    \n    return {\"average_rating\": average_rating, \"summary\": summary_text}\n```"}
{"prompt": "You are given a directory containing multiple files, some of which are JSON files. Each JSON file represents a book with the following attributes: `title`, `author`, and `publication_year`. Your task is to write a Python function that reads all the JSON files in the directory and merges them into a single JSON file containing a list of all the books. The function should handle cases where the directory is empty or contains files that are not JSON. The output JSON file should be formatted with an indentation of 4 spaces and should not use ASCII encoding.\n\n**Input:**\n- A directory path containing JSON files and possibly other files.\n\n**Output:**\n- A single JSON file named `merged_books.json` in the current working directory, containing a list of all books with valid JSON format.\n\n**Sample Input:**\nDirectory `/books` contains:\n- `book1.json`: `{\"title\": \"Book One\", \"author\": \"Author A\", \"publication_year\": 2001}`\n- `book2.json`: `{\"title\": \"Book Two\", \"author\": \"Author B\", \"publication_year\": 2002}`\n- `non_json_file.txt`: `This is not a JSON file`\n\n**Sample Output:**\n`merged_books.json`:\n```json\n[\n    {\n        \"title\": \"Book One\",\n        \"author\": \"Author A\",\n        \"publication_year\": 2001\n    },\n    {\n        \"title\": \"Book Two\",\n        \"author\": \"Author B\",\n        \"publication_year\": 2002\n    }\n]\n```", "response": "```python\nimport os\nimport json\n\ndef merge_books_info(directory, output_file='merged_books.json'):\n    \"\"\"\n    Merges information from multiple JSON files in the specified directory into a single JSON file.\n    Files that are not JSON or cannot be read as valid JSON are ignored.\n\n    :param directory: str - Path to the directory containing the JSON files.\n    :param output_file: str - Path to the output JSON file where the merged information will be stored.\n    \"\"\"\n    books = []\n\n    for filename in os.listdir(directory):\n        if filename.endswith('.json'):\n            filepath = os.path.join(directory, filename)\n            try:\n                with open(filepath, 'r', encoding='utf-8') as f:\n                    book_info = json.load(f)\n                    if isinstance(book_info, dict):\n                        books.append(book_info)\n            except (json.JSONDecodeError, IOError):\n                continue\n\n    with open(output_file, 'w', encoding='utf-8') as f:\n        json.dump(books, f, ensure_ascii=False, indent=4)\n```"}
{"prompt": "You are tasked with implementing a `BankAccount` class in Python that supports basic operations such as deposit, withdraw, and get balance. Additionally, the class should have a method to calculate the interest earned over a specified period, assuming a fixed annual interest rate of 5%. Your implementation should handle invalid operations, such as attempting to withdraw more than the current balance or calculating interest for a negative number of years, by raising a `ValueError`.\n\n**Sample Input/Output:**\n- `account = BankAccount(1000)`\n- `account.deposit(500)`  # Balance should be 1500\n- `account.withdraw(200)`  # Balance should be 1300\n- `account.get_balance()`  # Should return 1300\n- `account.calculate_interest(2)`  # Should return 130.0 (1300 * 0.05 * 2)\n- `account.withdraw(1500)`  # Should raise ValueError: Insufficient balance\n- `account.calculate_interest(-1)`  # Should raise ValueError: Years must be non-negative", "response": "```python\nclass BankAccount:\n    def __init__(self, initial_balance=0.0):\n        self.balance = initial_balance\n        self.interest_rate = 0.05  # Fixed annual interest rate of 5%\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposits a specified amount into the bank account.\n        \n        :param amount: The amount to deposit (must be positive).\n        :raises ValueError: If the deposit amount is not positive.\n        \"\"\"\n        if amount <= 0:\n            raise ValueError(\"Deposit amount must be positive\")\n        self.balance += amount\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraws a specified amount from the bank account.\n        \n        :param amount: The amount to withdraw (must be positive and less than or equal to the current balance).\n        :raises ValueError: If the withdrawal amount is not positive or exceeds the current balance.\n        \"\"\"\n        if amount <= 0:\n            raise ValueError(\"Withdrawal amount must be positive\")\n        if amount > self.balance:\n            raise ValueError(\"Insufficient balance\")\n        self.balance -= amount\n\n    def get_balance(self):\n        \"\"\"\n        Returns the current balance of the bank account.\n        \n        :return: The current balance.\n        \"\"\"\n        return self.balance\n\n    def calculate_interest(self, years):\n        \"\"\"\n        Calculates the interest earned over a specified number of years.\n        \n        :param years: The number of years for which to calculate interest (must be non-negative).\n        :return: The interest earned.\n        :raises ValueError: If the number of years is negative.\n        \"\"\"\n        if years < 0:\n            raise ValueError(\"Years must be non-negative\")\n        # Simple interest formula: P * r * t\n        interest_earned = self.balance * self.interest_rate * years\n        return interest_earned\n```"}
{"prompt": "You are given a dataset of temperature readings taken at various times during the day. Each reading is represented as a dictionary with the following keys: `time`, `temperature`, and `unit` (which can be \"C\" for Celsius or \"F\" for Fahrenheit). Your task is to implement a function `convert_temperatures(data)` that takes this dataset as input and returns a new dataset with all temperatures converted to Celsius. The function should handle cases where the dataset is empty.\n\n**Input:**\n- A list of dictionaries, where each dictionary contains:\n  - `time`: A string representing the time of the reading.\n  - `temperature`: A float or integer representing the temperature reading.\n  - `unit`: A string representing the unit of the temperature (\"C\" or \"F\").\n\n**Output:**\n- A list of dictionaries with the same structure as the input, but with all temperatures converted to Celsius.\n\n**Sample Input:**\n```python\n[\n    {\"time\": \"08:00\", \"temperature\": 23, \"unit\": \"C\"},\n    {\"time\": \"12:00\", \"temperature\": 73.4, \"unit\": \"F\"},\n    {\"time\": \"18:00\", \"temperature\": 68, \"unit\": \"F\"}\n]\n```\n\n**Sample Output:**\n```python\n[\n    {\"time\": \"08:00\", \"temperature\": 23.0, \"unit\": \"C\"},\n    {\"time\": \"12:00\", \"temperature\": 23.0, \"unit\": \"C\"},\n    {\"time\": \"18:00\", \"temperature\": 20.0, \"unit\": \"C\"}\n]\n```", "response": "```python\ndef convert_temperatures(data):\n    \"\"\"\n    Converts all temperature readings in the dataset to Celsius.\n\n    Parameters:\n    data (list of dict): A list of dictionaries, each containing 'time', 'temperature', and 'unit'.\n\n    Returns:\n    list of dict: A new list of dictionaries with temperatures converted to Celsius.\n    \"\"\"\n    def convert_to_celsius(temp, unit):\n        if unit == \"C\":\n            return float(temp)\n        elif unit == \"F\":\n            return (temp - 32) * 5.0 / 9.0\n        else:\n            raise ValueError(f\"Unknown unit: {unit}\")\n\n    converted_data = []\n    for reading in data:\n        time = reading[\"time\"]\n        temperature = reading[\"temperature\"]\n        unit = reading[\"unit\"]\n        \n        converted_temperature = convert_to_celsius(temperature, unit)\n        converted_data.append({\"time\": time, \"temperature\": converted_temperature, \"unit\": \"C\"})\n    \n    return converted_data\n```"}
{"prompt": "You are given a CSV file named `students.csv` that contains information about students in the following format: `name,grade,age`. Your task is to write a Python script that reads this file and calculates the average grade of all students. The script should output the average grade rounded to two decimal places. Assume the CSV file is well-formed and contains at least one student.\n\n**Sample Input:**\n```\nname,grade,age\nAlice,85.5,20\nBob,90.0,22\nCharlie,78.5,21\n```\n\n**Sample Output:**\n```\nThe average grade of all students is: 84.67\n```", "response": "```python\nimport csv\n\ndef calculate_average_grade(filename):\n    \"\"\"\n    Calculate and print the average grade of students from a CSV file.\n\n    :param filename: str, the name of the CSV file containing student data.\n    \"\"\"\n    total_grade = 0\n    student_count = 0\n    \n    with open(filename, mode='r', newline='') as file:\n        reader = csv.DictReader(file)\n        \n        for row in reader:\n            total_grade += float(row['grade'])\n            student_count += 1\n    \n    average_grade = total_grade / student_count if student_count > 0 else 0\n    print(f\"The average grade of all students is: {average_grade:.2f}\")\n\n# Example usage\ncalculate_average_grade('students.csv')\n```"}
{"prompt": "You are tasked with implementing a `Calculator` class in Python that supports basic arithmetic operations: addition, subtraction, multiplication, and division. The class should include methods for each operation and handle division by zero by returning `None`. Additionally, implement a method `perform_operations(operations)` that processes a list of operations. Each operation is a string formatted as \"operation operand1 operand2\". The method should return a list of results corresponding to each operation. If an operation is invalid or cannot be performed, append `None` to the results list.\n\n**Sample Input:**\n```python\noperations = [\"add 5 3\", \"multiply 2 4\", \"divide 10 0\", \"subtract 7 2\", \"divide 5 2\", \"add 3 a\"]\n```\n\n**Sample Output:**\n```python\n[8, 8, None, 5, 2.5, None]\n```", "response": "```python\nclass Calculator:\n    def add(self, a, b):\n        \"\"\"Return the sum of a and b.\"\"\"\n        return a + b\n\n    def subtract(self, a, b):\n        \"\"\"Return the difference of a and b.\"\"\"\n        return a - b\n\n    def multiply(self, a, b):\n        \"\"\"Return the product of a and b.\"\"\"\n        return a * b\n\n    def divide(self, a, b):\n        \"\"\"Return the quotient of a and b, or None if b is zero.\"\"\"\n        if b == 0:\n            return None\n        return a / b\n\n    def perform_operations(self, operations):\n        \"\"\"Process a list of operations and return a list of results.\"\"\"\n        results = []\n        for operation in operations:\n            parts = operation.split()\n            if len(parts) != 3:\n                results.append(None)\n                continue\n\n            operator = parts[0]\n            try:\n                a = float(parts[1])\n                b = float(parts[2])\n            except ValueError:\n                results.append(None)\n                continue\n\n            if operator == \"add\":\n                results.append(self.add(a, b))\n            elif operator == \"subtract\":\n                results.append(self.subtract(a, b))\n            elif operator == \"multiply\":\n                results.append(self.multiply(a, b))\n            elif operator == \"divide\":\n                results.append(self.divide(a, b))\n            else:\n                results.append(None)\n        return results\n```"}
{"prompt": "You are tasked with implementing a function `filter_vowels(sentence)` that processes a given string `sentence` by removing all vowels, both uppercase and lowercase. The function should handle strings containing letters, punctuation, and spaces. Your solution should be case-insensitive.\n\n**Input:**\n- A single string `sentence` (1 \u2264 |sentence| \u2264 1000), consisting of letters, punctuation, and spaces.\n\n**Output:**\n- A string with all vowels removed.\n\n**Sample Input:**\n```\n\"Hello, World!\"\n```\n\n**Sample Output:**\n```\n\"Hll, Wrld!\"\n```", "response": "```python\ndef filter_vowels(sentence):\n    \"\"\"\n    Removes all vowels from the given string `sentence`.\n    \n    Parameters:\n    sentence (str): The input string from which vowels will be removed.\n    \n    Returns:\n    str: The resulting string with all vowels removed.\n    \"\"\"\n    vowels = \"aeiouAEIOU\"\n    return ''.join(char for char in sentence if char not in vowels)\n```"}
{"prompt": "You are given a string `phrase`. Your task is to implement a function `check_palindrome(phrase)` that returns `True` if the string is a palindrome, considering only alphanumeric characters and ignoring case, and `False` otherwise. A palindrome is a string that reads the same forward and backward.\n\n**Input:**\n- A single string `phrase` (1 \u2264 len(phrase) \u2264 1000).\n\n**Output:**\n- Return `True` if `phrase` is a palindrome under the given conditions, otherwise return `False`.\n\n**Sample Input 1:**\n```\n\"A man, a plan, a canal, Panama\"\n```\n**Sample Output 1:**\n```\nTrue\n```\n\n**Sample Input 2:**\n```\n\"race a car\"\n```\n**Sample Output 2:**\n```\nFalse\n```", "response": "```python\ndef check_palindrome(phrase):\n    \"\"\"\n    Determines if the given string is a palindrome, considering only alphanumeric characters and ignoring case.\n\n    :param phrase: A string to be checked.\n    :return: True if the string is a palindrome, False otherwise.\n    \"\"\"\n    cleaned_phrase = ''.join(char.lower() for char in phrase if char.isalnum())\n    return cleaned_phrase == cleaned_phrase[::-1]\n```"}
{"prompt": "You are given a list containing integers and strings. Your task is to write a Python function that calculates the sum of all even integers in the list. Non-integer values should be ignored. \n\n**Input:**\n- A list of elements, where each element is either an integer or a string.\n\n**Output:**\n- An integer representing the sum of all even integers in the list.\n\n**Sample Input:**\n```\n[1, 2, \"three\", 4, 5, 6, \"seven\", 8]\n```\n\n**Sample Output:**\n```\n20\n```", "response": "```python\ndef sum_of_even_numbers(numbers):\n    \"\"\"\n    Calculate the sum of all even integers in a list, ignoring non-integer values.\n\n    :param numbers: List of elements, where each element is either an integer or a string.\n    :return: Integer sum of all even integers in the list.\n    \"\"\"\n    total = 0\n    for num in numbers:\n        if isinstance(num, int) and num % 2 == 0:\n            total += num\n    return total\n\n# Example usage:\nnumbers = [1, 2, \"three\", 4, 5, 6, \"seven\", 8]\nprint(sum_of_even_numbers(numbers))  # Output: 20\n```"}
{"prompt": "You are tasked with designing a RESTful API to manage a collection of books. The API must support the following operations: create, read, update, and delete (CRUD). Your implementation should include the following endpoints:\n\n- **Create a new book**: `POST /books`\n- **Retrieve all books**: `GET /books`\n- **Retrieve a specific book by ID**: `GET /books/<int:book_id>`\n- **Update a book by ID**: `PUT /books/<int:book_id>`\n- **Delete a book by ID**: `DELETE /books/<int:book_id>`\n\nFor each endpoint, specify the expected request and response formats. The API should handle errors gracefully, returning appropriate HTTP status codes.\n\n**Sample Input/Output:**\n\n1. **Create a new book**\n   - Request: `POST /books` with JSON body `{\"title\": \"To Kill a Mockingbird\", \"author\": \"Harper Lee\"}`\n   - Response: `201 Created` with JSON body `{\"id\": 3, \"title\": \"To Kill a Mockingbird\", \"author\": \"Harper Lee\"}`\n\n2. **Retrieve all books**\n   - Request: `GET /books`\n   - Response: `200 OK` with JSON body `[{\"id\": 1, \"title\": \"1984\", \"author\": \"George Orwell\"}, {\"id\": 2, \"title\": \"The Great Gatsby\", \"author\": \"F. Scott Fitzgerald\"}, {\"id\": 3, \"title\": \"To Kill a Mockingbird\", \"author\": \"Harper Lee\"}]`\n\n3. **Retrieve a specific book by ID**\n   - Request: `GET /books/1`\n   - Response: `200 OK` with JSON body `{\"id\": 1, \"title\": \"1984\", \"author\": \"George Orwell\"}`\n\n4. **Update a book by ID**\n   - Request: `PUT /books/1` with JSON body `{\"title\": \"Animal Farm\", \"author\": \"George Orwell\"}`\n   - Response: `200 OK` with JSON body `{\"id\": 1, \"title\": \"Animal Farm\", \"author\": \"George Orwell\"}`\n\n5. **Delete a book by ID**\n   - Request: `DELETE /books/1`\n   - Response: `200 OK` with JSON body `{\"result\": true}`", "response": "```python\nfrom flask import Flask, jsonify, request, abort\n\napp = Flask(__name__)\n\n# In-memory storage for books\nbooks = [\n    {'id': 1, 'title': '1984', 'author': 'George Orwell'},\n    {'id': 2, 'title': 'The Great Gatsby', 'author': 'F. Scott Fitzgerald'}\n]\n\ndef _find_book(book_id):\n    \"\"\"Find a book by its ID.\"\"\"\n    return next((book for book in books if book['id'] == book_id), None)\n\n@app.route('/books', methods=['POST'])\ndef create_book():\n    \"\"\"Create a new book.\"\"\"\n    if not request.json or not 'title' in request.json or not 'author' in request.json:\n        abort(400)\n    new_book = {\n        'id': books[-1]['id'] + 1 if books else 1,\n        'title': request.json['title'],\n        'author': request.json['author']\n    }\n    books.append(new_book)\n    return jsonify(new_book), 201\n\n@app.route('/books', methods=['GET'])\ndef get_books():\n    \"\"\"Retrieve all books.\"\"\"\n    return jsonify(books)\n\n@app.route('/books/<int:book_id>', methods=['GET'])\ndef get_book(book_id):\n    \"\"\"Retrieve a specific book by ID.\"\"\"\n    book = _find_book(book_id)\n    if book is None:\n        abort(404)\n    return jsonify(book)\n\n@app.route('/books/<int:book_id>', methods=['PUT'])\ndef update_book(book_id):\n    \"\"\"Update a book by ID.\"\"\"\n    book = _find_book(book_id)\n    if book is None:\n        abort(404)\n    if not request.json:\n        abort(400)\n    book['title'] = request.json.get('title', book['title'])\n    book['author'] = request.json.get('author', book['author'])\n    return jsonify(book)\n\n@app.route('/books/<int:book_id>', methods=['DELETE'])\ndef delete_book(book_id):\n    \"\"\"Delete a book by ID.\"\"\"\n    book = _find_book(book_id)\n    if book is None:\n        abort(404)\n    books.remove(book)\n    return jsonify({'result': True})\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```"}
{"prompt": "You are given a list of tuples, where each tuple represents the coordinates of a point in a 2D plane. Your task is to write a Python function that calculates and returns the Euclidean distance between the first and last points in the list. The Euclidean distance between two points \\((x_1, y_1)\\) and \\((x_2, y_2)\\) is defined as \\(\\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}\\).\n\n**Input:**\n- A list of tuples, where each tuple contains two integers representing the x and y coordinates of a point.\n\n**Output:**\n- A float representing the Euclidean distance between the first and last points in the list. If the list is empty, return 0.0.\n\n**Sample Input:**\n```\n[(1, 2), (3, 4), (5, 6)]\n```\n\n**Sample Output:**\n```\n5.656854249492381\n```", "response": "```python\nimport math\n\ndef euclidean_distance(coords):\n    \"\"\"\n    Calculate the Euclidean distance between the first and last points in a list of coordinates.\n\n    :param coords: List of tuples, where each tuple contains two integers representing the x and y coordinates.\n    :return: Float representing the Euclidean distance between the first and last points. Returns 0.0 if the list is empty.\n    \"\"\"\n    if not coords:\n        return 0.0\n    first = coords[0]\n    last = coords[-1]\n    return math.sqrt((last[0] - first[0]) ** 2 + (last[1] - first[1]) ** 2)\n\n# Example usage\ncoords = [(1, 2), (3, 4), (5, 6)]\nprint(euclidean_distance(coords))\n```"}
{"prompt": "You are tasked with implementing a `Book` class to manage a library's inventory. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `title`: A string representing the title of the book.\n  - `author`: A string representing the author of the book.\n  - `ISBN`: A string representing the International Standard Book Number.\n  - `year`: An integer representing the year the book was published.\n  - `copies`: An integer representing the number of copies available in the library.\n\n- **Methods:**\n  - `check_out()`: Decrements the number of copies by 1 if there are copies available. Returns `True` if a copy was successfully checked out, otherwise returns `False`.\n  - `check_in()`: Increments the number of copies by 1.\n  - `is_available()`: Returns `True` if there are any copies available, otherwise returns `False`.\n\nImplement the `Book` class with the constructor and the methods described above.\n\n**Sample Input/Output:**\n```python\nbook = Book(\"1984\", \"George Orwell\", \"9780451524935\", 1949, 3)\nprint(book.is_available())  # Output: True\nprint(book.check_out())     # Output: True\nprint(book.check_out())     # Output: True\nprint(book.check_out())     # Output: True\nprint(book.check_out())     # Output: False\nprint(book.is_available())  # Output: False\nbook.check_in()\nprint(book.is_available())  # Output: True\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, ISBN, year, copies):\n        \"\"\"\n        Initializes a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param ISBN: The International Standard Book Number.\n        :param year: The year the book was published.\n        :param copies: The number of copies available.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.ISBN = ISBN\n        self.year = year\n        self.copies = copies\n\n    def check_out(self):\n        \"\"\"\n        Checks out a copy of the book if available.\n\n        :return: True if a copy was successfully checked out, False otherwise.\n        \"\"\"\n        if self.copies > 0:\n            self.copies -= 1\n            return True\n        else:\n            return False\n\n    def check_in(self):\n        \"\"\"\n        Returns a copy of the book to the inventory.\n        \"\"\"\n        self.copies += 1\n\n    def is_available(self):\n        \"\"\"\n        Checks if there are any copies of the book available.\n\n        :return: True if copies are available, False otherwise.\n        \"\"\"\n        return self.copies > 0\n```"}
{"prompt": "You are tasked with implementing a `BankAccount` class in Python. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `account_number`: A string representing the account number.\n  - `holder_name`: A string representing the name of the account holder.\n  - `balance`: A float representing the current balance in the account, initialized to 0 if not provided.\n\n- **Methods:**\n  - `deposit(amount)`: Increases the balance by the specified amount if the amount is positive.\n  - `withdraw(amount)`: Decreases the balance by the specified amount if the amount is positive and sufficient funds are available.\n  - `get_balance()`: Returns the current balance of the account.\n\n- **Class Method:**\n  - `total_accounts()`: Returns the total number of `BankAccount` instances created.\n\n**Sample Input/Output:**\n\n- **Input:**\n  ```\n  account1 = BankAccount(\"1234567890\", \"John Doe\", 1000)\n  account2 = BankAccount(\"0987654321\", \"Jane Smith\", 500)\n  account1.deposit(200)\n  account1.withdraw(300)\n  account2.deposit(150)\n  account2.withdraw(2000)\n  account3 = BankAccount(\"1122334455\", \"Alice Johnson\", 200)\n  ```\n\n- **Output:**\n  ```\n  Deposited 200. New balance is 1200.\n  Withdrew 300. New balance is 900.\n  Deposited 150. New balance is 650.\n  Insufficient funds.\n  ```\n\n- **Additional Output:**\n  ```\n  Account 1 balance: 900\n  Account 2 balance: 650\n  Total number of bank accounts: 3\n  ```", "response": "```python\nclass BankAccount:\n    _total_accounts = 0  # Class variable to track the number of bank accounts\n\n    def __init__(self, account_number, holder_name, balance=0):\n        \"\"\"\n        Initializes a new BankAccount instance.\n\n        :param account_number: A string representing the account number.\n        :param holder_name: A string representing the name of the account holder.\n        :param balance: A float representing the initial balance, default is 0.\n        \"\"\"\n        self.account_number = account_number\n        self.holder_name = holder_name\n        self.balance = balance\n        BankAccount._total_accounts += 1  # Increment the total accounts on creation\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposits a specified amount into the account if the amount is positive.\n\n        :param amount: A float representing the amount to deposit.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n            print(f\"Deposited {amount}. New balance is {self.balance}.\")\n        else:\n            print(\"Deposit amount must be positive.\")\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraws a specified amount from the account if the amount is positive and sufficient funds are available.\n\n        :param amount: A float representing the amount to withdraw.\n        \"\"\"\n        if amount > 0:\n            if self.balance >= amount:\n                self.balance -= amount\n                print(f\"Withdrew {amount}. New balance is {self.balance}.\")\n            else:\n                print(\"Insufficient funds.\")\n        else:\n            print(\"Withdrawal amount must be positive.\")\n\n    def get_balance(self):\n        \"\"\"\n        Returns the current balance of the account.\n\n        :return: A float representing the current balance.\n        \"\"\"\n        return self.balance\n\n    @classmethod\n    def total_accounts(cls):\n        \"\"\"\n        Returns the total number of BankAccount instances created.\n\n        :return: An integer representing the total number of accounts.\n        \"\"\"\n        return cls._total_accounts\n\n# Example of creating multiple BankAccount instances and performing operations on them\naccount1 = BankAccount(\"1234567890\", \"John Doe\", 1000)\naccount2 = BankAccount(\"0987654321\", \"Jane Smith\", 500)\n\naccount1.deposit(200)\naccount1.withdraw(300)\nprint(f\"Account 1 balance: {account1.get_balance()}\")  # Should print 900\n\naccount2.deposit(150)\naccount2.withdraw(2000)  # Should print \"Insufficient funds.\"\nprint(f\"Account 2 balance: {account2.get_balance()}\")  # Should print 650\n\naccount3 = BankAccount(\"1122334455\", \"Alice Johnson\", 200)\nprint(f\"Total number of bank accounts: {BankAccount.total_accounts()}\")  # Should print 3\n```"}
{"prompt": "Implement a Python class `Counter` that maintains a count of how many times a specific method is invoked. The class should support the following operations:\n\n- `increment()`: Increases the count by 1 each time it is called.\n- `get_count()`: Returns the current count.\n- `reset_count()`: Resets the count to zero.\n\nThe class should initialize the count to zero in its constructor `__init__`.\n\n**Sample Input/Output:**\n- Initialize `Counter` object.\n- Call `increment()` twice.\n- Call `get_count()`, expected output: `2`.\n- Call `reset_count()`.\n- Call `get_count()`, expected output: `0`.", "response": "```python\nclass Counter:\n    def __init__(self):\n        \"\"\"Initialize the count to zero.\"\"\"\n        self.count = 0\n\n    def increment(self):\n        \"\"\"Increment the count by 1.\"\"\"\n        self.count += 1\n\n    def get_count(self):\n        \"\"\"Return the current count.\"\"\"\n        return self.count\n\n    def reset_count(self):\n        \"\"\"Reset the count to zero.\"\"\"\n        self.count = 0\n\n# Example usage of the Counter class\ncounter = Counter()\nprint(\"Initial count:\", counter.get_count())  # Output: 0\n\ncounter.increment()\ncounter.increment()\nprint(\"Count after two increments:\", counter.get_count())  # Output: 2\n\ncounter.reset_count()\nprint(\"Count after reset:\", counter.get_count())  # Output: 0\n```"}
{"prompt": "You are given the root of a binary tree. Your task is to write a function `tree_to_list(root)` that returns a list of lists, where each sublist contains the values of the nodes at a particular level of the tree, in left-to-right order. The root node is considered to be at level 0.\n\n**Input:**\n- The function takes a single argument, `root`, which is the root node of a binary tree. Each node in the tree is an instance of the `TreeNode` class defined as follows:\n  ```python\n  class TreeNode:\n      def __init__(self, val=0, left=None, right=None):\n          self.val = val\n          self.left = left\n          self.right = right\n  ```\n\n**Output:**\n- The function should return a list of lists, where each sublist contains the values of the nodes at a particular level of the tree.\n\n**Sample Input:**\n```\n    1\n   / \\\n  2   3\n / \\\n4   5\n```\n\n**Sample Output:**\n```\n[[1], [2, 3], [4, 5]]\n```", "response": "```python\nclass TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\ndef tree_to_list(root):\n    \"\"\"\n    Converts a binary tree into a list of lists, where each sublist represents a level of the tree.\n    \n    :param root: TreeNode, the root of the binary tree\n    :return: List[List[int]], a list of lists containing the values of the nodes at each level\n    \"\"\"\n    if not root:\n        return []\n\n    result = []\n    queue = [root]\n\n    while queue:\n        level_size = len(queue)\n        current_level = []\n\n        for _ in range(level_size):\n            node = queue.pop(0)\n            current_level.append(node.val)\n\n            if node.left:\n                queue.append(node.left)\n            if node.right:\n                queue.append(node.right)\n\n        result.append(current_level)\n\n    return result\n```"}
{"prompt": "You are tasked with implementing a `Matrix` class that supports basic matrix operations: addition, subtraction, and multiplication. The class should handle matrices of integers and ensure that operations are performed only on compatible matrices. If the matrices are not compatible for an operation, the method should raise a `ValueError` with an appropriate message.\n\n**Input:**\n- The `Matrix` class will be instantiated with a 2D list of integers representing the matrix.\n- The `add`, `subtract`, and `multiply` methods will be called with another `Matrix` object as an argument.\n\n**Output:**\n- The `add` and `subtract` methods should return a new `Matrix` object representing the result of the operation.\n- The `multiply` method should return a new `Matrix` object representing the product of the two matrices.\n- The `__str__` method should return a string representation of the matrix, with rows separated by newlines and elements in each row separated by tabs.\n\n**Sample Input/Output:**\n```python\nmatrix1 = Matrix([[1, 2], [3, 4]])\nmatrix2 = Matrix([[2, 0], [1, 2]])\nprint(matrix1.add(matrix2))  # Output: 3\t2\n                             #         4\t6\nprint(matrix1.subtract(matrix2))  # Output: -1\t2\n                                  #          2\t2\nprint(matrix1.multiply(matrix2))  # Output: 4\t4\n                                  #          10\t8\n```", "response": "```python\nclass Matrix:\n    def __init__(self, data):\n        \"\"\"\n        Initialize a Matrix object with the given 2D list of integers.\n        \"\"\"\n        self.data = data\n        self.rows = len(data)\n        self.cols = len(data[0]) if self.rows > 0 else 0\n\n    def add(self, other):\n        \"\"\"\n        Add this matrix to another matrix and return the result as a new Matrix object.\n        Raises ValueError if the matrices are not of the same dimensions.\n        \"\"\"\n        if self.rows != other.rows or self.cols != other.cols:\n            raise ValueError(\"Matrices must have the same dimensions for addition.\")\n        \n        result = [\n            [self.data[i][j] + other.data[i][j] for j in range(self.cols)]\n            for i in range(self.rows)\n        ]\n        return Matrix(result)\n\n    def subtract(self, other):\n        \"\"\"\n        Subtract another matrix from this matrix and return the result as a new Matrix object.\n        Raises ValueError if the matrices are not of the same dimensions.\n        \"\"\"\n        if self.rows != other.rows or self.cols != other.cols:\n            raise ValueError(\"Matrices must have the same dimensions for subtraction.\")\n        \n        result = [\n            [self.data[i][j] - other.data[i][j] for j in range(self.cols)]\n            for i in range(self.rows)\n        ]\n        return Matrix(result)\n\n    def multiply(self, other):\n        \"\"\"\n        Multiply this matrix by another matrix and return the result as a new Matrix object.\n        Raises ValueError if the number of columns in this matrix is not equal to the number of rows in the other matrix.\n        \"\"\"\n        if self.cols != other.rows:\n            raise ValueError(\"Number of columns in the first matrix must be equal to number of rows in the second matrix.\")\n        \n        result = [\n            [sum(self.data[i][k] * other.data[k][j] for k in range(self.cols)) for j in range(other.cols)]\n            for i in range(self.rows)\n        ]\n        return Matrix(result)\n\n    def __str__(self):\n        \"\"\"\n        Return a string representation of the matrix with rows separated by newlines\n        and elements in each row separated by tabs.\n        \"\"\"\n        return '\\n'.join(['\\t'.join(map(str, row)) for row in self.data])\n```"}
{"prompt": "You are tasked with writing a Python script that utilizes the `requests` library to retrieve the HTML content from a specified URL. Your program should output the HTTP status code and the length of the HTML content. If the request is unsuccessful, your program should output an error message. \n\n**Input:**\n- A single string representing the URL.\n\n**Output:**\n- If the request is successful (status code 200), print two lines:\n  - The first line should contain the status code.\n  - The second line should contain the length of the HTML content.\n- If the request fails, print an error message indicating the failure.\n\n**Sample Input:**\n```\nhttps://www.example.com\n```\n\n**Sample Output:**\n```\nStatus Code: 200\nLength of the HTML content: 1234\n```\n\n**Sample Input:**\n```\nhttps://nonexistentwebsite.com\n```\n\n**Sample Output:**\n```\nFailed to retrieve the webpage. Status Code: 404\n```", "response": "```python\nimport requests\n\ndef fetch_webpage(url):\n    \"\"\"\n    Fetches the HTML content from the given URL and prints the status code and length of the content.\n    If the request fails, prints an error message.\n\n    :param url: The URL from which to fetch the HTML content.\n    \"\"\"\n    try:\n        response = requests.get(url)\n        if response.status_code == 200:\n            html_content = response.text\n            print(f\"Status Code: {response.status_code}\")\n            print(f\"Length of the HTML content: {len(html_content)}\")\n        else:\n            print(f\"Failed to retrieve the webpage. Status Code: {response.status_code}\")\n    except requests.exceptions.RequestException as e:\n        print(f\"An error occurred: {e}\")\n\n# Example usage\nurl = 'https://www.example.com'\nfetch_webpage(url)\n```"}
{"prompt": "You are given a list of integers `values`. Your task is to construct a binary search tree (BST) from these integers. Each integer should be inserted into the BST following the standard BST rules: for any given node, all values in the left subtree must be less than the node's value, and all values in the right subtree must be greater than the node's value. Implement a function `generate_binary_tree` that takes the list `values` and returns the root of the constructed BST. Each node in the tree should be an instance of the `TreeNode` class, which has attributes `val`, `left`, and `right`.\n\n**Input:**\n- A list of integers `values` (1 \u2264 len(values) \u2264 10^3), where each integer is in the range [-10^6, 10^6].\n\n**Output:**\n- The root of the constructed binary search tree.\n\n**Sample Input:**\n```\n[3, 1, 4, 2, 5]\n```\n\n**Sample Output:**\n```\n    3\n   / \\\n  1   4\n   \\   \\\n    2   5\n```", "response": "```python\nclass TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\ndef insert_into_bst(root, val):\n    \"\"\"\n    Inserts a value into the BST rooted at 'root'.\n    \n    :param root: TreeNode, the root of the BST.\n    :param val: int, the value to be inserted.\n    :return: TreeNode, the root of the BST after insertion.\n    \"\"\"\n    if not root:\n        return TreeNode(val)\n    if val < root.val:\n        root.left = insert_into_bst(root.left, val)\n    else:\n        root.right = insert_into_bst(root.right, val)\n    return root\n\ndef generate_binary_tree(values):\n    \"\"\"\n    Constructs a binary search tree from a list of integers.\n    \n    :param values: List[int], the list of integers to be inserted into the BST.\n    :return: TreeNode, the root of the constructed BST.\n    \"\"\"\n    if not values:\n        return None\n    root = TreeNode(values[0])\n    for value in values[1:]:\n        insert_into_bst(root, value)\n    return root\n\n# Example usage:\nvalues = [3, 1, 4, 2, 5]\nroot = generate_binary_tree(values)\n```"}
{"prompt": "You are given two non-empty strings `str1` and `str2`. Your task is to implement a function `find_common_prefix` that determines the longest common prefix shared by both strings. If no common prefix exists, return an empty string.\n\n**Input:**\n- Two strings `str1` and `str2` (1 \u2264 |str1|, |str2| \u2264 10^5), consisting of lowercase English letters.\n\n**Output:**\n- A single string representing the longest common prefix of `str1` and `str2`. If no common prefix exists, return an empty string.\n\n**Sample Input:**\n```\nflower\nflow\n```\n\n**Sample Output:**\n```\nflow\n```", "response": "```python\ndef find_common_prefix(str1, str2):\n    \"\"\"\n    Determines the longest common prefix shared by two strings.\n\n    Parameters:\n    str1 (str): The first input string.\n    str2 (str): The second input string.\n\n    Returns:\n    str: The longest common prefix of str1 and str2. Returns an empty string if no common prefix exists.\n    \"\"\"\n    common_prefix = \"\"\n    min_length = min(len(str1), len(str2))\n    \n    for i in range(min_length):\n        if str1[i] == str2[i]:\n            common_prefix += str1[i]\n        else:\n            break\n    \n    return common_prefix\n\n# Example usage\nprint(find_common_prefix(\"flower\", \"flow\"))  # Output: \"flow\"\n```"}
{"prompt": "You are tasked with implementing a Python generator function named `fibonacci` that generates the Fibonacci sequence indefinitely. The Fibonacci sequence starts with 0 and 1, and each subsequent number is the sum of the two preceding ones. Your function should yield the first number in the sequence (0), followed by the second number (1), and continue to yield the sum of the two preceding numbers indefinitely.\n\n**Sample Input/Output:**\n- The function does not take any input parameters.\n- The function yields an infinite sequence of Fibonacci numbers starting from 0.", "response": "```python\ndef fibonacci():\n    \"\"\"\n    A generator function that yields the Fibonacci sequence indefinitely.\n    Yields:\n        int: The next number in the Fibonacci sequence.\n    \"\"\"\n    a, b = 0, 1\n    while True:\n        yield a\n        a, b = b, a + b\n```"}
{"prompt": "You are given a text file named `input.txt` that contains a sequence of numbers, with one number per line. Your task is to write a Python function `sum_numbers_in_file` that reads this file and returns the sum of all the numbers. Your function should handle any `IOError` exceptions that might occur during file reading and return `None` in such cases.\n\n**Sample Input:**\n```\n1.5\n2.3\n3.7\n```\n\n**Sample Output:**\n```\n7.5\n```", "response": "```python\ndef sum_numbers_in_file(filename):\n    \"\"\"\n    Reads a file containing numbers, one per line, and returns the sum of these numbers.\n    Handles IOError exceptions and returns None if an error occurs.\n\n    :param filename: str, the name of the file to read\n    :return: float, the sum of the numbers in the file or None if an error occurs\n    \"\"\"\n    try:\n        with open(filename, 'r') as file:\n            total_sum = sum(float(line.strip()) for line in file)\n        return total_sum\n    except IOError:\n        return None\n```"}
{"prompt": "You are tasked with implementing an optimized version of the bubble sort algorithm in Python. Your function should be able to sort an array of integers in ascending order. To optimize the algorithm, include a mechanism to detect if the array is already sorted and terminate early if no swaps are made during a pass through the array.\n\n**Input:**\n- A list of integers `arr` (1 \u2264 len(arr) \u2264 1000), where each integer is in the range -1000 \u2264 arr[i] \u2264 1000.\n\n**Output:**\n- Return the sorted list of integers.\n\n**Sample Input:**\n```python\n[64, 34, 25, 12, 22, 11, 90]\n```\n\n**Sample Output:**\n```python\n[11, 12, 22, 25, 34, 64, 90]\n```", "response": "```python\ndef optimize_bubble_sort(arr):\n    \"\"\"\n    Sorts a list of integers in ascending order using an optimized version of the bubble sort algorithm.\n    \n    Parameters:\n    arr (list): A list of integers to be sorted.\n    \n    Returns:\n    list: The sorted list of integers.\n    \"\"\"\n    n = len(arr)\n    for i in range(n):\n        swapped = False\n        for j in range(0, n - i - 1):\n            if arr[j] > arr[j + 1]:\n                arr[j], arr[j + 1] = arr[j + 1], arr[j]\n                swapped = True\n        if not swapped:\n            break\n    return arr\n```"}
{"prompt": "You are given an integer `num`. Your task is to determine whether `num` is a palindrome. A number is a palindrome if it reads the same backward as forward. For instance, 121 is a palindrome, whereas 123 is not. Note that negative numbers are not considered palindromes. Implement the function `is_palindrome_number(num)` that returns `True` if `num` is a palindrome and `False` otherwise. The function should handle zero correctly.\n\n**Sample Input and Output:**\n- Input: `121`\n  - Output: `True`\n- Input: `-121`\n  - Output: `False`\n- Input: `10`\n  - Output: `False`\n- Input: `0`\n  - Output: `True`", "response": "```python\ndef is_palindrome_number(num):\n    \"\"\"\n    Determines if the given integer is a palindrome.\n    \n    Args:\n    num (int): The integer to check.\n    \n    Returns:\n    bool: True if num is a palindrome, False otherwise.\n    \"\"\"\n    # Convert the number to a string\n    num_str = str(num)\n    # Check if the string is equal to its reverse\n    return num_str == num_str[::-1]\n\n# Example usage:\n# print(is_palindrome_number(121))  # True\n# print(is_palindrome_number(-121)) # False\n# print(is_palindrome_number(10))   # False\n# print(is_palindrome_number(0))    # True\n```"}
{"prompt": "You are given two strings `s1` and `s2` consisting of words separated by spaces. Your task is to implement a function `find_common_words` that returns a set of words that appear in both strings, ignoring case differences. Assume that the input strings are properly formatted and do not contain any punctuation marks.\n\n**Input:**\n- Two strings `s1` and `s2` (1 \u2264 |s1|, |s2| \u2264 1000).\n\n**Output:**\n- A set of words that are common to both strings, with all words in lowercase.\n\n**Sample Input:**\n```\ns1 = \"Hello world this is a test\"\ns2 = \"This test is simple\"\n```\n\n**Sample Output:**\n```\n{'this', 'is', 'test'}\n```", "response": "```python\ndef find_common_words(s1, s2):\n    \"\"\"\n    Returns a set of words that appear in both input strings, ignoring case differences.\n    \n    :param s1: First input string\n    :param s2: Second input string\n    :return: Set of common words in lowercase\n    \"\"\"\n    s1 = s1.lower()\n    s2 = s2.lower()\n    \n    words1 = set(s1.split())\n    words2 = set(s2.split())\n    \n    return words1.intersection(words2)\n\n# Example usage:\ns1 = \"Hello world this is a test\"\ns2 = \"This test is simple\"\nprint(find_common_words(s1, s2))\n```"}
{"prompt": "You are given a list of integers `numbers`. Your task is to implement a function `find_max` that returns the maximum integer in the list. If the list is empty, the function should return `None`. Your implementation should handle any edge cases appropriately.\n\n**Sample Input:**\n```python\nnumbers = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]\n```\n\n**Sample Output:**\n```\n9\n```\n\n**Constraints:**\n- The list `numbers` can contain between 0 and 10^5 integers.\n- Each integer in the list can range from -10^9 to 10^9.", "response": "```python\ndef find_max(numbers):\n    \"\"\"\n    Returns the maximum integer in the list `numbers`.\n    If the list is empty, returns `None`.\n    \n    :param numbers: List of integers\n    :return: Maximum integer in the list or None if the list is empty\n    \"\"\"\n    if not numbers:\n        return None\n    \n    max_num = numbers[0]\n    \n    for i in numbers:\n        if i > max_num:\n            max_num = i\n    \n    return max_num\n```"}
{"prompt": "You are given a list of integers. Your task is to write a function that returns a new list containing only the unique elements from the input list, preserving the order of their first appearance. \n\n**Input:**\n- A list of integers `input_list` (1 \u2264 len(input_list) \u2264 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers representing the unique elements from `input_list` in the order they first appeared.\n\n**Sample Input:**\n```\n[4, 5, 6, 7, 5, 4, 8, 9, 10]\n```\n\n**Sample Output:**\n```\n[4, 5, 6, 7, 8, 9, 10]\n```", "response": "```python\ndef remove_duplicates(input_list):\n    \"\"\"\n    Returns a list of unique elements from the input list, preserving the order of their first appearance.\n    \n    :param input_list: List of integers\n    :return: List of unique integers\n    \"\"\"\n    seen = set()\n    unique_list = []\n    for item in input_list:\n        if item not in seen:\n            unique_list.append(item)\n            seen.add(item)\n    return unique_list\n\n# Example usage:\ninput_list = [4, 5, 6, 7, 5, 4, 8, 9, 10]\nprint(remove_duplicates(input_list))  # Output: [4, 5, 6, 7, 8, 9, 10]\n```"}
{"prompt": "Implement a Python class `Car` with the following specifications:\n\n- **Attributes:**\n  - `make`: A string representing the manufacturer of the car.\n  - `model`: A string representing the model of the car.\n  - `year`: An integer representing the year the car was manufactured.\n  - `mileage`: An integer representing the current mileage of the car.\n\n- **Methods:**\n  - `get_make()`: Returns the make of the car.\n  - `get_model()`: Returns the model of the car.\n  - `get_year()`: Returns the year of the car.\n  - `get_mileage()`: Returns the mileage of the car.\n  - `set_make(make)`: Sets the make of the car.\n  - `set_model(model)`: Sets the model of the car.\n  - `set_year(year)`: Sets the year of the car.\n  - `set_mileage(mileage)`: Sets the mileage of the car.\n  - `update_mileage(new_mileage)`: Updates the mileage of the car. Raises a `ValueError` if `new_mileage` is less than the current mileage.\n  - `display_info()`: Prints the car's information in the format:\n    ```\n    Car Information:\n    Make: <make>\n    Model: <model>\n    Year: <year>\n    Mileage: <mileage> miles\n    ```\n\n- **Sample Input/Output:**\n  - Input: `Car(\"Toyota\", \"Corolla\", 2021, 15000)`\n  - Output:\n    ```\n    Car Information:\n    Make: Toyota\n    Model: Corolla\n    Year: 2021\n    Mileage: 15000 miles\n    ```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, mileage):\n        \"\"\"\n        Initializes a new Car instance with the given make, model, year, and mileage.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.mileage = mileage\n\n    def get_make(self):\n        \"\"\"\n        Returns the make of the car.\n        \"\"\"\n        return self.make\n\n    def get_model(self):\n        \"\"\"\n        Returns the model of the car.\n        \"\"\"\n        return self.model\n\n    def get_year(self):\n        \"\"\"\n        Returns the year of the car.\n        \"\"\"\n        return self.year\n\n    def get_mileage(self):\n        \"\"\"\n        Returns the mileage of the car.\n        \"\"\"\n        return self.mileage\n\n    def set_make(self, make):\n        \"\"\"\n        Sets the make of the car.\n        \"\"\"\n        self.make = make\n\n    def set_model(self, model):\n        \"\"\"\n        Sets the model of the car.\n        \"\"\"\n        self.model = model\n\n    def set_year(self, year):\n        \"\"\"\n        Sets the year of the car.\n        \"\"\"\n        self.year = year\n\n    def set_mileage(self, mileage):\n        \"\"\"\n        Sets the mileage of the car.\n        \"\"\"\n        self.mileage = mileage\n\n    def update_mileage(self, new_mileage):\n        \"\"\"\n        Updates the mileage of the car. Raises a ValueError if new_mileage is less than the current mileage.\n        \"\"\"\n        if new_mileage < self.mileage:\n            raise ValueError(\"New mileage cannot be less than the current mileage.\")\n        self.mileage = new_mileage\n\n    def display_info(self):\n        \"\"\"\n        Prints the car's information in a readable format.\n        \"\"\"\n        print(f\"Car Information:\\nMake: {self.make}\\nModel: {self.model}\\nYear: {self.year}\\nMileage: {self.mileage} miles\")\n\n# Creating an instance of the Car class\nmy_car = Car(\"Toyota\", \"Corolla\", 2021, 15000)\n\n# Displaying the car's information\nmy_car.display_info()\n```"}
{"prompt": "You are tasked with implementing a `BankAccount` class in Python that simulates basic banking operations. The class should support the following functionalities:\n\n- **Initialization**: The constructor should accept an optional `initial_balance` parameter, defaulting to 0 if not provided.\n- **Deposit**: A method `deposit` that takes an `amount` parameter and adds it to the account balance. If the `amount` is not positive, raise a `ValueError` with the message \"Deposit amount must be positive.\"\n- **Withdraw**: A method `withdraw` that takes an `amount` parameter and subtracts it from the account balance. If the `amount` is greater than the current balance, raise a `ValueError` with the message \"Insufficient funds.\" If the `amount` is not positive, raise a `ValueError` with the message \"Withdrawal amount must be positive.\"\n- **Get Balance**: A method `get_balance` that returns the current balance of the account.\n- **Apply Interest**: A method `apply_interest` that takes an `interest_rate` parameter (as a percentage) and updates the balance by applying the interest. If the `interest_rate` is negative, raise a `ValueError` with the message \"Interest rate must be non-negative.\"\n\n**Sample Input/Output**:\n```python\naccount = BankAccount(100)\naccount.deposit(50)\nprint(account.get_balance())  # Output: 150\naccount.withdraw(30)\nprint(account.get_balance())  # Output: 120\naccount.apply_interest(10)\nprint(account.get_balance())  # Output: 132.0\n```", "response": "```python\nclass BankAccount:\n    def __init__(self, initial_balance=0):\n        \"\"\"\n        Initializes a new bank account with an optional initial balance.\n        \n        :param initial_balance: The starting balance of the account (default is 0).\n        \"\"\"\n        self.balance = initial_balance\n\n    def deposit(self, amount):\n        \"\"\"\n        Adds the specified amount to the account balance.\n        \n        :param amount: The amount to deposit.\n        :raises ValueError: If the amount is not positive.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n        else:\n            raise ValueError(\"Deposit amount must be positive.\")\n    \n    def withdraw(self, amount):\n        \"\"\"\n        Subtracts the specified amount from the account balance.\n        \n        :param amount: The amount to withdraw.\n        :raises ValueError: If the amount is greater than the current balance or not positive.\n        \"\"\"\n        if amount > self.balance:\n            raise ValueError(\"Insufficient funds.\")\n        elif amount < 0:\n            raise ValueError(\"Withdrawal amount must be positive.\")\n        else:\n            self.balance -= amount\n    \n    def get_balance(self):\n        \"\"\"\n        Returns the current balance of the account.\n        \n        :return: The current balance.\n        \"\"\"\n        return self.balance\n    \n    def apply_interest(self, interest_rate):\n        \"\"\"\n        Applies the specified interest rate to the account balance.\n        \n        :param interest_rate: The interest rate as a percentage.\n        :raises ValueError: If the interest rate is negative.\n        \"\"\"\n        if interest_rate < 0:\n            raise ValueError(\"Interest rate must be non-negative.\")\n        self.balance += self.balance * (interest_rate / 100)\n```"}
{"prompt": "Implement a Python class `Student` with the following specifications:\n\n- **Attributes:**\n  - `name`: A string representing the student's name.\n  - `age`: An integer representing the student's age.\n  - `student_id`: A string representing the student's unique identifier.\n  - `grades`: A list of integers representing the student's grades.\n\n- **Methods:**\n  - `get_name()`: Returns the student's name.\n  - `set_name(name)`: Sets the student's name.\n  - `get_age()`: Returns the student's age.\n  - `set_age(age)`: Sets the student's age.\n  - `get_student_id()`: Returns the student's ID.\n  - `set_student_id(student_id)`: Sets the student's ID.\n  - `get_grades()`: Returns the list of grades.\n  - `set_grades(grades)`: Sets the list of grades.\n  - `calculate_average()`: Computes and returns the average of the grades. If the list is empty, return 0.\n  - `display_info()`: Prints the student's information in the following format:\n    ```\n    Student Name: [name]\n    Age: [age]\n    Student ID: [student_id]\n    Grades: [grades]\n    Average Grade: [average_grade]\n    ```\n    where `[average_grade]` is formatted to two decimal places.\n\n- **Sample Input:**\n  - `name = \"Alice\"`\n  - `age = 20`\n  - `student_id = \"S12345\"`\n  - `grades = [88, 92, 85, 90, 87]`\n\n- **Sample Output:**\n  ```\n  Student Name: Alice\n  Age: 20\n  Student ID: S12345\n  Grades: [88, 92, 85, 90, 87]\n  Average Grade: 88.40\n  ```", "response": "```python\nclass Student:\n    def __init__(self, name, age, student_id, grades):\n        self._name = name\n        self._age = age\n        self._student_id = student_id\n        self._grades = grades\n\n    def get_name(self):\n        \"\"\"Returns the student's name.\"\"\"\n        return self._name\n\n    def set_name(self, name):\n        \"\"\"Sets the student's name.\"\"\"\n        self._name = name\n\n    def get_age(self):\n        \"\"\"Returns the student's age.\"\"\"\n        return self._age\n\n    def set_age(self, age):\n        \"\"\"Sets the student's age.\"\"\"\n        self._age = age\n\n    def get_student_id(self):\n        \"\"\"Returns the student's ID.\"\"\"\n        return self._student_id\n\n    def set_student_id(self, student_id):\n        \"\"\"Sets the student's ID.\"\"\"\n        self._student_id = student_id\n\n    def get_grades(self):\n        \"\"\"Returns the list of grades.\"\"\"\n        return self._grades\n\n    def set_grades(self, grades):\n        \"\"\"Sets the list of grades.\"\"\"\n        self._grades = grades\n\n    def calculate_average(self):\n        \"\"\"Computes and returns the average of the grades. Returns 0 if the list is empty.\"\"\"\n        if len(self._grades) == 0:\n            return 0\n        return sum(self._grades) / len(self._grades)\n\n    def display_info(self):\n        \"\"\"Prints the student's information in a readable format.\"\"\"\n        avg_grade = self.calculate_average()\n        print(f\"Student Name: {self._name}\")\n        print(f\"Age: {self._age}\")\n        print(f\"Student ID: {self._student_id}\")\n        print(f\"Grades: {self._grades}\")\n        print(f\"Average Grade: {avg_grade:.2f}\")\n\n\n# Creating an instance of Student class\nstudent = Student(\"Alice\", 20, \"S12345\", [88, 92, 85, 90, 87])\n\n# Calling display_info method to print student details\nstudent.display_info()\n```"}
{"prompt": "You are given a list of integers `nums` and an integer `target`. Your task is to implement a function `find_target(nums, target)` that returns the index of the first occurrence of `target` in the list `nums`. If the `target` is not present in the list, the function should return `-1`.\n\n**Constraints:**\n- The length of the list `nums` will be between 1 and 10^4.\n- Each element in `nums` will be an integer between -10^9 and 10^9.\n- The `target` will be an integer between -10^9 and 10^9.\n\n**Sample Input 1:**\n```\nnums = [1, 2, 3, 4, 5, 2]\ntarget = 2\n```\n**Sample Output 1:**\n```\n1\n```\n\n**Sample Input 2:**\n```\nnums = [7, 8, 9, 10]\ntarget = 5\n```\n**Sample Output 2:**\n```\n-1\n```", "response": "```python\ndef find_target(nums, target):\n    \"\"\"\n    Returns the index of the first occurrence of target in the list nums.\n    If target is not found, returns -1.\n    \n    :param nums: List[int] - The list of integers to search within.\n    :param target: int - The integer to find in the list.\n    :return: int - The index of the first occurrence of target, or -1 if not found.\n    \"\"\"\n    try:\n        return nums.index(target)\n    except ValueError:\n        return -1\n\n# Example usage:\nnums = [1, 2, 3, 4, 5, 2]\ntarget = 2\nprint(find_target(nums, target))  # Output: 1\n```"}
{"prompt": "You are given a string `sentence` consisting of words separated by single spaces. Your task is to write a function `reverse_words(sentence)` that returns a new string with the words in reverse order. Assume that the input string does not contain any leading or trailing spaces and consists solely of words and spaces.\n\n**Sample Input:**\n```\n\"Hello world this is a test\"\n```\n\n**Sample Output:**\n```\n\"test a is this world Hello\"\n```", "response": "```python\ndef reverse_words(sentence):\n    \"\"\"\n    Reverses the order of words in the given sentence.\n\n    :param sentence: A string containing words separated by single spaces.\n    :return: A string with the words in reverse order.\n    \"\"\"\n    return ' '.join(sentence.split()[::-1])\n\n# Test the function\nsentence = \"Hello world this is a test\"\nprint(reverse_words(sentence))  # Output: \"test a is this world Hello\"\n```"}
{"prompt": "Implement a Python class `Car` with the following specifications:\n\n- **Attributes:**\n  - `make`: A string representing the manufacturer of the car.\n  - `model`: A string representing the model of the car.\n  - `year`: An integer representing the year the car was manufactured.\n  - `mileage`: An integer representing the current mileage of the car.\n\n- **Methods:**\n  - `update_mileage(new_mileage)`: Updates the mileage of the car. The mileage can only be increased; if `new_mileage` is less than the current mileage, print \"Mileage cannot be decreased.\"\n  - `display_info()`: Prints the car's information in the format:\n    ```\n    Car: <year> <make> <model>\n    Mileage: <mileage> miles\n    ```\n\n- **Constraints:**\n  - The mileage should never be allowed to decrease.\n\n- **Sample Input/Output:**\n  ```\n  Input:\n  car = Car(\"Toyota\", \"Corolla\", 2020, 15000)\n  car.display_info()\n  car.update_mileage(16000)\n  car.display_info()\n  car.update_mileage(14000)\n\n  Output:\n  Car: 2020 Toyota Corolla\n  Mileage: 15000 miles\n  Car: 2020 Toyota Corolla\n  Mileage: 16000 miles\n  Mileage cannot be decreased.\n  ```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, mileage):\n        \"\"\"\n        Initializes a new Car instance with the given make, model, year, and mileage.\n        \n        :param make: str - The manufacturer of the car.\n        :param model: str - The model of the car.\n        :param year: int - The year the car was manufactured.\n        :param mileage: int - The current mileage of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.mileage = mileage\n\n    def update_mileage(self, new_mileage):\n        \"\"\"\n        Updates the mileage of the car. The mileage can only be increased.\n        \n        :param new_mileage: int - The new mileage to be set.\n        \"\"\"\n        if new_mileage >= self.mileage:\n            self.mileage = new_mileage\n        else:\n            print(\"Mileage cannot be decreased.\")\n\n    def display_info(self):\n        \"\"\"\n        Prints the car's information in the format:\n        Car: <year> <make> <model>\n        Mileage: <mileage> miles\n        \"\"\"\n        print(f\"Car: {self.year} {self.make} {self.model}\")\n        print(f\"Mileage: {self.mileage} miles\")\n```"}
{"prompt": "You are tasked with developing a function to classify the sentiment of a given sentence as positive, negative, or neutral. You will utilize a pre-trained sentiment analysis model to achieve this. Your function should be efficient and accurate.\n\n**Input:**\n- A single string `sentence` representing the sentence to be analyzed.\n\n**Output:**\n- A string representing the sentiment of the sentence, which can be \"POSITIVE\", \"NEGATIVE\", or \"NEUTRAL\".\n\n**Sample Input:**\n```\n\"Despite the harsh weather conditions, the hikers enjoyed their adventurous trip to the mountains.\"\n```\n\n**Sample Output:**\n```\nPOSITIVE\n```", "response": "```python\nfrom transformers import pipeline\n\n# Load the pre-trained sentiment analysis model with a pipeline\nsentiment_pipeline = pipeline(\"sentiment-analysis\", model=\"siebert/sentiment-roberta-large-3-folds\")\n\ndef predict_sentiment(sentence):\n    \"\"\"\n    Predicts the sentiment of a given sentence using a pre-trained model.\n\n    Parameters:\n    sentence (str): The sentence to analyze.\n\n    Returns:\n    str: The sentiment of the sentence, which can be \"POSITIVE\", \"NEGATIVE\", or \"NEUTRAL\".\n    \"\"\"\n    # Get the sentiment prediction for the given sentence\n    result = sentiment_pipeline(sentence)[0]\n    # Return the label from the result\n    return result['label']\n\n# Test the function with the provided example\nsentence = \"Despite the harsh weather conditions, the hikers enjoyed their adventurous trip to the mountains.\"\nprint(predict_sentiment(sentence))\n```"}
{"prompt": "You are required to implement a stack data structure using a list. The stack should support the following operations:\n- `push(item)`: Adds an item to the top of the stack.\n- `pop()`: Removes the item from the top of the stack and returns it. If the stack is empty, raise an `IndexError`.\n- `peek()`: Returns the item at the top of the stack without removing it. If the stack is empty, raise an `IndexError`.\n- `is_empty()`: Returns `True` if the stack is empty, otherwise `False`.\n\n**Sample Input/Output:**\n- Input: `push(1), push(2), push(3), peek(), pop(), pop(), is_empty(), pop(), is_empty()`\n- Output: `3, 3, 2, False, 1, True`", "response": "```python\nclass Stack:\n    def __init__(self):\n        \"\"\"Initialize an empty stack.\"\"\"\n        self.items = []\n\n    def is_empty(self):\n        \"\"\"Check if the stack is empty.\"\"\"\n        return len(self.items) == 0\n\n    def push(self, item):\n        \"\"\"Add an item to the top of the stack.\"\"\"\n        self.items.append(item)\n\n    def pop(self):\n        \"\"\"Remove and return the item from the top of the stack. Raise IndexError if the stack is empty.\"\"\"\n        if self.is_empty():\n            raise IndexError(\"pop from empty stack\")\n        return self.items.pop()\n\n    def peek(self):\n        \"\"\"Return the item at the top of the stack without removing it. Raise IndexError if the stack is empty.\"\"\"\n        if self.is_empty():\n            raise IndexError(\"peek from empty stack\")\n        return self.items[-1]\n\n# Example usage:\nif __name__ == \"__main__\":\n    stack = Stack()\n    stack.push(1)\n    stack.push(2)\n    stack.push(3)\n    print(stack.peek())  # Output: 3\n    print(stack.pop())   # Output: 3\n    print(stack.pop())   # Output: 2\n    print(stack.is_empty())  # Output: False\n    print(stack.pop())   # Output: 1\n    print(stack.is_empty())  # Output: True\n```"}
{"prompt": "You are tasked with implementing a Python generator function named `fibonacci()` that yields an infinite sequence of Fibonacci numbers. The Fibonacci sequence is defined as follows: F(0) = 0, F(1) = 1, and F(n) = F(n-1) + F(n-2) for n > 1. Your function should return a generator object that can be iterated over to produce Fibonacci numbers indefinitely.\n\n**Sample Input/Output:**\n- The function does not take any input parameters.\n- The output is a generator object that can be used to retrieve Fibonacci numbers one by one.", "response": "```python\ndef fibonacci():\n    \"\"\"\n    Generator function to yield Fibonacci numbers indefinitely.\n    \n    Yields:\n        int: The next Fibonacci number in the sequence.\n    \"\"\"\n    a, b = 0, 1\n    while True:\n        yield a\n        a, b = b, a + b\n```"}
{"prompt": "You are tasked with implementing a recursive function named `calculate_factorial` that computes the factorial of a given non-negative integer `n`. The factorial of a non-negative integer `n` is the product of all positive integers less than or equal to `n`. By definition, the factorial of 0 is 1. Your function should handle this edge case appropriately.\n\n**Input:**\n- A single non-negative integer `n` (0 \u2264 n \u2264 20).\n\n**Output:**\n- Return the factorial of `n`.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n120\n```", "response": "```python\ndef calculate_factorial(n):\n    \"\"\"\n    Calculate the factorial of a non-negative integer n using recursion.\n    \n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n    \n    Returns:\n    int: The factorial of the given integer n.\n    \"\"\"\n    if n == 0:\n        return 1\n    else:\n        return n * calculate_factorial(n - 1)\n```"}
{"prompt": "You are tasked with implementing a `Book` class that manages information about books in a library system. The class should support the following functionalities:\n\n- Initialize a book with its title, author, ISBN, publication year, and price.\n- Update the price of the book.\n- Calculate the age of the book given the current year.\n- Display the book's information in a formatted manner.\n\n**Input:**\n- The `Book` class will be instantiated with the following parameters:\n  - `title` (string): The title of the book.\n  - `author` (string): The author of the book.\n  - `ISBN` (string): The ISBN number of the book.\n  - `year` (integer): The year the book was published.\n  - `price` (float): The price of the book.\n\n**Output:**\n- The `display_info` method should print the book's details in the following format:\n  ```\n  Title: <title>\n  Author: <author>\n  ISBN: <ISBN>\n  Year: <year>\n  Price: $<price>\n  ```\n  where `<price>` is formatted to two decimal places.\n\n**Sample Usage:**\n- Create a `Book` object with the title \"1984\", author \"George Orwell\", ISBN \"9780451524935\", year 1949, and price 15.99.\n- Display the book's information.\n- Update the book's price to 12.99.\n- Print the age of the book in the year 2023.\n- Display the book's updated information.", "response": "```python\nclass Book:\n    def __init__(self, title, author, ISBN, year, price):\n        \"\"\"\n        Initialize a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param ISBN: The ISBN number of the book.\n        :param year: The year the book was published.\n        :param price: The price of the book.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.ISBN = ISBN\n        self.year = year\n        self.price = price\n\n    def update_price(self, new_price):\n        \"\"\"\n        Update the price of the book.\n\n        :param new_price: The new price of the book.\n        \"\"\"\n        self.price = new_price\n\n    def get_age_of_book(self, current_year):\n        \"\"\"\n        Calculate the age of the book given the current year.\n\n        :param current_year: The current year.\n        :return: The age of the book.\n        \"\"\"\n        return current_year - self.year\n\n    def display_info(self):\n        \"\"\"\n        Display the book's information in a formatted manner.\n        \"\"\"\n        print(f\"Title: {self.title}\")\n        print(f\"Author: {self.author}\")\n        print(f\"ISBN: {self.ISBN}\")\n        print(f\"Year: {self.year}\")\n        print(f\"Price: ${self.price:.2f}\")\n\n# Example usage:\n# book = Book(\"1984\", \"George Orwell\", \"9780451524935\", 1949, 15.99)\n# book.display_info()\n# book.update_price(12.99)\n# print(\"Age of the book in 2023:\", book.get_age_of_book(2023))\n# book.display_info()\n```"}
{"prompt": "You are tasked with designing and implementing a Python class `Employee` to manage employee records. The class should support the following operations:\n\n- `add_employee(name, position, salary)`: Adds a new employee with the given name, position, and salary. Returns the unique employee ID.\n- `remove_employee(employee_id)`: Removes the employee with the specified ID. Returns `True` if the employee was successfully removed, otherwise `False`.\n- `update_employee(employee_id, name=None, position=None, salary=None)`: Updates the details of the employee with the specified ID. Returns `True` if the employee was successfully updated, otherwise `False`.\n- `get_employee_info(employee_id)`: Returns the details of the employee with the specified ID, or `None` if the employee does not exist.\n- `get_all_employees()`: Returns a dictionary of all employees with their IDs as keys.\n\n**Sample Input/Output:**\n\n```\nemp_db = Employee()\nemp_id1 = emp_db.add_employee(\"John Doe\", \"Software Engineer\", 75000)\nemp_id2 = emp_db.add_employee(\"Jane Smith\", \"Data Scientist\", 80000)\nprint(emp_db.get_employee_info(emp_id1))  # Output: {'name': 'John Doe', 'position': 'Software Engineer', 'salary': 75000}\nemp_db.update_employee(emp_id1, position=\"Senior Software Engineer\")\nprint(emp_db.get_employee_info(emp_id1))  # Output: {'name': 'John Doe', 'position': 'Senior Software Engineer', 'salary': 75000}\nprint(emp_db.get_all_employees())  # Output: {1: {'name': 'John Doe', 'position': 'Senior Software Engineer', 'salary': 75000}, 2: {'name': 'Jane Smith', 'position': 'Data Scientist', 'salary': 80000}}\nemp_db.remove_employee(emp_id2)\nprint(emp_db.get_all_employees())  # Output: {1: {'name': 'John Doe', 'position': 'Senior Software Engineer', 'salary': 75000}}\n```", "response": "```python\nclass Employee:\n    def __init__(self):\n        self.employees = {}\n        self.employee_id_counter = 1\n\n    def add_employee(self, name, position, salary):\n        \"\"\"\n        Adds a new employee with the given name, position, and salary.\n        Returns the unique employee ID.\n        \"\"\"\n        employee_id = self.employee_id_counter\n        self.employees[employee_id] = {\"name\": name, \"position\": position, \"salary\": salary}\n        self.employee_id_counter += 1\n        return employee_id\n\n    def remove_employee(self, employee_id):\n        \"\"\"\n        Removes the employee with the specified ID.\n        Returns True if the employee was successfully removed, otherwise False.\n        \"\"\"\n        if employee_id in self.employees:\n            del self.employees[employee_id]\n            return True\n        return False\n\n    def update_employee(self, employee_id, name=None, position=None, salary=None):\n        \"\"\"\n        Updates the details of the employee with the specified ID.\n        Returns True if the employee was successfully updated, otherwise False.\n        \"\"\"\n        if employee_id in self.employees:\n            if name is not None:\n                self.employees[employee_id][\"name\"] = name\n            if position is not None:\n                self.employees[employee_id][\"position\"] = position\n            if salary is not None:\n                self.employees[employee_id][\"salary\"] = salary\n            return True\n        return False\n\n    def get_employee_info(self, employee_id):\n        \"\"\"\n        Returns the details of the employee with the specified ID, or None if the employee does not exist.\n        \"\"\"\n        return self.employees.get(employee_id, None)\n\n    def get_all_employees(self):\n        \"\"\"\n        Returns a dictionary of all employees with their IDs as keys.\n        \"\"\"\n        return self.employees\n\n# Sample usage\nif __name__ == \"__main__\":\n    emp_db = Employee()\n    \n    # Add employees\n    emp_id1 = emp_db.add_employee(\"John Doe\", \"Software Engineer\", 75000)\n    emp_id2 = emp_db.add_employee(\"Jane Smith\", \"Data Scientist\", 80000)\n    \n    # Get info about an employee\n    print(emp_db.get_employee_info(emp_id1))  # Output: {'name': 'John Doe', 'position': 'Software Engineer', 'salary': 75000}\n    \n    # Update an employee's position\n    emp_db.update_employee(emp_id1, position=\"Senior Software Engineer\")\n    print(emp_db.get_employee_info(emp_id1))  # Output: {'name': 'John Doe', 'position': 'Senior Software Engineer', 'salary': 75000}\n    \n    # Get all employees\n    print(emp_db.get_all_employees())  # Output: {1: {'name': 'John Doe', 'position': 'Senior Software Engineer', 'salary': 75000}, 2: {'name': 'Jane Smith', 'position': 'Data Scientist', 'salary': 80000}}\n    \n    # Remove an employee\n    emp_db.remove_employee(emp_id2)\n    print(emp_db.get_all_employees())  # Output: {1: {'name': 'John Doe', 'position': 'Senior Software Engineer', 'salary': 75000}}\n```"}
{"prompt": "You are tasked with implementing a Python class `Employee` to manage employee details in a company's database. The class should support the following functionalities:\n\n1. **Initialization**: Create an `Employee` object with attributes `name`, `employee_id`, `department`, and `salary`.\n2. **String Representation**: Provide a string representation of the `Employee` object that includes all attributes.\n3. **Salary Adjustment**: Implement a method to increase the employee's salary by a specified amount.\n4. **Department Transfer**: Implement a method to change the employee's department.\n\n**Sample Input/Output**:\n- Input: `Employee(\"John Doe\", 12345, \"Engineering\", 75000)`\n- Output: `Employee: John Doe, ID: 12345, Department: Engineering, Salary: 75000`\n- After `give_raise(5000)`: `Employee: John Doe, ID: 12345, Department: Engineering, Salary: 80000`\n- After `transfer_department(\"Marketing\")`: `Employee: John Doe, ID: 12345, Department: Marketing, Salary: 80000`", "response": "```python\nclass Employee:\n    def __init__(self, name, employee_id, department, salary):\n        \"\"\"\n        Initialize an Employee object with the given name, employee_id, department, and salary.\n        \n        :param name: str - The name of the employee.\n        :param employee_id: int - The unique identifier for the employee.\n        :param department: str - The department where the employee works.\n        :param salary: float - The salary of the employee.\n        \"\"\"\n        self.name = name\n        self.employee_id = employee_id\n        self.department = department\n        self.salary = salary\n\n    def __str__(self):\n        \"\"\"\n        Return a string representation of the Employee object.\n        \n        :return: str - A formatted string containing the employee's details.\n        \"\"\"\n        return f\"Employee: {self.name}, ID: {self.employee_id}, Department: {self.department}, Salary: {self.salary}\"\n\n    def give_raise(self, amount):\n        \"\"\"\n        Increase the employee's salary by the specified amount.\n        \n        :param amount: float - The amount by which to increase the salary.\n        \"\"\"\n        self.salary += amount\n\n    def transfer_department(self, new_department):\n        \"\"\"\n        Change the employee's department to the new specified department.\n        \n        :param new_department: str - The new department for the employee.\n        \"\"\"\n        self.department = new_department\n```"}
{"prompt": "You are given a string `text` and a list of `stop_words`. Your task is to implement a function `filter_words` that processes the string by removing all occurrences of the stop words, ignoring case and punctuation. The function should return the modified string.\n\n**Input:**\n- A string `text` (1 \u2264 |text| \u2264 1000) containing words separated by spaces and possibly including punctuation.\n- A list of `stop_words` (0 \u2264 |stop_words| \u2264 100), where each stop word is a string.\n\n**Output:**\n- A string with all stop words removed, maintaining the original order of the remaining words.\n\n**Sample Input:**\n```\ntext = \"Hello, world! How's it going?\"\nstop_words = [\"hello\", \"world\"]\n```\n\n**Sample Output:**\n```\n\"How's it going?\"\n```", "response": "```python\nimport string\n\ndef filter_words(text, stop_words):\n    \"\"\"\n    Removes all occurrences of stop words from the input text, ignoring case and punctuation.\n    \n    :param text: A string containing words separated by spaces and possibly including punctuation.\n    :param stop_words: A list of strings representing the stop words to be removed.\n    :return: A string with all stop words removed.\n    \"\"\"\n    stop_words_set = set(word.lower() for word in stop_words)\n    translator = str.maketrans('', '', string.punctuation)\n    cleaned_text = text.translate(translator)\n    filtered_words = [word for word in cleaned_text.split() if word.lower() not in stop_words_set]\n    return ' '.join(filtered_words)\n\n# Example usage\ntext = \"Hello, world! How's it going?\"\nstop_words = [\"hello\", \"world\"]\nprint(filter_words(text, stop_words))  # Output: \"How's it going?\"\n```"}
{"prompt": "You are tasked with implementing a `Book` class for a library management system. The class should manage the details of a book including its title, author, ISBN, total number of copies, and the number of copies currently available. The class should support borrowing and returning books, updating the number of available copies accordingly.\n\n**Methods to Implement:**\n- `__init__(self, title, author, isbn, total_copies)`: Initializes a new book with the given title, author, ISBN, and total number of copies. Initially, all copies are available.\n- `__str__(self)`: Returns a string representation of the book in the format: `\"Title: {title}, Author: {author}, ISBN: {isbn}, Copies Available: {copies_available}, Total Copies: {total_copies}\"`.\n- `borrow(self)`: Decreases the number of available copies by one if there are any available. If no copies are available, it should return the string `\"Error: No copies available to borrow.\"`.\n- `return_book(self)`: Increases the number of available copies by one if it is less than the total number of copies.\n\n**Sample Input/Output:**\n```python\nbook = Book(\"1984\", \"George Orwell\", \"9780451524935\", 3)\nprint(book)  # Output: Title: 1984, Author: George Orwell, ISBN: 9780451524935, Copies Available: 3, Total Copies: 3\nbook.borrow()\nprint(book)  # Output: Title: 1984, Author: George Orwell, ISBN: 9780451524935, Copies Available: 2, Total Copies: 3\nbook.return_book()\nprint(book)  # Output: Title: 1984, Author: George Orwell, ISBN: 9780451524935, Copies Available: 3, Total Copies: 3\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, isbn, total_copies):\n        \"\"\"\n        Initializes a new book with the given title, author, ISBN, and total number of copies.\n        Initially, all copies are available.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.isbn = isbn\n        self.total_copies = total_copies\n        self.copies_available = total_copies\n\n    def __str__(self):\n        \"\"\"\n        Returns a string representation of the book.\n        \"\"\"\n        return (f\"Title: {self.title}, Author: {self.author}, \"\n                f\"ISBN: {self.isbn}, Copies Available: {self.copies_available}, \"\n                f\"Total Copies: {self.total_copies}\")\n\n    def borrow(self):\n        \"\"\"\n        Decreases the number of available copies by one if there are any available.\n        If no copies are available, it returns the string \"Error: No copies available to borrow.\"\n        \"\"\"\n        if self.copies_available > 0:\n            self.copies_available -= 1\n        else:\n            return \"Error: No copies available to borrow.\"\n\n    def return_book(self):\n        \"\"\"\n        Increases the number of available copies by one if it is less than the total number of copies.\n        \"\"\"\n        if self.copies_available < self.total_copies:\n            self.copies_available += 1\n```"}
{"prompt": "You are given a dictionary where the keys are student names and the values are their corresponding grades. Your task is to write a Python function named `sort_students_by_grade` that sorts this dictionary by grades in descending order and returns a list of tuples containing the student names and their grades. Ensure that all grades are numeric values. If any grade is not numeric, the function should handle the error gracefully and return an empty list.\n\n**Input:**\n- A dictionary `students` where keys are strings (student names) and values are numeric grades (integers or floats).\n\n**Output:**\n- A list of tuples, where each tuple contains a student name and their grade, sorted by grade in descending order.\n\n**Sample Input:**\n```python\n{\"Alice\": 90, \"Bob\": 85, \"Charlie\": 95, \"David\": 80}\n```\n\n**Sample Output:**\n```python\n[('Charlie', 95), ('Alice', 90), ('Bob', 85), ('David', 80)]\n```", "response": "```python\ndef sort_students_by_grade(students):\n    \"\"\"\n    Sorts a dictionary of student names and their corresponding grades\n    in descending order by grade and returns a list of tuples.\n\n    Args:\n        students (dict): A dictionary with student names as keys and numeric grades as values.\n\n    Returns:\n        list: A list of tuples sorted by grade in descending order.\n    \"\"\"\n    try:\n        # Ensure all grades are numeric\n        for grade in students.values():\n            if not isinstance(grade, (int, float)):\n                raise ValueError(\"All grades must be numeric values.\")\n\n        # Sort the dictionary by grade in descending order and convert to a list of tuples\n        return sorted(students.items(), key=lambda item: item[1], reverse=True)\n\n    except ValueError:\n        return []\n```"}
{"prompt": "You are tasked with implementing a `Library` class in Python that manages a collection of books. The class should support the following operations:\n\n- `add_book(title)`: Adds a new book with the given title to the library if it does not already exist. If the book is added successfully, print \"Book '{title}' added successfully.\" Otherwise, print \"Book '{title}' already exists in the library.\"\n- `remove_book(title)`: Removes a book with the given title from the library if it exists. If the book is removed successfully, print \"Book '{title}' removed successfully.\" Otherwise, print \"Book '{title}' not found in the library.\"\n- `list_books()`: Lists all books in the library along with their statuses. If there are no books, print \"No books in the library.\"\n- `checkout_book(title)`: Checks out a book with the given title if it is available. If the book is checked out successfully, print \"Book '{title}' checked out successfully.\" If the book is already checked out, print \"Book '{title}' is already checked out.\" If the book does not exist, print \"Book '{title}' not found in the library.\"\n- `return_book(title)`: Returns a book with the given title if it was checked out. If the book is returned successfully, print \"Book '{title}' returned successfully.\" If the book was not checked out, print \"Book '{title}' was not checked out.\" If the book does not exist, print \"Book '{title}' not found in the library.\"\n\n**Sample Input/Output:**\n```\nlib = Library()\nlib.add_book(\"1984\")\nlib.list_books()\nlib.checkout_book(\"1984\")\nlib.list_books()\nlib.return_book(\"1984\")\nlib.list_books()\nlib.remove_book(\"1984\")\nlib.list_books()\n```\n\n**Expected Output:**\n```\nBook '1984' added successfully.\nBook: '1984' - Status: Available\nBook '1984' checked out successfully.\nBook: '1984' - Status: Checked Out\nBook '1984' returned successfully.\nBook: '1984' - Status: Available\nBook '1984' removed successfully.\nNo books in the library.\n```", "response": "```python\nclass Library:\n    def __init__(self):\n        \"\"\"Initialize a dictionary to store books and their status.\"\"\"\n        self.books = {}\n\n    def add_book(self, title):\n        \"\"\"Add a book with an 'Available' status if it does not already exist.\"\"\"\n        if title not in self.books:\n            self.books[title] = \"Available\"\n            print(f\"Book '{title}' added successfully.\")\n        else:\n            print(f\"Book '{title}' already exists in the library.\")\n\n    def remove_book(self, title):\n        \"\"\"Remove a book from the library if it exists.\"\"\"\n        if title in self.books:\n            del self.books[title]\n            print(f\"Book '{title}' removed successfully.\")\n        else:\n            print(f\"Book '{title}' not found in the library.\")\n\n    def list_books(self):\n        \"\"\"List all books and their statuses.\"\"\"\n        if not self.books:\n            print(\"No books in the library.\")\n        else:\n            for title, status in self.books.items():\n                print(f\"Book: '{title}' - Status: {status}\")\n\n    def checkout_book(self, title):\n        \"\"\"Check out a book if it is available.\"\"\"\n        if title in self.books:\n            if self.books[title] == \"Available\":\n                self.books[title] = \"Checked Out\"\n                print(f\"Book '{title}' checked out successfully.\")\n            else:\n                print(f\"Book '{title}' is already checked out.\")\n        else:\n            print(f\"Book '{title}' not found in the library.\")\n\n    def return_book(self, title):\n        \"\"\"Return a book if it was checked out.\"\"\"\n        if title in self.books:\n            if self.books[title] == \"Checked Out\":\n                self.books[title] = \"Available\"\n                print(f\"Book '{title}' returned successfully.\")\n            else:\n                print(f\"Book '{title}' was not checked out.\")\n        else:\n            print(f\"Book '{title}' not found in the library.\")\n```"}
{"prompt": "You are given a Python dictionary representing a nested JSON object. Your task is to implement a function named `flatten_json` that recursively flattens the JSON object into a single-level dictionary. The keys in the resulting dictionary should be the concatenation of the original keys, separated by a dot (.) if they are nested. For example, given the input `{\"a\": {\"b\": 1, \"c\": {\"d\": 2}}}`, the output should be `{\"a.b\": 1, \"a.c.d\": 2}`.\n\n**Sample Input:**\n```python\n{\"name\": \"John\", \"address\": {\"city\": \"New York\", \"zip\": 10001}, \"contact\": {\"email\": \"john@example.com\", \"phone\": \"123-456-7890\"}}\n```\n\n**Sample Output:**\n```python\n{'name': 'John', 'address.city': 'New York', 'address.zip': 10001, 'contact.email': 'john@example.com', 'contact.phone': '123-456-7890'}\n```", "response": "```python\ndef flatten_json(y):\n    \"\"\"\n    Recursively flattens a nested JSON object into a single-level dictionary.\n    \n    Parameters:\n    y (dict): The nested JSON object to be flattened.\n    \n    Returns:\n    dict: A single-level dictionary with concatenated keys.\n    \"\"\"\n    out = {}\n\n    def flatten(x, name=''):\n        if isinstance(x, dict):\n            for a in x:\n                flatten(x[a], name + a + '.')\n        elif isinstance(x, list):\n            for i, a in enumerate(x):\n                flatten(a, name + str(i) + '.')\n        else:\n            out[name[:-1]] = x\n\n    flatten(y)\n    return out\n\n# Example usage:\nnested_json = {\"name\": \"John\", \"address\": {\"city\": \"New York\", \"zip\": 10001}, \"contact\": {\"email\": \"john@example.com\", \"phone\": \"123-456-7890\"}}\nflattened_json = flatten_json(nested_json)\nprint(flattened_json)\n```"}
{"prompt": "You are given a list of sentences. Your task is to implement a function `find_common_words` that identifies the set of common words across all sentences, ignoring case sensitivity and common English stop words. The function should return a list of these common words sorted alphabetically.\n\n**Input:**\n- A list of strings, where each string is a sentence.\n\n**Output:**\n- A list of strings, representing the common words sorted alphabetically.\n\n**Sample Input:**\n```python\n[\n    \"The quick brown fox jumps over the lazy dog.\",\n    \"A quick brown dog outpaces a quick fox.\",\n    \"Over the lazy dog, the quick fox jumps.\"\n]\n```\n\n**Sample Output:**\n```python\n['brown', 'fox', 'quick']\n```", "response": "```python\nimport re\nfrom string import punctuation\n\ndef find_common_words(sentences):\n    \"\"\"\n    Finds the set of common words across all sentences, ignoring case sensitivity and common English stop words.\n    \n    :param sentences: List of strings, where each string is a sentence.\n    :return: List of strings, representing the common words sorted alphabetically.\n    \"\"\"\n    # Define a set of common English stop words\n    stop_words = set([\n        \"i\", \"me\", \"my\", \"myself\", \"we\", \"our\", \"ours\", \"ourselves\", \"you\", \"your\", \"yours\", \"yourself\", \n        \"yourselves\", \"he\", \"him\", \"his\", \"himself\", \"she\", \"her\", \"hers\", \"herself\", \"it\", \"its\", \"itself\", \n        \"they\", \"them\", \"their\", \"theirs\", \"themselves\", \"what\", \"which\", \"who\", \"whom\", \"this\", \"that\", \n        \"these\", \"those\", \"am\", \"is\", \"are\", \"was\", \"were\", \"be\", \"been\", \"being\", \"have\", \"has\", \"had\", \n        \"having\", \"do\", \"does\", \"did\", \"doing\", \"a\", \"an\", \"the\", \"and\", \"but\", \"if\", \"or\", \"because\", \"as\", \n        \"until\", \"while\", \"of\", \"at\", \"by\", \"for\", \"with\", \"about\", \"against\", \"between\", \"into\", \"through\", \n        \"during\", \"before\", \"after\", \"above\", \"below\", \"to\", \"from\", \"up\", \"down\", \"in\", \"out\", \"on\", \"off\", \n        \"over\", \"under\", \"again\", \"further\", \"then\", \"once\", \"here\", \"there\", \"when\", \"where\", \"why\", \"how\", \n        \"all\", \"any\", \"both\", \"each\", \"few\", \"more\", \"most\", \"other\", \"some\", \"such\", \"no\", \"nor\", \"not\", \n        \"only\", \"own\", \"same\", \"so\", \"than\", \"too\", \"very\", \"s\", \"t\", \"can\", \"will\", \"just\", \"don\", \"should\", \n        \"now\"\n    ])\n    \n    # Initialize a list to hold the word sets for each sentence\n    word_sets = []\n    \n    # Process each sentence\n    for sentence in sentences:\n        # Convert to lowercase\n        sentence = sentence.lower()\n        # Remove punctuation using regex\n        sentence = re.sub(r'[^\\w\\s]', '', sentence)\n        # Split the sentence into words\n        words = sentence.split()\n        # Filter out stop words and create a set of words\n        filtered_words = set(word for word in words if word not in stop_words)\n        # Add the set to the list\n        word_sets.append(filtered_words)\n    \n    # Find the intersection of all sets to get common words\n    common_words = set.intersection(*word_sets)\n    \n    # Return the sorted list of common words\n    return sorted(common_words)\n```"}
{"prompt": "You are tasked with enhancing a Python class `Car` that currently includes attributes `make`, `model`, and `year`, along with a method `start_engine()` which outputs \"Engine started\". Your goal is to add a new method `stop_engine()` to this class that outputs \"Engine stopped\". Your implementation should be such that when `stop_engine()` is called on an instance of `Car`, it prints \"Engine stopped\".\n\n**Sample Input:**\n```python\nmy_car = Car(\"Toyota\", \"Corolla\", 2021)\nmy_car.start_engine()\nmy_car.stop_engine()\n```\n\n**Sample Output:**\n```\nEngine started\nEngine stopped\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year):\n        \"\"\"\n        Initializes a new Car instance with the specified make, model, and year.\n\n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n\n    def start_engine(self):\n        \"\"\"\n        Simulates starting the car's engine by printing \"Engine started\".\n        \"\"\"\n        print(\"Engine started\")\n\n    def stop_engine(self):\n        \"\"\"\n        Simulates stopping the car's engine by printing \"Engine stopped\".\n        \"\"\"\n        print(\"Engine stopped\")\n```"}
{"prompt": "You are tasked with implementing an efficient algorithm to compute the nth Fibonacci number. To optimize the computation, you must use memoization. Your function should return the nth Fibonacci number.\n\n**Input:**\n- An integer `n` (0 \u2264 n \u2264 50).\n\n**Output:**\n- The nth Fibonacci number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef calculate_fibonacci(n, memo={}):\n    \"\"\"\n    Computes the nth Fibonacci number using memoization.\n\n    Parameters:\n    n (int): The position in the Fibonacci sequence.\n\n    Returns:\n    int: The nth Fibonacci number.\n    \"\"\"\n    if n in memo:\n        return memo[n]\n    if n == 0:\n        return 0\n    elif n == 1:\n        return 1\n    else:\n        memo[n] = calculate_fibonacci(n-1, memo) + calculate_fibonacci(n-2, memo)\n        return memo[n]\n```"}
{"prompt": "You are given a string `s`. Your task is to implement a function `word_count` that processes the string and returns a dictionary containing the frequency of each word. Words are defined as sequences of alphanumeric characters, and the function should be case-insensitive, ignoring punctuation. \n\n**Input:**\n- A single string `s` (1 \u2264 |s| \u2264 10^5) containing alphanumeric characters, spaces, and punctuation.\n\n**Output:**\n- A dictionary where keys are words in lowercase and values are their respective frequencies in the input string.\n\n**Sample Input:**\n```\n\"Hello, world! Hello, Universe.\"\n```\n\n**Sample Output:**\n```\n{'hello': 2, 'world': 1, 'universe': 1}\n```", "response": "```python\nimport re\nfrom collections import defaultdict\n\ndef word_count(input_string):\n    \"\"\"\n    Processes a string to count the frequency of each word, ignoring case and punctuation.\n    \n    Parameters:\n    input_string (str): The string to be processed.\n    \n    Returns:\n    dict: A dictionary with words as keys and their frequencies as values.\n    \"\"\"\n    # Normalize the input string: convert to lower case and replace non-alphanumeric characters\n    normalized_string = re.sub(r'[^a-z0-9\\s]', '', input_string.lower())\n    # Split the string into words\n    words = normalized_string.split()\n    # Initialize a default dictionary to store word counts\n    count_dict = defaultdict(int)\n    # Count each word\n    for word in words:\n        count_dict[word] += 1\n    return dict(count_dict)\n\n# Example usage:\ninput_string = \"Hello, world! Hello, Universe.\"\nprint(word_count(input_string))  # Output: {'hello': 2, 'world': 1, 'universe': 1}\n```"}
{"prompt": "You are tasked with implementing a simple banking system in Python. The system should support the following operations:\n\n1. **Create Account**: Create a new bank account with an initial deposit. The account number should be unique and auto-generated.\n2. **Deposit**: Add a specified amount to an existing account.\n3. **Withdraw**: Subtract a specified amount from an existing account, ensuring that the account has sufficient funds.\n4. **Balance Inquiry**: Retrieve the current balance of a specific account.\n5. **List Accounts**: Display all accounts and their balances.\n\nThe system should handle invalid inputs gracefully and provide meaningful error messages.\n\n**Input Format:**\n- A series of commands, each on a new line.\n- Commands can be one of the following:\n  - `CREATE <initial_deposit>`: Create a new account with the specified initial deposit.\n  - `DEPOSIT <account_number> <amount>`: Deposit the specified amount into the account with the given account number.\n  - `WITHDRAW <account_number> <amount>`: Withdraw the specified amount from the account with the given account number.\n  - `BALANCE <account_number>`: Check the balance of the account with the given account number.\n  - `LIST`: List all accounts and their balances.\n\n**Output Format:**\n- For each command, output the result of the operation or an appropriate error message.\n\n**Sample Input:**\n```\nCREATE 100\nDEPOSIT 1 250\nBALANCE 1\nWITHDRAW 1 50\nLIST\nWITHDRAW 1 300\nCREATE -50\n```\n\n**Sample Output:**\n```\nAccount created successfully. Account number: 1\nDeposited $250.00. New balance is $350.00.\nCurrent balance for account #1 is $350.00.\nWithdrew $50.00. New balance is $300.00.\nListing all accounts:\nAccount #1: Balance = $300.00\nInsufficient funds.\nInitial deposit cannot be negative. Account not created.\n```", "response": "```python\nclass BankAccount:\n    account_count = 0\n\n    def __init__(self, initial_deposit=0):\n        \"\"\"\n        Initialize a new bank account with an initial deposit.\n        \"\"\"\n        BankAccount.account_count += 1\n        self.account_number = BankAccount.account_count\n        self.balance = initial_deposit\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposit a specified amount into the account.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n            return f\"Deposited ${amount:.2f}. New balance is ${self.balance:.2f}.\"\n        else:\n            return \"Deposit amount must be positive.\"\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraw a specified amount from the account.\n        \"\"\"\n        if amount > 0:\n            if amount <= self.balance:\n                self.balance -= amount\n                return f\"Withdrew ${amount:.2f}. New balance is ${self.balance:.2f}.\"\n            else:\n                return \"Insufficient funds.\"\n        else:\n            return \"Withdrawal amount must be positive.\"\n\n    def get_balance(self):\n        \"\"\"\n        Retrieve the current balance of the account.\n        \"\"\"\n        return f\"Current balance for account #{self.account_number} is ${self.balance:.2f}.\"\n\n    def account_info(self):\n        \"\"\"\n        Get a string representation of the account information.\n        \"\"\"\n        return f\"Account #{self.account_number}: Balance = ${self.balance:.2f}\"\n\n\nclass BankingSystem:\n    def __init__(self):\n        \"\"\"\n        Initialize the banking system with an empty dictionary of accounts.\n        \"\"\"\n        self.accounts = {}\n\n    def create_account(self, initial_deposit=0):\n        \"\"\"\n        Create a new bank account with an initial deposit.\n        \"\"\"\n        if initial_deposit < 0:\n            return \"Initial deposit cannot be negative. Account not created.\"\n        new_account = BankAccount(initial_deposit)\n        self.accounts[new_account.account_number] = new_account\n        return f\"Account created successfully. Account number: {new_account.account_number}\"\n\n    def deposit(self, account_number, amount):\n        \"\"\"\n        Deposit a specified amount into an existing account.\n        \"\"\"\n        if account_number in self.accounts:\n            return self.accounts[account_number].deposit(amount)\n        else:\n            return \"Invalid account number.\"\n\n    def withdraw(self, account_number, amount):\n        \"\"\"\n        Withdraw a specified amount from an existing account.\n        \"\"\"\n        if account_number in self.accounts:\n            return self.accounts[account_number].withdraw(amount)\n        else:\n            return \"Invalid account number.\"\n\n    def balance_inquiry(self, account_number):\n        \"\"\"\n        Retrieve the balance of an existing account.\n        \"\"\"\n        if account_number in self.accounts:\n            return self.accounts[account_number].get_balance()\n        else:\n            return \"Invalid account number.\"\n\n    def list_accounts(self):\n        \"\"\"\n        List all accounts and their balances.\n        \"\"\"\n        if self.accounts:\n            return \"\\n\".join([acc.account_info() for acc in self.accounts.values()])\n        else:\n            return \"No accounts available.\"\n\n\n# Example usage of the banking system\nbank = BankingSystem()\ncommands = [\n    \"CREATE 100\",\n    \"DEPOSIT 1 250\",\n    \"BALANCE 1\",\n    \"WITHDRAW 1 50\",\n    \"LIST\",\n    \"WITHDRAW 1 300\",\n    \"CREATE -50\"\n]\n\nfor command in commands:\n    parts = command.split()\n    if parts[0] == \"CREATE\":\n        print(bank.create_account(float(parts[1])))\n    elif parts[0] == \"DEPOSIT\":\n        print(bank.deposit(int(parts[1]), float(parts[2])))\n    elif parts[0] == \"WITHDRAW\":\n        print(bank.withdraw(int(parts[1]), float(parts[2])))\n    elif parts[0] == \"BALANCE\":\n        print(bank.balance_inquiry(int(parts[1])))\n    elif parts[0] == \"LIST\":\n        print(bank.list_accounts())\n```"}
{"prompt": "You are given a string that may contain HTML tags, extra whitespace, and mixed case letters. Your task is to write a function `clean_text` that processes the string by removing all HTML tags, converting all characters to lowercase, and eliminating any extra whitespace. The function should utilize regular expressions for the removal of HTML tags.\n\n**Input:**\n- A single string `text` (1 \u2264 len(text) \u2264 10^4) which may include HTML tags, extra spaces, and mixed case letters.\n\n**Output:**\n- A single string with HTML tags removed, all letters in lowercase, and no extra whitespace.\n\n**Sample Input:**\n```\n\"<p>This is a <b>sample</b> paragraph.</p>\"\n```\n\n**Sample Output:**\n```\n\"this is a sample paragraph.\"\n```", "response": "```python\nimport re\n\ndef clean_text(text):\n    \"\"\"\n    Removes HTML tags, converts text to lowercase, and removes extra whitespace from the input string.\n\n    :param text: A string that may contain HTML tags, extra whitespace, and mixed case letters.\n    :return: A processed string with HTML tags removed, all letters in lowercase, and no extra whitespace.\n    \"\"\"\n    # Remove HTML tags using regular expressions\n    clean = re.compile('<.*?>')\n    text = re.sub(clean, '', text)\n    \n    # Convert text to lowercase\n    text = text.lower()\n    \n    # Remove extra whitespace\n    text = ' '.join(text.split())\n    \n    return text\n\n# Example usage\ninput_text = \"<p>This is a <b>sample</b> paragraph.</p>\"\nresult = clean_text(input_text)\nprint(result)  # Output: \"this is a sample paragraph.\"\n```"}
{"prompt": "You are tasked with implementing a Python function that configures logging based on a JSON configuration file. The configuration file must specify the log level, log file path, and log format. Your function should read the configuration file, validate its contents, and set up logging accordingly. If the configuration file is missing or does not contain the required keys, your function should raise an appropriate exception.\n\n**Input:**\n- A JSON configuration file named `logging_config.json` with the following structure:\n  ```json\n  {\n      \"log_level\": \"INFO\",\n      \"log_file_path\": \"app.log\",\n      \"log_format\": \"%(asctime)s - %(levelname)s - %(message)s\"\n  }\n  ```\n\n**Output:**\n- The function should set up logging according to the configuration file. If the configuration file is missing or invalid, it should raise a `FileNotFoundError` or `ValueError` respectively.\n\n**Sample Input:**\n- `logging_config.json`:\n  ```json\n  {\n      \"log_level\": \"DEBUG\",\n      \"log_file_path\": \"debug.log\",\n      \"log_format\": \"%(asctime)s - %(levelname)s - %(message)s\"\n  }\n  ```\n\n**Sample Output:**\n- The log file `debug.log` should contain log messages with the specified format and level.", "response": "```python\nimport json\nimport logging\nimport os\n\ndef setup_logging_from_config(config_path='logging_config.json'):\n    \"\"\"\n    Set up logging configuration from a JSON configuration file.\n\n    :param config_path: Path to the JSON configuration file.\n    :raises FileNotFoundError: If the configuration file does not exist.\n    :raises ValueError: If the configuration file does not contain the required keys.\n    \"\"\"\n    if not os.path.isfile(config_path):\n        raise FileNotFoundError(f\"Configuration file '{config_path}' not found.\")\n    \n    with open(config_path, 'r') as config_file:\n        config = json.load(config_file)\n\n    expected_keys = {'log_level', 'log_file_path', 'log_format'}\n    config_keys = set(config.keys())\n    if expected_keys != config_keys:\n        raise ValueError(f\"Configuration file must contain the following keys: {expected_keys}. Found: {config_keys}\")\n\n    logging.basicConfig(\n        filename=config['log_file_path'],\n        level=config['log_level'].upper(),\n        format=config['log_format'],\n        filemode='a'\n    )\n    logging.info(f\"Logging setup successfully with config: {config}\")\n\nif __name__ == \"__main__\":\n    setup_logging_from_config('logging_config.json')\n    logging.debug(\"This is a debug message\")\n    logging.info(\"This is an info message\")\n    logging.warning(\"This is a warning message\")\n    logging.error(\"This is an error message\")\n    logging.critical(\"This is a critical message\")\n```"}
{"prompt": "You are tasked with implementing a function `fetch_weather_data` that interacts with the OpenWeatherMap API to retrieve weather information for a specified city. Your function should accept the city name and an API key as parameters and return a dictionary containing the temperature (in Celsius), humidity (as a percentage), and a brief weather description. If the city is not found or an error occurs, the function should return `None`.\n\n**Sample Input:**\n- `city_name = \"London\"`\n- `api_key = \"your_api_key_here\"`\n\n**Sample Output:**\n```python\n{\n    'temperature': 15.2,\n    'humidity': 81,\n    'weather_description': 'light rain'\n}\n```", "response": "```python\nimport requests\n\ndef fetch_weather_data(city_name, api_key):\n    \"\"\"\n    Fetches weather data for a given city using the OpenWeatherMap API.\n\n    Parameters:\n    city_name (str): The name of the city for which to fetch weather data.\n    api_key (str): The API key for accessing the OpenWeatherMap API.\n\n    Returns:\n    dict or None: A dictionary containing the temperature, humidity, and weather description if successful,\n                  or None if the city is not found or an error occurs.\n    \"\"\"\n    base_url = \"http://api.openweathermap.org/data/2.5/weather?\"\n    complete_url = f\"{base_url}appid={api_key}&q={city_name}&units=metric\"\n    response = requests.get(complete_url)\n    weather_data = response.json()\n\n    if weather_data['cod'] == 200:\n        temperature = weather_data['main']['temp']\n        humidity = weather_data['main']['humidity']\n        weather_description = weather_data['weather'][0]['description']\n        return {\n            'temperature': temperature,\n            'humidity': humidity,\n            'weather_description': weather_description\n        }\n    else:\n        return None\n```"}
{"prompt": "You are given a list of strings. Your task is to process each string by removing all duplicate characters, retaining only the first occurrence of each character. The order of characters in the output strings should match their first appearance in the input strings.\n\n**Input:**\n- A list of strings, where each string consists of lowercase English letters.\n- The length of the list is at most 100.\n- Each string has a length of at most 100.\n\n**Output:**\n- A list of strings with duplicates removed as described.\n\n**Sample Input:**\n```\n[\"hello\", \"world\"]\n```\n\n**Sample Output:**\n```\n[\"helo\", \"wrd\"]\n```", "response": "```python\ndef remove_duplicates(strings):\n    \"\"\"\n    Removes duplicate characters from each string in the list, keeping only the first occurrence of each character.\n\n    :param strings: List of strings to process.\n    :return: List of strings with duplicates removed.\n    \"\"\"\n    result = []\n    for string in strings:\n        unique_chars = []\n        for char in string:\n            if char not in unique_chars:\n                unique_chars.append(char)\n        result.append(''.join(unique_chars))\n    return result\n\n# Example usage:\ninput_list = [\"hello\", \"world\"]\noutput_list = remove_duplicates(input_list)\nprint(output_list)  # Output: ['helo', 'wrd']\n```"}
{"prompt": "You are tasked with implementing a function `extract_emails(text)` that processes a given string `text` and identifies all unique email addresses embedded within it. An email address is defined as a sequence of characters that includes a username, followed by an \"@\" symbol, and a domain name. The username can consist of alphanumeric characters, dots, underscores, percent signs, plus signs, and hyphens. The domain name consists of one or more labels separated by periods, where each label is composed of alphanumeric characters and hyphens, and the top-level domain (TLD) must be at least two characters long.\n\n**Input:**\n- A single string `text` (1 \u2264 len(text) \u2264 10,000) containing the text to be processed.\n\n**Output:**\n- A list of unique email addresses found in the text, sorted in lexicographical order.\n\n**Sample Input:**\n```\n\"Please contact us at support@example.com or sales@example.co.uk for further information. Alternatively, reach out to support@example.com.\"\n```\n\n**Sample Output:**\n```\n['sales@example.co.uk', 'support@example.com']\n```", "response": "```python\nimport re\n\ndef extract_emails(text):\n    \"\"\"\n    Extracts and returns a list of unique email addresses from the given text.\n\n    :param text: A string containing the text to be processed.\n    :return: A list of unique email addresses found in the text, sorted lexicographically.\n    \"\"\"\n    email_pattern = r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n    matches = re.findall(email_pattern, text)\n    unique_emails = sorted(set(matches))\n    return unique_emails\n```"}
{"prompt": "You are tasked with implementing a function `create_slug(title)` that generates a URL-friendly slug from a given string `title`. The slug must adhere to the following rules:\n- Convert all characters to lowercase.\n- Replace all non-alphanumeric characters (except spaces) with spaces.\n- Replace multiple consecutive spaces with a single space.\n- Replace spaces with hyphens.\n\nFor example:\n- Input: `\"Hello World! This is a Test.\"`\n- Output: `\"hello-world-this-is-a-test\"`", "response": "```python\nimport re\n\ndef create_slug(title):\n    \"\"\"\n    Generate a URL-friendly slug from a given title string.\n    \n    Parameters:\n    title (str): The input string to be converted into a slug.\n    \n    Returns:\n    str: The URL-friendly slug.\n    \"\"\"\n    title = title.lower()\n    title = re.sub(r'[^a-z0-9\\s]', ' ', title)\n    title = re.sub(r'\\s+', ' ', title)\n    slug = title.replace(' ', '-')\n    return slug\n\n# Example usage:\n# print(create_slug(\"Hello World! This is a Test.\"))  # Output: \"hello-world-this-is-a-test\"\n```"}
{"prompt": "You are tasked with implementing a `BankAccount` class in Python that simulates basic banking operations. The class should support the following functionalities:\n\n- **Initialization**: The constructor should accept an account holder's name and an optional initial balance (defaulting to 0). The name must be a non-empty string, and the initial balance must be a non-negative number.\n- **Deposit**: A method to add a specified amount to the account balance. The amount must be a positive number.\n- **Withdraw**: A method to subtract a specified amount from the account balance. The amount must be a positive number and should not exceed the current balance.\n- **Check Balance**: A method to return the current balance of the account.\n- **Apply Interest**: A method to increase the balance by a specified percentage. The interest rate must be a non-negative number.\n\nImplement error handling for invalid operations, such as invalid types or values for the account holder's name, initial balance, deposit amount, withdrawal amount, and interest rate.\n\n**Sample Input/Output**:\n- Input: `account = BankAccount(\"John Doe\", 1000); account.deposit(500); account.withdraw(200); print(account.check_balance()); account.apply_interest(5); print(account.check_balance())`\n- Output: `1300.0`", "response": "```python\nclass BankAccount:\n    def __init__(self, name, initial_balance=0):\n        \"\"\"\n        Initialize a new bank account with the given name and initial balance.\n        \n        :param name: The name of the account holder (must be a non-empty string).\n        :param initial_balance: The starting balance of the account (default is 0, must be non-negative).\n        :raises ValueError: If the name is not a non-empty string or the initial balance is negative.\n        \"\"\"\n        if not isinstance(name, str) or not name.strip():\n            raise ValueError(\"Account holder's name must be a non-empty string.\")\n        if not isinstance(initial_balance, (int, float)) or initial_balance < 0:\n            raise ValueError(\"Initial balance must be a non-negative number.\")\n        self.name = name\n        self.balance = initial_balance\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposit a specified amount into the account.\n        \n        :param amount: The amount to deposit (must be a positive number).\n        :raises ValueError: If the amount is not a positive number.\n        \"\"\"\n        if not isinstance(amount, (int, float)) or amount <= 0:\n            raise ValueError(\"Deposit amount must be a positive number.\")\n        self.balance += amount\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraw a specified amount from the account.\n        \n        :param amount: The amount to withdraw (must be a positive number and not exceed the current balance).\n        :raises ValueError: If the amount is not a positive number or exceeds the current balance.\n        \"\"\"\n        if not isinstance(amount, (int, float)) or amount <= 0:\n            raise ValueError(\"Withdrawal amount must be a positive number.\")\n        if amount > self.balance:\n            raise ValueError(\"Insufficient funds for this withdrawal.\")\n        self.balance -= amount\n\n    def check_balance(self):\n        \"\"\"\n        Check the current balance of the account.\n        \n        :return: The current balance of the account.\n        \"\"\"\n        return self.balance\n\n    def apply_interest(self, interest_rate):\n        \"\"\"\n        Apply interest to the account balance.\n        \n        :param interest_rate: The interest rate to apply (must be a non-negative number).\n        :raises ValueError: If the interest rate is negative.\n        \"\"\"\n        if not isinstance(interest_rate, (int, float)) or interest_rate < 0:\n            raise ValueError(\"Interest rate must be a non-negative number.\")\n        self.balance += self.balance * (interest_rate / 100)\n```"}
{"prompt": "You are tasked with implementing a function that processes a CSV file containing product information. The CSV file has the following columns: \"ProductID\", \"Feature1\", \"Feature2\", \"Feature3\", \"Feature4\", \"Feature5\". Each row in the CSV file represents a product and its associated features. Some of the feature columns may be empty. Your function should read this CSV file and return a dictionary where each key is a product ID and the corresponding value is a list of tuples. Each tuple contains a feature name and its value, excluding any features that have empty values.\n\n**Input:**\n- A string representing the file path to the CSV file.\n\n**Output:**\n- A dictionary where keys are product IDs and values are lists of tuples (feature_name, feature_value).\n\n**Sample Input:**\n```\nProductID,Feature1,Feature2,Feature3,Feature4,Feature5\n101,Color,Red,,,\n102,Size,Large,Material,Cotton,,\n103,Weight,1kg,,Color,Blue\n```\n\n**Sample Output:**\n```python\n{\n    '101': [('Feature1', 'Color'), ('Feature2', 'Red')],\n    '102': [('Feature1', 'Size'), ('Feature2', 'Large'), ('Feature3', 'Material'), ('Feature4', 'Cotton')],\n    '103': [('Feature1', 'Weight'), ('Feature2', '1kg'), ('Feature5', 'Color'), ('Feature6', 'Blue')]\n}\n```", "response": "```python\nimport csv\n\ndef read_product_info_from_csv(filepath):\n    \"\"\"\n    Reads a CSV file containing product information and returns a dictionary.\n    \n    Args:\n        filepath (str): The path to the CSV file.\n    \n    Returns:\n        dict: A dictionary where keys are product IDs and values are lists of tuples (feature_name, feature_value).\n    \"\"\"\n    product_info_dict = {}\n\n    with open(filepath, mode='r', newline='', encoding='utf-8') as file:\n        reader = csv.DictReader(file)\n        for row in reader:\n            product_id = row['ProductID']\n            product_info = []\n            for i in range(1, 6):\n                feature = f'Feature{i}'\n                value = row[feature].strip()\n                if value:\n                    product_info.append((feature, value))\n            product_info_dict[product_id] = product_info\n            \n    return product_info_dict\n```"}
{"prompt": "You are given two lists of integers. Your task is to write a function `find_common_elements` that identifies and returns a list of integers that are present in both input lists. The function should not utilize any built-in Python functions or libraries designed to directly solve this problem, such as `set` or `intersection`. \n\n**Input:**\n- Two lists of integers, `list1` and `list2`.\n\n**Output:**\n- A list of integers that are common to both `list1` and `list2`.\n\n**Sample Input:**\n- `list1 = [1, 2, 3, 4]`\n- `list2 = [3, 4, 5, 6]`\n\n**Sample Output:**\n- `[3, 4]`", "response": "```python\ndef find_common_elements(list1, list2):\n    \"\"\"\n    Finds and returns a list of common elements between two input lists.\n    \n    Parameters:\n    list1 (list): The first list of integers.\n    list2 (list): The second list of integers.\n    \n    Returns:\n    list: A list containing the common elements between list1 and list2.\n    \"\"\"\n    common_elements = []\n    for element in list1:\n        for candidate in list2:\n            if element == candidate:\n                common_elements.append(element)\n    return common_elements\n```"}
{"prompt": "You are given a string `s` consisting of lowercase English letters. Your task is to implement a function `count_palindromic_substrings` that calculates and returns the total number of palindromic substrings within `s`. A palindromic substring is defined as a substring that reads the same forwards and backwards.\n\n**Input:**\n- A single string `s` (1 \u2264 |s| \u2264 1000), where |s| denotes the length of the string.\n\n**Output:**\n- An integer representing the total number of palindromic substrings in `s`.\n\n**Sample Input:**\n```\naba\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef count_palindromic_substrings(s):\n    \"\"\"\n    Counts the total number of palindromic substrings in the given string s.\n\n    :param s: A string consisting of lowercase English letters.\n    :return: An integer representing the total number of palindromic substrings.\n    \"\"\"\n    def expand_around_center(s, left, right):\n        \"\"\"\n        Expands around the center indices left and right to count palindromic substrings.\n\n        :param s: The input string.\n        :param left: The left index for expansion.\n        :param right: The right index for expansion.\n        :return: The count of palindromic substrings found by expanding around the center.\n        \"\"\"\n        count = 0\n        while left >= 0 and right < len(s) and s[left] == s[right]:\n            count += 1\n            left -= 1\n            right += 1\n        return count\n\n    total_palindromes = 0\n    for i in range(len(s)):\n        # Count odd length palindromes\n        total_palindromes += expand_around_center(s, i, i)\n        # Count even length palindromes\n        total_palindromes += expand_around_center(s, i, i + 1)\n\n    return total_palindromes\n```"}
{"prompt": "You are given a list of tuples `employee_data`, where each tuple consists of an employee's name (a string), their department (a string), and their salary (an integer). Your task is to sort this list of tuples first by department in ascending order and then by salary in descending order. Implement a function `sort_employee_data(employee_data)` that takes the list of tuples as input and returns a new list sorted according to the specified criteria.\n\n**Sample Input:**\n```python\n[(\"Alice\", \"HR\", 60000), (\"Bob\", \"Engineering\", 80000), (\"Charlie\", \"HR\", 50000), (\"David\", \"Engineering\", 80000), (\"Eve\", \"Engineering\", 75000)]\n```\n\n**Sample Output:**\n```python\n[('Bob', 'Engineering', 80000), ('David', 'Engineering', 80000), ('Eve', 'Engineering', 75000), ('Alice', 'HR', 60000), ('Charlie', 'HR', 50000)]\n```", "response": "```python\ndef sort_employee_data(employee_data):\n    \"\"\"\n    Sorts a list of employee data tuples by department in ascending order\n    and then by salary in descending order.\n\n    :param employee_data: List of tuples, where each tuple contains an employee's name, department, and salary.\n    :return: A new list of tuples sorted by department and salary as specified.\n    \"\"\"\n    return sorted(employee_data, key=lambda x: (x[1], -x[2]))\n```"}
{"prompt": "You are tasked with implementing a `Product` class in Python. The class should manage the stock and sales of a product. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `name`: A string representing the name of the product.\n  - `price`: A float representing the price of the product.\n  - `quantity`: An integer representing the quantity of the product in stock.\n\n- **Methods:**\n  - `add_stock(amount)`: Adds the specified amount to the product's stock. Raises a `ValueError` if the amount is not positive.\n  - `sell(amount)`: Sells the specified amount of the product. Raises a `ValueError` if the amount is not positive or if there is insufficient stock.\n  - `get_info()`: Returns a string containing the product's name, price, and quantity in the format: `\"Product Name: {name}, Price: ${price:.2f}, Quantity: {quantity}\"`.\n\n**Sample Input/Output:**\n```python\nproduct = Product(\"Laptop\", 999.99, 10)\nproduct.add_stock(5)\nproduct.sell(3)\nprint(product.get_info())  # Output: Product Name: Laptop, Price: $999.99, Quantity: 12\n```", "response": "```python\nclass Product:\n    def __init__(self, name, price, quantity):\n        \"\"\"\n        Initializes a new Product instance.\n\n        :param name: The name of the product.\n        :param price: The price of the product.\n        :param quantity: The initial quantity of the product in stock.\n        \"\"\"\n        self.name = name\n        self.price = price\n        self.quantity = quantity\n\n    def add_stock(self, amount):\n        \"\"\"\n        Adds the specified amount to the product's stock.\n\n        :param amount: The amount of stock to add.\n        :raises ValueError: If the amount is not positive.\n        \"\"\"\n        if amount > 0:\n            self.quantity += amount\n        else:\n            raise ValueError(\"Amount to add must be positive.\")\n\n    def sell(self, amount):\n        \"\"\"\n        Sells the specified amount of the product.\n\n        :param amount: The amount of product to sell.\n        :raises ValueError: If the amount is not positive or if there is insufficient stock.\n        \"\"\"\n        if amount > 0:\n            if amount <= self.quantity:\n                self.quantity -= amount\n            else:\n                raise ValueError(\"Not enough stock to sell.\")\n        else:\n            raise ValueError(\"Amount to sell must be positive.\")\n\n    def get_info(self):\n        \"\"\"\n        Returns a string containing the product's name, price, and quantity.\n\n        :return: A formatted string with the product's details.\n        \"\"\"\n        return f\"Product Name: {self.name}, Price: ${self.price:.2f}, Quantity: {self.quantity}\"\n```"}
{"prompt": "You are given a string `text` consisting of lowercase and uppercase English letters. Your task is to implement a function `sum_of_vowels` that calculates the sum of the 1-indexed positions of all vowels in the string. Vowels are defined as 'a', 'e', 'i', 'o', 'u' (both lowercase and uppercase).\n\n**Input:**\n- A single string `text` (1 \u2264 |text| \u2264 100).\n\n**Output:**\n- An integer representing the sum of the positions of all vowels in the string.\n\n**Sample Input:**\n```\nhello world\n```\n\n**Sample Output:**\n```\n10\n```", "response": "```python\ndef sum_of_vowels(text):\n    \"\"\"\n    Calculate the sum of the 1-indexed positions of all vowels in the given string.\n\n    :param text: A string consisting of lowercase and uppercase English letters.\n    :return: An integer representing the sum of the positions of all vowels.\n    \"\"\"\n    vowels = set('aeiouAEIOU')\n    return sum(index + 1 for index, char in enumerate(text) if char in vowels)\n```"}
{"prompt": "You are tasked with implementing a Python class `CSVReader` that can read a CSV file and provide methods to access specific rows, columns, or cells. The CSV file is guaranteed to have a header row, which should be skipped when accessing data. Your class should support the following methods:\n\n- `__init__(filename)`: Initialize the reader with the CSV file's filename. Handle cases where the file is not found or the CSV format is incorrect by printing an appropriate error message.\n- `get_row(index)`: Return the row at the given index as a list of values. If the index is out of bounds, print an error message and return `None`.\n- `get_column(index)`: Return the column at the given index as a list of values. If the index is out of bounds for any row, print an error message and return `None`.\n- `get_cell(row_index, column_index)`: Return the value at the specified row and column index. If either index is out of bounds, print an error message and return `None`.\n\n**Sample Input:**\n```\ndata.csv\nName,Age,Occupation\nAlice,30,Engineer\nBob,25,Designer\nCharlie,35,Teacher\n```\n\n**Sample Usage:**\n```python\nreader = CSVReader('data.csv')\nprint(reader.get_row(0))  # Output: ['Alice', '30', 'Engineer']\nprint(reader.get_column(1))  # Output: ['30', '25', '35']\nprint(reader.get_cell(1, 2))  # Output: 'Designer'\n```", "response": "```python\nimport csv\n\nclass CSVReader:\n    def __init__(self, filename):\n        \"\"\"\n        Initialize the CSVReader with the given filename.\n        Skip the header row and store the data.\n        Handle file not found and CSV format errors.\n        \"\"\"\n        self.data = []\n        try:\n            with open(filename, mode='r', newline='', encoding='utf-8') as file:\n                reader = csv.reader(file)\n                next(reader)  # Skip the header row\n                for row in reader:\n                    self.data.append(row)\n        except FileNotFoundError:\n            print(f\"Error: The file {filename} was not found.\")\n        except csv.Error:\n            print(f\"Error: There was an issue reading the CSV file {filename}.\")\n\n    def get_row(self, index):\n        \"\"\"\n        Return the row at the given index as a list of values.\n        If the index is out of bounds, print an error message and return None.\n        \"\"\"\n        try:\n            return self.data[index]\n        except IndexError:\n            print(f\"Error: There is no row at index {index}.\")\n            return None\n\n    def get_column(self, index):\n        \"\"\"\n        Return the column at the given index as a list of values.\n        If the index is out of bounds for any row, print an error message and return None.\n        \"\"\"\n        column = []\n        for row in self.data:\n            try:\n                column.append(row[index])\n            except IndexError:\n                print(f\"Error: There is no column at index {index}.\")\n                return None\n        return column\n\n    def get_cell(self, row_index, column_index):\n        \"\"\"\n        Return the value at the specified row and column index.\n        If either index is out of bounds, print an error message and return None.\n        \"\"\"\n        try:\n            return self.data[row_index][column_index]\n        except IndexError:\n            print(f\"Error: There is no cell at row index {row_index} and column index {column_index}.\")\n            return None\n```"}
{"prompt": "You are tasked with implementing an efficient algorithm to compute the nth Fibonacci number. Your function should operate in logarithmic time complexity. The Fibonacci sequence is defined as follows:\n- F(0) = 0\n- F(1) = 1\n- F(n) = F(n-1) + F(n-2) for n >= 2\n\n**Input:**\n- A single integer `n` (0 \u2264 n \u2264 10^18).\n\n**Output:**\n- Print the nth Fibonacci number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```\n\n**Sample Input:**\n```\n100\n```\n\n**Sample Output:**\n```\n354224848179261915075\n```", "response": "```python\ndef matrix_mult(A, B):\n    \"\"\" Multiplies two 2x2 matrices A and B and returns the result. \"\"\"\n    return [\n        [A[0][0] * B[0][0] + A[0][1] * B[1][0], A[0][0] * B[0][1] + A[0][1] * B[1][1]],\n        [A[1][0] * B[0][0] + A[1][1] * B[1][0], A[1][0] * B[0][1] + A[1][1] * B[1][1]]\n    ]\n\ndef matrix_pow(matrix, power):\n    \"\"\" Raises a 2x2 matrix to the given power using exponentiation by squaring. \"\"\"\n    result = [[1, 0], [0, 1]]\n    base = [row[:] for row in matrix]\n    while power > 0:\n        if power % 2 == 1:\n            result = matrix_mult(result, base)\n        base = matrix_mult(base, base)\n        power //= 2\n    return result\n\ndef fib(n):\n    \"\"\" Computes the nth Fibonacci number using matrix exponentiation. \"\"\"\n    if n == 0:\n        return 0\n    if n == 1:\n        return 1\n    fib_matrix = [[1, 1], [1, 0]]\n    powered_matrix = matrix_pow(fib_matrix, n - 1)\n    return powered_matrix[0][0]\n\n# Test the function\nprint(fib(0))  # 0\nprint(fib(1))  # 1\nprint(fib(10)) # 55\nprint(fib(100)) # 354224848179261915075\n```"}
{"prompt": "You are tasked with developing a RESTful API using Flask to manage a collection of books. The API must support the following operations:\n\n1. **Retrieve all books**: `GET /books`\n   - **Response**: A JSON object containing a list of all books.\n   \n2. **Retrieve a specific book by ID**: `GET /books/<int:book_id>`\n   - **Response**: A JSON object containing the details of the book with the specified ID. If the book does not exist, return a 404 error.\n   \n3. **Add a new book**: `POST /books`\n   - **Request Body**: A JSON object with the following fields: `title`, `author`, and `year`.\n   - **Response**: A JSON object containing the details of the newly added book. If the request body is invalid, return a 400 error.\n   \n4. **Update an existing book**: `PUT /books/<int:book_id>`\n   - **Request Body**: A JSON object with the fields to be updated (`title`, `author`, `year`).\n   - **Response**: A JSON object containing the updated details of the book. If the book does not exist or the request body is invalid, return a 404 or 400 error, respectively.\n   \n5. **Delete a book by ID**: `DELETE /books/<int:book_id>`\n   - **Response**: A JSON object with a `result` field set to `true`. If the book does not exist, return a 404 error.\n\nImplement the Flask application that handles these operations. Use an in-memory data structure to store the book information.\n\n**Sample Input/Output**:\n- **GET /books**\n  - **Response**: `{\"books\": [{\"id\": 1, \"title\": \"1984\", \"author\": \"George Orwell\", \"year\": 1949}, {\"id\": 2, \"title\": \"The Great Gatsby\", \"author\": \"F. Scott Fitzgerald\", \"year\": 1925}, {\"id\": 3, \"title\": \"To Kill a Mockingbird\", \"author\": \"Harper Lee\", \"year\": 1960}]}`\n  \n- **GET /books/1**\n  - **Response**: `{\"id\": 1, \"title\": \"1984\", \"author\": \"George Orwell\", \"year\": 1949}`\n  \n- **POST /books**\n  - **Request Body**: `{\"title\": \"Brave New World\", \"author\": \"Aldous Huxley\", \"year\": 1932}`\n  - **Response**: `{\"id\": 4, \"title\": \"Brave New World\", \"author\": \"Aldous Huxley\", \"year\": 1932}`\n  \n- **PUT /books/1**\n  - **Request Body**: `{\"year\": 1949}`\n  - **Response**: `{\"id\": 1, \"title\": \"1984\", \"author\": \"George Orwell\", \"year\": 1949}`\n  \n- **DELETE /books/1**\n  - **Response**: `{\"result\": true}`", "response": "```python\nfrom flask import Flask, jsonify, request, abort\n\napp = Flask(__name__)\n\n# Simple in-memory data structure to store book information\nbooks = [\n    {'id': 1, 'title': '1984', 'author': 'George Orwell', 'year': 1949},\n    {'id': 2, 'title': 'The Great Gatsby', 'author': 'F. Scott Fitzgerald', 'year': 1925},\n    {'id': 3, 'title': 'To Kill a Mockingbird', 'author': 'Harper Lee', 'year': 1960}\n]\n\ndef find_book(book_id):\n    \"\"\"\n    Find a book by its ID.\n    \n    :param book_id: The ID of the book to find.\n    :return: The book dictionary if found, otherwise None.\n    \"\"\"\n    return next((book for book in books if book['id'] == book_id), None)\n\n@app.route('/books', methods=['GET'])\ndef get_books():\n    \"\"\"\n    Retrieve a list of all books.\n    \n    :return: A JSON response containing the list of all books.\n    \"\"\"\n    return jsonify({'books': books})\n\n@app.route('/books/<int:book_id>', methods=['GET'])\ndef get_book(book_id):\n    \"\"\"\n    Retrieve information about a specific book by its ID.\n    \n    :param book_id: The ID of the book to retrieve.\n    :return: A JSON response containing the book details if found, otherwise a 404 error.\n    \"\"\"\n    book = find_book(book_id)\n    if book is None:\n        abort(404)\n    return jsonify(book)\n\n@app.route('/books', methods=['POST'])\ndef create_book():\n    \"\"\"\n    Add a new book.\n    \n    :return: A JSON response containing the details of the newly added book if the request is valid, otherwise a 400 error.\n    \"\"\"\n    if not request.json or 'title' not in request.json or 'author' not in request.json or 'year' not in request.json:\n        abort(400)\n    new_book = {\n        'id': books[-1]['id'] + 1 if books else 1,\n        'title': request.json['title'],\n        'author': request.json['author'],\n        'year': request.json['year']\n    }\n    books.append(new_book)\n    return jsonify(new_book), 201\n\n@app.route('/books/<int:book_id>', methods=['PUT'])\ndef update_book(book_id):\n    \"\"\"\n    Update information about an existing book.\n    \n    :param book_id: The ID of the book to update.\n    :return: A JSON response containing the updated book details if the request is valid, otherwise a 404 or 400 error.\n    \"\"\"\n    book = find_book(book_id)\n    if book is None:\n        abort(404)\n    if not request.json:\n        abort(400)\n    book.update({\n        'title': request.json.get('title', book['title']),\n        'author': request.json.get('author', book['author']),\n        'year': request.json.get('year', book['year'])\n    })\n    return jsonify(book)\n\n@app.route('/books/<int:book_id>', methods=['DELETE'])\ndef delete_book(book_id):\n    \"\"\"\n    Delete a book by its ID.\n    \n    :param book_id: The ID of the book to delete.\n    :return: A JSON response with a 'result' field set to True if the book is found, otherwise a 404 error.\n    \"\"\"\n    book = find_book(book_id)\n    if book is None:\n        abort(404)\n    books.remove(book)\n    return jsonify({'result': True})\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```"}
{"prompt": "You are tasked with implementing a function that generates a unique alphanumeric string of length `n`. The string should consist solely of uppercase letters and digits. Your function must ensure that no two generated strings are identical. \n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 10), representing the length of the string to be generated.\n\n**Output:**\n- A unique alphanumeric string of length `n` consisting of uppercase letters and digits.\n\n**Sample Input:**\n```\n6\n6\n```\n\n**Sample Output:**\n```\nA1B2C3\nD4E5F6\n```", "response": "```python\nimport random\nimport string\n\nclass UniqueStringGenerator:\n    def __init__(self):\n        self.generated_strings = set()\n    \n    def generate_unique_string(self, n):\n        \"\"\"\n        Generates a unique alphanumeric string of length n.\n        \n        Parameters:\n        n (int): The length of the string to be generated.\n        \n        Returns:\n        str: A unique alphanumeric string of length n.\n        \n        Raises:\n        ValueError: If n is not a positive integer.\n        \"\"\"\n        if n <= 0:\n            raise ValueError(\"Length of the string must be a positive integer.\")\n\n        while True:\n            random_string = ''.join(random.choices(string.ascii_uppercase + string.digits, k=n))\n            if random_string not in self.generated_strings:\n                self.generated_strings.add(random_string)\n                return random_string\n```"}
{"prompt": "You are tasked with implementing a Python class `Employee` that models an employee's basic information and salary management. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `first_name`: A string representing the employee's first name.\n  - `last_name`: A string representing the employee's last name.\n  - `employee_id`: An integer representing the employee's unique identifier.\n  - `salary`: A float representing the employee's salary (initialize to 0.0).\n\n- **Class Attribute:**\n  - `raise_amount`: A float representing the default raise percentage, initialized to 0.04 (4%).\n\n- **Methods:**\n  - `get_full_name`: Returns a string that concatenates the first name and last name, separated by a space.\n  - `apply_raise`: Takes a percentage (as a float) as input and increases the employee's salary by the specified percentage. If no percentage is provided, use the default `raise_amount`.\n\n**Sample Input/Output:**\n- Input:\n  ```python\n  emp = Employee(\"John\", \"Doe\", 12345)\n  emp.salary = 50000\n  emp.apply_raise(0.10)\n  print(emp.get_full_name())\n  print(emp.salary)\n  emp.apply_raise(None)\n  print(emp.salary)\n  ```\n- Output:\n  ```\n  John Doe\n  55000.0\n  57200.0\n  ```", "response": "```python\nclass Employee:\n    raise_amount = 0.04  # class attribute\n\n    def __init__(self, first_name, last_name, employee_id):\n        \"\"\"\n        Initializes a new Employee instance.\n\n        :param first_name: str, the first name of the employee\n        :param last_name: str, the last name of the employee\n        :param employee_id: int, the unique identifier of the employee\n        \"\"\"\n        self.first_name = first_name\n        self.last_name = last_name\n        self.employee_id = employee_id\n        self.salary = 0.0  # Initialize salary to 0.0\n\n    def get_full_name(self):\n        \"\"\"\n        Returns the full name of the employee.\n\n        :return: str, the full name of the employee\n        \"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n\n    def apply_raise(self, percentage=None):\n        \"\"\"\n        Applies a raise to the employee's salary.\n\n        :param percentage: float, the raise percentage to apply (optional)\n        \"\"\"\n        if percentage is None:\n            percentage = self.raise_amount\n        self.salary += self.salary * percentage\n```"}
{"prompt": "You are tasked with processing a CSV file that contains employee data. Each row in the CSV file represents an employee and includes the following fields: first name, last name, employee ID, and salary. Your goal is to create an `Employee` object for each row, apply a 5% raise to each employee's salary, and then output the full name and updated salary of each employee.\n\n**Input:**\n- The first line of input is the path to a CSV file named `employees.csv`.\n- The CSV file has the following format:\n  ```\n  first_name,last_name,employee_id,salary\n  John,Doe,12345,50000\n  Jane,Smith,67890,60000\n  ```\n\n**Output:**\n- For each employee, print their full name and updated salary after a 5% raise, formatted as:\n  ```\n  Employee Full Name: John Doe, New Salary: 52500.00\n  Employee Full Name: Jane Smith, New Salary: 63000.00\n  ```", "response": "```python\nimport csv\n\nclass Employee:\n    def __init__(self, first_name, last_name, employee_id, salary):\n        \"\"\"\n        Initialize an Employee object with first name, last name, employee ID, and salary.\n        \n        :param first_name: str, the first name of the employee\n        :param last_name: str, the last name of the employee\n        :param employee_id: str, the employee ID\n        :param salary: float, the salary of the employee\n        \"\"\"\n        self.first_name = first_name\n        self.last_name = last_name\n        self.employee_id = employee_id\n        self.salary = float(salary)\n    \n    def apply_raise(self, percentage):\n        \"\"\"\n        Apply a raise to the employee's salary.\n        \n        :param percentage: float, the percentage of the raise\n        \"\"\"\n        self.salary *= (1 + percentage / 100.0)\n    \n    def get_full_name(self):\n        \"\"\"\n        Get the full name of the employee.\n        \n        :return: str, the full name of the employee\n        \"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n\ndef read_employees_from_csv(filename):\n    \"\"\"\n    Read employee data from a CSV file and create Employee objects.\n    \n    :param filename: str, the path to the CSV file\n    :return: list, a list of Employee objects\n    \"\"\"\n    employees = []\n    with open(filename, newline='') as csvfile:\n        reader = csv.DictReader(csvfile)\n        for row in reader:\n            employee = Employee(row['first_name'], row['last_name'], row['employee_id'], row['salary'])\n            employees.append(employee)\n    return employees\n\n# Read the filename from input\nfilename = input().strip()\n\n# Read employees from the CSV file\nemployees = read_employees_from_csv(filename)\n\n# Apply a 5% raise and print the full name and new salary for each employee\nfor emp in employees:\n    emp.apply_raise(5)\n    print(f\"Employee Full Name: {emp.get_full_name()}, New Salary: {emp.salary:.2f}\")\n```"}
{"prompt": "You are given an integer `n`. Your task is to write a function `find_prime_factors` that returns a list of its prime factors in ascending order. Each prime factor should appear in the list as many times as it divides the number. For example, if `n` is `60`, the output should be `[2, 2, 3, 5]`.\n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 10^6)\n\n**Output:**\n- A list of integers representing the prime factors of `n` in ascending order.\n\n**Sample Input:**\n```\n60\n```\n\n**Sample Output:**\n```\n[2, 2, 3, 5]\n```", "response": "```python\ndef find_prime_factors(n):\n    \"\"\"\n    Returns a list of prime factors of the given integer n, sorted in ascending order.\n    Each prime factor appears in the list the number of times it divides n.\n    \n    :param n: Integer to find prime factors of.\n    :return: List of prime factors.\n    \"\"\"\n    factors = []\n    divisor = 2\n    while n >= 2:\n        while n % divisor == 0:\n            factors.append(divisor)\n            n //= divisor\n        divisor += 1\n    return factors\n\n# Example usage:\n# print(find_prime_factors(60))  # Output: [2, 2, 3, 5]\n```"}
{"prompt": "You are tasked with implementing a function `generate_markdown_table` that constructs a Markdown-formatted table from a list of dictionaries. Each dictionary in the list represents a row in the table, and the keys of the dictionaries serve as the column headers. The function should return a string representing the Markdown table. The column headers should be sorted alphabetically. If the input list is empty, the function should return an empty string.\n\n**Sample Input:**\n```python\ndata = [\n    {'Name': 'Alice', 'Age': 30, 'City': 'New York'},\n    {'Name': 'Bob', 'Age': 25, 'City': 'Los Angeles'},\n    {'Name': 'Charlie', 'Age': 35, 'City': 'Chicago'}\n]\n```\n\n**Sample Output:**\n```\n| Age | City        | Name    |\n| --- | ----------- | ------- |\n| 30  | New York    | Alice   |\n| 25  | Los Angeles | Bob     |\n| 35  | Chicago     | Charlie |\n```", "response": "```python\ndef generate_markdown_table(data):\n    \"\"\"\n    Generates a Markdown-formatted table from a list of dictionaries.\n    \n    Parameters:\n    data (list of dict): A list where each dictionary represents a row in the table.\n                         The keys of the dictionaries are the column headers.\n    \n    Returns:\n    str: A string representing the Markdown table.\n    \"\"\"\n    if not data:\n        return \"\"\n\n    headers = sorted(data[0].keys())\n    header_row = '| ' + ' | '.join(headers) + ' |'\n    separator_row = '| ' + ' | '.join(['---' for _ in headers]) + ' |'\n    \n    rows = [header_row, separator_row]\n    \n    for row_data in data:\n        row = '| ' + ' | '.join([str(row_data.get(header, '')) for header in headers]) + ' |'\n        rows.append(row)\n    \n    return '\\n'.join(rows)\n```"}
{"prompt": "You are tasked with implementing a function `convert_to_json` that transforms a given Python dictionary into a JSON-formatted string. The dictionary can contain nested dictionaries and lists. Your function should handle these structures appropriately and return a string formatted with an indentation of 4 spaces.\n\n**Sample Input:**\n```python\n{\n    \"name\": \"John Doe\",\n    \"age\": 30,\n    \"children\": [\n        {\n            \"name\": \"Jane Doe\",\n            \"age\": 10\n        },\n        {\n            \"name\": \"Doe Junior\",\n            \"age\": 7\n        }\n    ],\n    \"address\": {\n        \"street\": \"123 Elm St\",\n        \"city\": \"Somewhere\",\n        \"zip\": \"12345\"\n    }\n}\n```\n\n**Sample Output:**\n```json\n{\n    \"name\": \"John Doe\",\n    \"age\": 30,\n    \"children\": [\n        {\n            \"name\": \"Jane Doe\",\n            \"age\": 10\n        },\n        {\n            \"name\": \"Doe Junior\",\n            \"age\": 7\n        }\n    ],\n    \"address\": {\n        \"street\": \"123 Elm St\",\n        \"city\": \"Somewhere\",\n        \"zip\": \"12345\"\n    }\n}\n```", "response": "```python\nimport json\n\ndef convert_to_json(data):\n    \"\"\"\n    Convert a Python dictionary into a JSON-formatted string with an indentation of 4 spaces.\n    \n    Args:\n        data (dict): A Python dictionary that may include nested dictionaries and lists.\n    \n    Returns:\n        str: A string containing the JSON formatted data with an indentation of 4 spaces.\n    \"\"\"\n    return json.dumps(data, indent=4)\n```"}
{"prompt": "You are tasked with implementing a function `fetch_data` that retrieves data from a given URL. Your function should utilize the `requests` library to perform HTTP GET requests. In the event of any exceptions, including HTTP errors or value errors, your function should gracefully handle these exceptions and return `None`. \n\n**Function Signature:**\n```python\ndef fetch_data(url: str) -> str or None:\n```\n\n**Sample Input:**\n```\nhttps://jsonplaceholder.typicode.com/posts/1\n```\n\n**Sample Output:**\n```\n{\n  \"userId\": 1,\n  \"id\": 1,\n  \"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\n  \"body\": \"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\"\n}\n```\n\n**Note:** The actual output will be a string representation of the JSON data.", "response": "```python\nimport requests\n\ndef fetch_data(url: str) -> str or None:\n    \"\"\"\n    Fetches data from the specified URL using an HTTP GET request.\n    \n    Parameters:\n    url (str): The URL from which to fetch data.\n    \n    Returns:\n    str or None: The fetched data as a string if successful, otherwise None.\n    \"\"\"\n    try:\n        response = requests.get(url)\n        response.raise_for_status()  # Raises an HTTPError for bad responses\n        return response.text\n    except (requests.RequestException, ValueError):\n        return None\n```"}
{"prompt": "You are tasked with developing a Python function to process a CSV file containing product information for an online store. The CSV file has the following structure:\n\n- `id`: Product ID (integer)\n- `name`: Product name (string)\n- `category`: Product category (string)\n- `price`: Product price (float)\n- `stock`: Product stock quantity (integer)\n\nYour function `filter_products_by_category` should read the CSV file and return a list of product IDs that belong to a specified category.\n\n**Input:**\n- The function takes two parameters:\n  - `category_name`: A string representing the category to filter by.\n  - `csv_file_path`: A string representing the path to the CSV file (default is 'products.csv').\n\n**Output:**\n- A list of integers representing the product IDs that belong to the specified category.\n\n**Sample Input:**\nAssume the CSV file `products.csv` contains the following data:\n```\nid,name,category,price,stock\n1,Laptop,Electronics,999.99,10\n2,Blender,Home Appliances,49.99,20\n3,Smartphone,Electronics,499.99,15\n4,Toaster,Home Appliances,29.99,30\n```\n\n**Sample Output:**\nFor the input `filter_products_by_category('Electronics')`, the output should be:\n```\n[1, 3]\n```", "response": "```python\nimport csv\n\ndef filter_products_by_category(category_name, csv_file_path='products.csv'):\n    \"\"\"\n    Filters products by category and returns a list of product IDs.\n\n    Parameters:\n    - category_name (str): The category to filter by.\n    - csv_file_path (str): The path to the CSV file containing product information.\n\n    Returns:\n    - list: A list of product IDs that belong to the specified category.\n    \"\"\"\n    product_ids = []\n    with open(csv_file_path, mode='r', newline='', encoding='utf-8') as file:\n        reader = csv.DictReader(file)\n        for row in reader:\n            if row['category'] == category_name:\n                product_ids.append(int(row['id']))\n    return product_ids\n```"}
{"prompt": "You are tasked with evaluating the efficiency of three sorting algorithms: Bubble Sort, Insertion Sort, and Merge Sort. Implement a function `compare_sorting_algorithms` that takes a list of integers as input and returns a dictionary with the names of the sorting algorithms as keys and the time taken to sort the list using each algorithm as values in seconds.\n\n**Input:**\n- A list of integers, `input_list`.\n\n**Output:**\n- A dictionary with keys as the names of the sorting algorithms ('Bubble Sort', 'Insertion Sort', 'Merge Sort') and values as the time taken to sort the list using each algorithm in seconds.\n\n**Sample Input:**\n```python\n[34, 7, 23, 32, 5, 62]\n```\n\n**Sample Output:**\n```python\n{'Bubble Sort': 0.000123, 'Insertion Sort': 0.000056, 'Merge Sort': 0.000023}\n```", "response": "```python\nimport time\nimport copy\n\ndef bubble_sort(arr):\n    \"\"\"\n    Sorts a list of integers using the Bubble Sort algorithm.\n    \n    Parameters:\n    arr (list): The list of integers to be sorted.\n    \"\"\"\n    n = len(arr)\n    for i in range(n):\n        for j in range(0, n-i-1):\n            if arr[j] > arr[j+1]:\n                arr[j], arr[j+1] = arr[j+1], arr[j]\n\ndef insertion_sort(arr):\n    \"\"\"\n    Sorts a list of integers using the Insertion Sort algorithm.\n    \n    Parameters:\n    arr (list): The list of integers to be sorted.\n    \"\"\"\n    for i in range(1, len(arr)):\n        key = arr[i]\n        j = i-1\n        while j >=0 and key < arr[j]:\n            arr[j + 1] = arr[j]\n            j -= 1\n        arr[j + 1] = key\n\ndef merge_sort(arr):\n    \"\"\"\n    Sorts a list of integers using the Merge Sort algorithm.\n    \n    Parameters:\n    arr (list): The list of integers to be sorted.\n    \"\"\"\n    if len(arr) > 1:\n        mid = len(arr)//2\n        left_half = arr[:mid]\n        right_half = arr[mid:]\n\n        merge_sort(left_half)\n        merge_sort(right_half)\n\n        i = j = k = 0\n        while i < len(left_half) and j < len(right_half):\n            if left_half[i] < right_half[j]:\n                arr[k] = left_half[i]\n                i += 1\n            else:\n                arr[k] = right_half[j]\n                j += 1\n            k += 1\n        while i < len(left_half):\n            arr[k] = left_half[i]\n            i += 1\n            k += 1\n        while j < len(right_half):\n            arr[k] = right_half[j]\n            j += 1\n            k += 1\n\ndef compare_sorting_algorithms(input_list):\n    \"\"\"\n    Compares the performance of Bubble Sort, Insertion Sort, and Merge Sort on a given list of integers.\n    \n    Parameters:\n    input_list (list): The list of integers to be sorted.\n    \n    Returns:\n    dict: A dictionary with sorting algorithm names as keys and the time taken to sort the list as values.\n    \"\"\"\n    algorithms = {\n        'Bubble Sort': bubble_sort,\n        'Insertion Sort': insertion_sort,\n        'Merge Sort': merge_sort\n    }\n    \n    results = {}\n    for name, algorithm in algorithms.items():\n        list_copy = copy.deepcopy(input_list)\n        start_time = time.time()\n        algorithm(list_copy)\n        end_time = time.time()\n        results[name] = end_time - start_time\n    \n    return results\n```"}
{"prompt": "You are given a task to optimize a JavaScript function that computes the factorial of a non-negative integer `n`. The current implementation is inefficient and slow. Your goal is to rewrite the function using recursion and memoization to improve its performance. Your function should handle multiple test cases efficiently.\n\n**Input:**\n- The first line contains an integer `T` (1 \u2264 T \u2264 100), the number of test cases.\n- Each of the next `T` lines contains a single integer `n` (0 \u2264 n \u2264 20).\n\n**Output:**\n- For each test case, output the factorial of `n` on a new line.\n\n**Sample Input:**\n```\n3\n5\n10\n0\n```\n\n**Sample Output:**\n```\n120\n3628800\n1\n```", "response": "```python\ndef factorial(n, memo={}):\n    \"\"\"\n    Computes the factorial of a non-negative integer n using recursion and memoization.\n\n    Parameters:\n    n (int): The non-negative integer for which the factorial is to be computed.\n    memo (dict): A dictionary used to store previously computed factorials for memoization.\n\n    Returns:\n    int: The factorial of the integer n.\n    \"\"\"\n    if n in memo:\n        return memo[n]\n    if n == 0 or n == 1:\n        return 1\n    memo[n] = n * factorial(n-1, memo)\n    return memo[n]\n```"}
{"prompt": "You are tasked with developing a function to generate a random dungeon layout for a game. The dungeon is represented as a 2D grid where each cell can either be a wall (`'#'`) or a floor (`'.'`). The dungeon must contain a random number of rooms and corridors connecting these rooms. Your function should generate such a dungeon layout based on the given dimensions.\n\n**Function Signature:**\n```python\ndef generate_dungeon(width: int, height: int) -> List[List[str]]:\n```\n\n**Parameters:**\n- `width` (int): The width of the dungeon grid.\n- `height` (int): The height of the dungeon grid.\n\n**Returns:**\n- A 2D list of strings representing the dungeon layout, where each element is either `'#'` (wall) or `'.'` (floor).\n\n**Constraints:**\n- 5 \u2264 width, height \u2264 50\n\n**Sample Input:**\n```\nwidth = 10\nheight = 10\n```\n\n**Sample Output:**\n```\n##########\n#.......##\n#.......##\n#.......##\n##########\n#.......##\n#.......##\n#.......##\n##########\n```", "response": "```python\nfrom typing import List\nimport random\n\ndef generate_dungeon(width: int, height: int) -> List[List[str]]:\n    \"\"\"\n    Generates a random dungeon layout represented as a 2D grid.\n    \n    Parameters:\n    - width (int): The width of the dungeon grid.\n    - height (int): The height of the dungeon grid.\n    \n    Returns:\n    - List[List[str]]: A 2D list representing the dungeon layout.\n    \"\"\"\n    def create_room(dungeon: List[List[str]], left: int, top: int, room_width: int, room_height: int) -> None:\n        \"\"\"\n        Creates a room in the dungeon grid.\n        \n        Parameters:\n        - dungeon (List[List[str]]): The dungeon grid.\n        - left (int): The x-coordinate of the top-left corner of the room.\n        - top (int): The y-coordinate of the top-left corner of the room.\n        - room_width (int): The width of the room.\n        - room_height (int): The height of the room.\n        \"\"\"\n        for y in range(top, top + room_height):\n            for x in range(left, left + room_width):\n                dungeon[y][x] = '.'\n\n    def carve_corridor(dungeon: List[List[str]], start: tuple, end: tuple) -> None:\n        \"\"\"\n        Carves a corridor between two points in the dungeon grid.\n        \n        Parameters:\n        - dungeon (List[List[str]]): The dungeon grid.\n        - start (tuple): The starting point of the corridor.\n        - end (tuple): The ending point of the corridor.\n        \"\"\"\n        x1, y1 = start\n        x2, y2 = end\n\n        x_dir = 1 if x2 > x1 else -1\n        y_dir = 1 if y2 > y1 else -1\n\n        for x in range(x1, x2 + x_dir, x_dir):\n            dungeon[y1][x] = '.'\n\n        for y in range(y1, y2 + y_dir, y_dir):\n            dungeon[y][x2] = '.'\n\n    dungeon = [['#' for _ in range(width)] for _ in range(height)]\n    \n    rooms = []\n    num_rooms = random.randint(4, 10)\n\n    for _ in range(num_rooms):\n        w = random.randint(3, 8)\n        h = random.randint(3, 8)\n        x = random.randint(0, width - w - 1)\n        y = random.randint(0, height - h - 1)\n        create_room(dungeon, x, y, w, h)\n        rooms.append((x, y, w, h))\n\n    rooms.sort(key=lambda r: r[0])\n    for i in range(len(rooms) - 1):\n        carve_corridor(dungeon, (rooms[i][0] + rooms[i][2] // 2, rooms[i][1] + rooms[i][3] // 2),\n                       (rooms[i + 1][0] + rooms[i + 1][2] // 2, rooms[i + 1][1] + rooms[i + 1][3] // 2))\n\n    return dungeon\n```"}
{"prompt": "You are given a CSV file named \"data.csv\" containing various data types. Your task is to write a Python script that reads this file and computes the average of all numeric values present in the file. Non-numeric values should be ignored. Your program should handle any potential exceptions that may arise during file reading and processing. \n\n**Input:**\n- A CSV file named \"data.csv\" with mixed data types.\n\n**Output:**\n- A single floating-point number representing the average of all numeric values in the file. If there are no numeric values, output a message indicating that no numeric data is available.\n\n**Sample Input (data.csv):**\n```\n1,apple,3.5\nbanana,42,0.75\n89,grape,orange\n```\n\n**Sample Output:**\n```\nThe average of numeric values in the CSV file is: 21.416666666666668\n```", "response": "```python\nimport csv\n\ndef calculate_average_from_csv(file_path):\n    \"\"\"\n    Calculate the average of all numeric values in a CSV file.\n    \n    Parameters:\n    file_path (str): The path to the CSV file.\n    \n    Returns:\n    float: The average of numeric values, or None if no numeric data is found.\n    \"\"\"\n    total_sum = 0\n    count = 0\n    \n    try:\n        with open(file_path, mode='r', newline='') as file:\n            reader = csv.reader(file)\n            for row in reader:\n                for value in row:\n                    try:\n                        number = float(value)\n                        total_sum += number\n                        count += 1\n                    except ValueError:\n                        continue\n    except FileNotFoundError:\n        print(f\"Error: The file '{file_path}' was not found.\")\n        return None\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n        return None\n    \n    if count == 0:\n        print(\"No numeric data to calculate average.\")\n        return None\n    \n    return total_sum / count\n\n# Calculate the average of numeric values in the CSV file\naverage = calculate_average_from_csv(\"data.csv\")\nif average is not None:\n    print(f\"The average of numeric values in the CSV file is: {average}\")\n```"}
{"prompt": "You are given an integer `n`. Your task is to write a function `find_largest_prime_factor` that returns the largest prime factor of `n`. If `n` is less than 2, the function should return `None`. Your solution should be efficient enough to handle large values of `n`.\n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 10^18)\n\n**Output:**\n- Return the largest prime factor of `n` as an integer, or `None` if `n` is less than 2.\n\n**Sample Input:**\n```\n13195\n600851475143\n```\n\n**Sample Output:**\n```\n29\n6857\n```", "response": "```python\ndef find_largest_prime_factor(n):\n    \"\"\"\n    Returns the largest prime factor of the given integer n.\n    If n is less than 2, returns None.\n    \n    :param n: Integer, the number to find the largest prime factor of.\n    :return: Integer, the largest prime factor of n, or None if n < 2.\n    \"\"\"\n    if n < 2:\n        return None\n\n    largest_prime = None\n    # Check for number of 2s\n    while n % 2 == 0:\n        largest_prime = 2\n        n //= 2\n\n    # Check for odd factors from 3 onwards\n    for i in range(3, int(n**0.5) + 1, 2):\n        while n % i == 0:\n            largest_prime = i\n            n //= i\n\n    # If n is a prime number greater than 2\n    if n > 2:\n        largest_prime = n\n\n    return largest_prime\n\n# Example usage:\n# print(find_largest_prime_factor(13195))  # Should return 29\n# print(find_largest_prime_factor(600851475143))  # Should return 6857\n```"}
{"prompt": "You are given a list of strings, each representing a product and its price in the format \"product_name:price\". Your task is to implement a function `parse_products` that processes this list and returns a dictionary with product names as keys and their corresponding prices (as floats) as values. It is guaranteed that no product name contains a colon (`:`).\n\n**Input:**\n- A list of strings, where each string is in the format \"product_name:price\".\n\n**Output:**\n- A dictionary with product names as keys and prices as float values.\n\n**Sample Input:**\n```python\n[\"Apple iPhone 12:999\", \"Samsung Galaxy S21:799\", \"Google Pixel 5:699\"]\n```\n\n**Sample Output:**\n```python\n{'Apple iPhone 12': 999.0, 'Samsung Galaxy S21': 799.0, 'Google Pixel 5': 699.0}\n```", "response": "```python\ndef parse_products(product_list):\n    \"\"\"\n    Parses a list of product strings and returns a dictionary with product names as keys\n    and their corresponding prices as float values.\n\n    :param product_list: List of strings, each in the format \"product_name:price\"\n    :return: Dictionary with product names as keys and prices as float values\n    \"\"\"\n    products_dict = {}\n    for product in product_list:\n        name, price = product.rsplit(':', 1)\n        products_dict[name] = float(price)\n    return products_dict\n\n# Example usage:\nproducts = [\"Apple iPhone 12:999\", \"Samsung Galaxy S21:799\", \"Google Pixel 5:699\"]\nparsed_products = parse_products(products)\nprint(parsed_products)\n```"}
{"prompt": "You are tasked with implementing a function `generate_report` for a sales analysis system. The function should process a list of sales transactions, each represented as a dictionary with keys 'product_name', 'quantity', and 'price_per_unit'. Your goal is to compute the total number of items sold and the total revenue from these transactions. The function should return a formatted string summarizing these values.\n\n**Input:**\n- A list of dictionaries, where each dictionary contains:\n  - 'product_name': A string representing the name of the product.\n  - 'quantity': An integer representing the number of units sold.\n  - 'price_per_unit': A float representing the price per unit of the product.\n\n**Output:**\n- A string formatted as:\n  ```\n  Sales Report\n  Total Items Sold: <total_items_sold>\n  Total Revenue: $<total_revenue>\n  ```\n  where `<total_items_sold>` is the total number of items sold, and `<total_revenue>` is the total revenue formatted to two decimal places.\n\n**Sample Input:**\n```python\n[\n    {\"product_name\": \"Apple iPhone 12\", \"quantity\": 3, \"price_per_unit\": 999},\n    {\"product_name\": \"Samsung Galaxy S21\", \"quantity\": 2, \"price_per_unit\": 799}\n]\n```\n\n**Sample Output:**\n```\nSales Report\nTotal Items Sold: 5\nTotal Revenue: $4,695.00\n```", "response": "```python\ndef generate_report(transactions):\n    \"\"\"\n    Generates a sales report from a list of transactions.\n\n    Parameters:\n    transactions (list of dict): A list where each dictionary contains 'product_name', 'quantity', and 'price_per_unit'.\n\n    Returns:\n    str: A formatted string summarizing the total items sold and total revenue.\n    \"\"\"\n    total_items_sold = 0\n    total_revenue = 0\n\n    for transaction in transactions:\n        total_items_sold += transaction['quantity']\n        total_revenue += transaction['quantity'] * transaction['price_per_unit']\n\n    return (f\"Sales Report\\n\"\n            f\"Total Items Sold: {total_items_sold}\\n\"\n            f\"Total Revenue: ${total_revenue:,.2f}\")\n```"}
{"prompt": "You are tasked with implementing a `BankAccount` class that supports basic banking operations. The class should have the following functionalities:\n\n- **Initialization**: The constructor should accept an optional `initial_balance` parameter, defaulting to 0, and initialize the account balance.\n- **Deposit**: A method to add a specified amount to the account balance. The amount must be positive.\n- **Withdraw**: A method to subtract a specified amount from the account balance. The amount must be positive and should not exceed the current balance.\n- **Balance Inquiry**: A method to return the current balance of the account.\n\nYour implementation should ensure that the account balance never goes below zero.\n\n**Sample Input/Output**:\n- Initialize a `BankAccount` with an initial balance of 100.\n- Deposit 50, then withdraw 30.\n- The balance should be 120 after deposit and 90 after withdrawal.\n- Attempting to withdraw 100 should not change the balance, as it exceeds the current balance.", "response": "```python\nclass BankAccount:\n    def __init__(self, initial_balance=0):\n        \"\"\"\n        Initialize the bank account with an optional initial balance.\n        \n        :param initial_balance: The starting balance of the account, default is 0.\n        \"\"\"\n        self.balance = initial_balance\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposit a specified amount into the account.\n        \n        :param amount: The amount to deposit, must be positive.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraw a specified amount from the account.\n        \n        :param amount: The amount to withdraw, must be positive and not exceed the current balance.\n        \"\"\"\n        if 0 < amount <= self.balance:\n            self.balance -= amount\n\n    def get_balance(self):\n        \"\"\"\n        Return the current balance of the account.\n        \n        :return: The current balance.\n        \"\"\"\n        return self.balance\n```"}
{"prompt": "You are tasked with implementing a function `validate_email` that checks if a given email address is valid according to specific rules. An email is considered valid if it follows the format \"local-part@domain\". The local-part can consist of letters (both uppercase and lowercase), digits, hyphens, dots, and underscores. The domain must consist of letters, digits, hyphens, and dots, and must include at least one dot followed by at least two letters (e.g., \".com\", \".org\").\n\n**Input:**\n- A single string representing the email address to be validated.\n\n**Output:**\n- Return `True` if the email is valid, otherwise return `False`.\n\n**Sample Input:**\n```\nexample-email@domain.com\ninvalid-email@domain\nanother.valid_email@sub.domain.org\n```\n\n**Sample Output:**\n```\nTrue\nFalse\nTrue\n```", "response": "```python\nimport re\n\ndef validate_email(email):\n    \"\"\"\n    Validates if the given email address is in the correct format.\n\n    Parameters:\n    email (str): The email address to validate.\n\n    Returns:\n    bool: True if the email is valid, False otherwise.\n    \"\"\"\n    email_regex = r'^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'\n    return re.match(email_regex, email) is not None\n```"}
{"prompt": "You are given a string representing a filename. Your task is to implement a function `get_file_extension` that extracts and returns the file extension from the filename. The filename may contain multiple dots or no dots at all. If the filename does not have a valid extension, the function should return an empty string.\n\n**Input:**\n- A single string `filename` (1 \u2264 |filename| \u2264 100), which may contain alphanumeric characters, dots, and underscores.\n\n**Output:**\n- A string representing the file extension or an empty string if no valid extension exists.\n\n**Sample Input 1:**\n```\nexample.txt\n```\n**Sample Output 1:**\n```\ntxt\n```\n\n**Sample Input 2:**\n```\narchive.tar.gz\n```\n**Sample Output 2:**\n```\ngz\n```\n\n**Sample Input 3:**\n```\ndocument\n```\n**Sample Output 3:**\n```\n```\n\n**Sample Input 4:**\n```\nfile.name.with.multiple.dots.txt\n```\n**Sample Output 4:**\n```\ntxt\n```", "response": "```python\ndef get_file_extension(filename):\n    \"\"\"\n    Extracts and returns the file extension from the given filename.\n    \n    Parameters:\n    filename (str): The filename from which to extract the extension.\n    \n    Returns:\n    str: The file extension or an empty string if no valid extension exists.\n    \"\"\"\n    parts = filename.rsplit('.', 1)\n    return parts[-1] if len(parts) > 1 else ''\n```"}
{"prompt": "You are given a list of integers. Your task is to create a function named `calculate_exclusive_sums` that returns a new list where each element is the sum of all elements in the input list except the current element. For instance, if the input list is `[1, 2, 3, 4, 5]`, the output should be `[14, 13, 12, 11, 10]`.\n\n**Sample Input:**\n```\n[1, 2, 3, 4, 5]\n```\n\n**Sample Output:**\n```\n[14, 13, 12, 11, 10]\n```", "response": "```python\ndef calculate_exclusive_sums(numbers):\n    \"\"\"\n    Calculate a list where each element is the sum of all elements in the input list except the current element.\n    \n    :param numbers: List of integers\n    :return: List of integers where each element is the sum of all elements in the input list except the current element\n    \"\"\"\n    total_sum = sum(numbers)\n    return [total_sum - num for num in numbers]\n\n# Example usage\ninput_list = [1, 2, 3, 4, 5]\noutput_list = calculate_exclusive_sums(input_list)\nprint(output_list)  # Output: [14, 13, 12, 11, 10]\n```"}
{"prompt": "You are tasked with implementing a Python class `Account` that supports basic banking operations. The class should include methods for depositing money, withdrawing money, checking the balance, and transferring money between two accounts. The balance should be stored as a float. The class should handle invalid operations by raising a `ValueError` with an appropriate message.\n\n**Methods:**\n- `__init__(self, initial_balance=0.0)`: Initializes the account with the given initial balance. Raises a `ValueError` if the initial balance is negative.\n- `deposit(self, amount)`: Deposits the specified amount into the account. Raises a `ValueError` if the deposit amount is non-positive.\n- `withdraw(self, amount)`: Withdraws the specified amount from the account if sufficient balance exists. Raises a `ValueError` if the withdrawal amount is non-positive or if there are insufficient funds.\n- `check_balance(self)`: Returns the current balance of the account.\n- `transfer(source_account, target_account, amount)`: Transfers the specified amount from `source_account` to `target_account`. Raises a `ValueError` if the transfer amount is non-positive or if `source_account` has insufficient funds.\n\n**Sample Input/Output:**\n```python\naccount1 = Account(100.0)\naccount2 = Account(50.0)\nAccount.transfer(account1, account2, 30.0)\nprint(account1.check_balance())  # Output: 70.0\nprint(account2.check_balance())  # Output: 80.0\n```", "response": "```python\nclass Account:\n    def __init__(self, initial_balance=0.0):\n        \"\"\"\n        Initializes the account with the given initial balance.\n        Raises ValueError if the initial balance is negative.\n        \"\"\"\n        if initial_balance < 0:\n            raise ValueError(\"Initial balance cannot be negative.\")\n        self._balance = float(initial_balance)\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposits the specified amount into the account.\n        Raises ValueError if the deposit amount is non-positive.\n        \"\"\"\n        if amount <= 0:\n            raise ValueError(\"Deposit amount must be positive.\")\n        self._balance += amount\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraws the specified amount from the account if sufficient balance exists.\n        Raises ValueError if the withdrawal amount is non-positive or if there are insufficient funds.\n        \"\"\"\n        if amount <= 0:\n            raise ValueError(\"Withdrawal amount must be positive.\")\n        if amount > self._balance:\n            raise ValueError(\"Insufficient funds for withdrawal.\")\n        self._balance -= amount\n\n    def check_balance(self):\n        \"\"\"\n        Returns the current balance of the account.\n        \"\"\"\n        return self._balance\n\n    @staticmethod\n    def transfer(source_account, target_account, amount):\n        \"\"\"\n        Transfers the specified amount from source_account to target_account.\n        Raises ValueError if the transfer amount is non-positive or if source_account has insufficient funds.\n        \"\"\"\n        if amount <= 0:\n            raise ValueError(\"Transfer amount must be positive.\")\n        if source_account.check_balance() < amount:\n            raise ValueError(\"Insufficient funds for transfer.\")\n        source_account.withdraw(amount)\n        target_account.deposit(amount)\n```"}
{"prompt": "You are given a list of phone numbers in various formats. Your task is to write a Python function `format_phone_numbers(phone_numbers)` that formats each phone number into the standard format `(XXX) XXX-XXXX`. The function should ignore any non-numeric characters and ensure that the area code and central office code do not start with zero or one. If a phone number cannot be formatted, the function should raise a `ValueError` with the message \"Invalid phone number: {number}\".\n\n**Input:**\n- A list of strings, where each string is a phone number in an arbitrary format.\n\n**Output:**\n- A list of strings, where each string is a phone number formatted as `(XXX) XXX-XXXX`.\n\n**Sample Input:**\n```python\n['123-456-7890', '(123) 456-7890', '123 456 7890', '123.456.7890']\n```\n\n**Sample Output:**\n```python\n['(123) 456-7890', '(123) 456-7890', '(123) 456-7890', '(123) 456-7890']\n```", "response": "```python\nimport re\n\ndef format_phone_numbers(phone_numbers):\n    \"\"\"\n    Formats a list of phone numbers into the standard format (XXX) XXX-XXXX.\n    \n    Parameters:\n    phone_numbers (list of str): A list of phone numbers in various formats.\n    \n    Returns:\n    list of str: A list of formatted phone numbers.\n    \n    Raises:\n    ValueError: If a phone number cannot be formatted.\n    \"\"\"\n    formatted_numbers = []\n    phone_pattern = re.compile(r'\\D*([2-9]\\d{2})\\D*([2-9]\\d{2})\\D*(\\d{4})\\D*')\n    \n    for number in phone_numbers:\n        match = phone_pattern.match(number)\n        if match:\n            area_code, central_office_code, line_number = match.groups()\n            formatted_numbers.append(f\"({area_code}) {central_office_code}-{line_number}\")\n        else:\n            raise ValueError(f\"Invalid phone number: {number}\")\n    \n    return formatted_numbers\n```"}
{"prompt": "You are given two lists of integers, `list1` and `list2`. Your task is to implement a function `get_common_elements(list1, list2)` that returns a list of integers representing the common elements between the two lists. The function should be optimized for performance and should not use any built-in functions that directly compute the intersection of two lists, such as `set.intersection()`.\n\n**Input:**\n- Two lists of integers, `list1` and `list2`.\n\n**Output:**\n- A list of integers representing the common elements between `list1` and `list2`.\n\n**Sample Input:**\n- `list1 = [1, 2, 3, 4, 5, 6, 7, 8, 9]`\n- `list2 = [3, 4, 5, 6, 7, 8, 9, 10, 11]`\n\n**Sample Output:**\n- `[3, 4, 5, 6, 7, 8, 9]`", "response": "```python\ndef get_common_elements(list1, list2):\n    \"\"\"\n    Returns a list of common elements between two input lists.\n    \n    :param list1: List of integers.\n    :param list2: List of integers.\n    :return: List of integers representing the common elements.\n    \"\"\"\n    set1 = set(list1)\n    common_elements = [element for element in list2 if element in set1]\n    return common_elements\n\n# Example usage:\nlist1 = [1, 2, 3, 4, 5, 6, 7, 8, 9]\nlist2 = [3, 4, 5, 6, 7, 8, 9, 10, 11]\nprint(get_common_elements(list1, list2))  # Output: [3, 4, 5, 6, 7, 8, 9]\n```"}
{"prompt": "You are given a string `s` consisting of characters '(', ')', '[', ']', '{', and '}'. Your task is to determine if the string is balanced. A string is considered balanced if every opening parenthesis has a corresponding closing parenthesis in the correct order. For example, the string \"()\" is balanced, but the string \"(()\" is not balanced. Implement a function `is_balanced_parentheses` that returns `True` if the string is balanced and `False` otherwise.\n\n**Sample Input:**\n```\n()[]{}\n([{}])\n(]\n(({))\n```\n\n**Sample Output:**\n```\nTrue\nTrue\nFalse\nFalse\n```", "response": "```python\ndef is_balanced_parentheses(s: str) -> bool:\n    \"\"\"\n    Determines if a string of parentheses is balanced.\n    \n    Args:\n    s (str): The string containing parentheses to be checked.\n    \n    Returns:\n    bool: True if the string is balanced, False otherwise.\n    \"\"\"\n    matching_parentheses = {')': '(', ']': '[', '}': '{'}\n    stack = []\n\n    for char in s:\n        if char in matching_parentheses.values():\n            stack.append(char)\n        elif char in matching_parentheses.keys():\n            if stack and stack[-1] == matching_parentheses[char]:\n                stack.pop()\n            else:\n                return False\n\n    return len(stack) == 0\n```"}
{"prompt": "You are given a list of expenses where each expense is represented as a dictionary with the following keys:\n- `\"date\"`: A string representing the expense date in the format `\"YYYY-MM-DD\"`.\n- `\"amount\"`: A float representing the expense amount.\n- `\"category\"`: A string representing the expense category.\n\nYour task is to write a Python function `calculate_monthly_expenses` that processes this list and returns a dictionary with two keys:\n- `\"monthly_totals\"`: A dictionary where the keys are months in the format `\"YYYY-MM\"` and the values are the total expenses for each month.\n- `\"category_totals\"`: A dictionary where the keys are categories and the values are the total expenses for each category across all months.\n\n**Input:**\n- A list of dictionaries, each representing an expense.\n\n**Output:**\n- A dictionary with two keys: `\"monthly_totals\"` and `\"category_totals\"`.\n\n**Sample Input:**\n```python\nexpenses = [\n    {\"date\": \"2023-10-01\", \"amount\": 150.00, \"category\": \"Groceries\"},\n    {\"date\": \"2023-10-15\", \"amount\": 200.00, \"category\": \"Utilities\"},\n    {\"date\": \"2023-11-05\", \"amount\": 50.00, \"category\": \"Groceries\"},\n    {\"date\": \"2023-11-10\", \"amount\": 75.00, \"category\": \"Entertainment\"},\n    {\"date\": \"2023-10-20\", \"amount\": 100.00, \"category\": \"Entertainment\"}\n]\n```\n\n**Sample Output:**\n```python\n{\n    'monthly_totals': {'2023-10': 450.0, '2023-11': 125.0},\n    'category_totals': {'Groceries': 200.0, 'Utilities': 200.0, 'Entertainment': 175.0}\n}\n```", "response": "```python\nfrom collections import defaultdict\nfrom datetime import datetime\n\ndef calculate_monthly_expenses(expenses):\n    \"\"\"\n    Processes a list of expenses and returns a dictionary with total expenses for each month and each category.\n    \n    :param expenses: List of dictionaries, each containing 'date', 'amount', and 'category' keys.\n    :return: Dictionary with 'monthly_totals' and 'category_totals' keys.\n    \"\"\"\n    monthly_totals = defaultdict(float)\n    category_totals = defaultdict(float)\n    \n    for expense in expenses:\n        date = datetime.strptime(expense['date'], '%Y-%m-%d')\n        month_year = date.strftime('%Y-%m')\n        \n        monthly_totals[month_year] += expense['amount']\n        category_totals[expense['category']] += expense['amount']\n    \n    return {'monthly_totals': dict(monthly_totals), 'category_totals': dict(category_totals)}\n```"}
{"prompt": "You are given a list of integers. Your task is to determine the length of the longest increasing subsequence (LIS) within this list. The function `length_of_lis` should accept a list of integers and return an integer representing the length of the LIS. The input list can contain up to 10^4 elements. \n\n**Sample Input:**\n```\n[10, 9, 2, 5, 3, 7, 101, 18]\n```\n\n**Sample Output:**\n```\n4\n```\n\n**Explanation:**\nThe longest increasing subsequence is [2, 3, 7, 101], which has a length of 4.", "response": "```python\ndef length_of_lis(nums):\n    \"\"\"\n    Returns the length of the longest increasing subsequence in the given list of integers.\n    \n    :param nums: List[int] - A list of integers.\n    :return: int - The length of the longest increasing subsequence.\n    \"\"\"\n    if not nums:\n        return 0\n    \n    lis = [1] * len(nums)\n    \n    for i in range(1, len(nums)):\n        for j in range(i):\n            if nums[i] > nums[j]:\n                lis[i] = max(lis[i], lis[j] + 1)\n    \n    return max(lis)\n```"}
{"prompt": "You are tasked with designing a RESTful API using Flask to manage an inventory system. The API must support the following operations:\n\n1. **Retrieve all inventory items**:\n   - **Endpoint**: `GET /items`\n   - **Response**: A JSON array of all inventory items.\n\n2. **Add a new inventory item**:\n   - **Endpoint**: `POST /items`\n   - **Request Body**: A JSON object with the following fields:\n     - `name`: The name of the item (string).\n     - `quantity`: The quantity of the item in stock (integer).\n     - `price`: The price of the item (float).\n   - **Response**: A JSON object of the newly added item with an assigned unique `id`.\n\n3. **Retrieve a specific inventory item by ID**:\n   - **Endpoint**: `GET /items/<id>`\n   - **Response**: A JSON object of the item with the specified `id`. If the item does not exist, return a 404 error.\n\n4. **Update an existing inventory item by ID**:\n   - **Endpoint**: `PUT /items/<id>`\n   - **Request Body**: A JSON object with fields to update (`name`, `quantity`, `price`).\n   - **Response**: A JSON object of the updated item. If the item does not exist, return a 404 error.\n\n5. **Delete an inventory item by ID**:\n   - **Endpoint**: `DELETE /items/<id>`\n   - **Response**: An empty response with a 204 status code. If the item does not exist, return a 404 error.\n\nEach inventory item should have the following attributes:\n- `id`: A unique identifier for the item (integer).\n- `name`: The name of the item (string).\n- `quantity`: The quantity of the item in stock (integer).\n- `price`: The price of the item (float).\n\n**Sample Input/Output**:\n- **Request**: `POST /items` with body `{\"name\": \"Laptop\", \"quantity\": 10, \"price\": 999.99}`\n- **Response**: `{\"id\": 1, \"name\": \"Laptop\", \"quantity\": 10, \"price\": 999.99}`\n\n- **Request**: `GET /items/1`\n- **Response**: `{\"id\": 1, \"name\": \"Laptop\", \"quantity\": 10, \"price\": 999.99}`\n\n- **Request**: `PUT /items/1` with body `{\"quantity\": 5}`\n- **Response**: `{\"id\": 1, \"name\": \"Laptop\", \"quantity\": 5, \"price\": 999.99}`\n\n- **Request**: `DELETE /items/1`\n- **Response**: `204 No Content`", "response": "```python\nfrom flask import Flask, request, jsonify, abort\n\napp = Flask(__name__)\n\n# In-memory 'database' for simplicity\ninventory = {}\n\n# Generate unique IDs for the inventory items\ncurrent_id = 1\n\n@app.route('/items', methods=['GET'])\ndef get_items():\n    \"\"\"\n    Retrieve a list of all inventory items.\n    \n    Returns:\n        A JSON array of all inventory items.\n    \"\"\"\n    return jsonify(list(inventory.values()))\n\n@app.route('/items', methods=['POST'])\ndef add_item():\n    \"\"\"\n    Add a new inventory item.\n    \n    Returns:\n        A JSON object of the newly added item with an assigned unique `id`.\n    \"\"\"\n    global current_id\n    item_data = request.get_json()\n    if not item_data or 'name' not in item_data or 'quantity' not in item_data or 'price' not in item_data:\n        abort(400, description=\"Invalid request: name, quantity and price are required\")\n    \n    item = {\n        'id': current_id,\n        'name': item_data['name'],\n        'quantity': item_data['quantity'],\n        'price': item_data['price']\n    }\n    inventory[current_id] = item\n    current_id += 1\n    return jsonify(item), 201\n\n@app.route('/items/<int:item_id>', methods=['GET'])\ndef get_item(item_id):\n    \"\"\"\n    Retrieve a specific inventory item by ID.\n    \n    Args:\n        item_id (int): The ID of the item to retrieve.\n    \n    Returns:\n        A JSON object of the item with the specified `id`.\n    \"\"\"\n    item = inventory.get(item_id)\n    if not item:\n        abort(404, description=f\"Item with id {item_id} not found\")\n    return jsonify(item)\n\n@app.route('/items/<int:item_id>', methods=['PUT'])\ndef update_item(item_id):\n    \"\"\"\n    Update an existing inventory item by ID.\n    \n    Args:\n        item_id (int): The ID of the item to update.\n    \n    Returns:\n        A JSON object of the updated item.\n    \"\"\"\n    item = inventory.get(item_id)\n    if not item:\n        abort(404, description=f\"Item with id {item_id} not found\")\n    \n    updates = request.get_json()\n    if 'name' in updates:\n        item['name'] = updates['name']\n    if 'quantity' in updates:\n        item['quantity'] = updates['quantity']\n    if 'price' in updates:\n        item['price'] = updates['price']\n    \n    inventory[item_id] = item\n    return jsonify(item)\n\n@app.route('/items/<int:item_id>', methods=['DELETE'])\ndef delete_item(item_id):\n    \"\"\"\n    Delete an inventory item by ID.\n    \n    Args:\n        item_id (int): The ID of the item to delete.\n    \n    Returns:\n        An empty response with a 204 status code.\n    \"\"\"\n    item = inventory.get(item_id)\n    if not item:\n        abort(404, description=f\"Item with id {item_id} not found\")\n    \n    del inventory[item_id]\n    return '', 204\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```"}
{"prompt": "You are tasked with implementing a function to find the nth prime number efficiently. Your function should utilize the Sieve of Eratosthenes algorithm to achieve this. The function should be capable of handling large values of `n` up to 10,000.\n\n**Input:**\n- An integer `n` (1 \u2264 n \u2264 10,000) representing the position of the prime number to find.\n\n**Output:**\n- Return the nth prime number.\n\n**Sample Input:**\n```\n10\n100\n```\n\n**Sample Output:**\n```\n29\n541\n```", "response": "```python\ndef find_nth_prime(n: int) -> int:\n    \"\"\"\n    Returns the nth prime number using the Sieve of Eratosthenes algorithm.\n    \n    Parameters:\n    n (int): The position of the prime number to find (1 \u2264 n \u2264 10,000).\n    \n    Returns:\n    int: The nth prime number.\n    \n    Raises:\n    ValueError: If n is less than 1.\n    \"\"\"\n    if n < 1:\n        raise ValueError(\"n must be a positive integer\")\n    \n    def sieve_of_eratosthenes(limit):\n        is_prime = [True] * (limit + 1)\n        p = 2\n        while p * p <= limit:\n            if is_prime[p]:\n                for i in range(p * p, limit + 1, p):\n                    is_prime[i] = False\n            p += 1\n        return [p for p in range(2, limit + 1) if is_prime[p]]\n\n    import math\n    if n < 6:\n        upper_bound = 15\n    else:\n        upper_bound = int(n * (math.log(n) + math.log(math.log(n)))) + 1\n\n    primes = sieve_of_eratosthenes(upper_bound)\n\n    if len(primes) < n:\n        raise ValueError(\"Upper bound was too low, exceed maximum\")\n    \n    return primes[n-1]\n```"}
{"prompt": "You are required to implement a simple singly linked list in Python. Your linked list should support the following operations:\n\n1. `append(value)`: Adds a new node with the specified value to the end of the list.\n2. `prepend(value)`: Adds a new node with the specified value to the beginning of the list.\n3. `delete(value)`: Removes the first node with the specified value from the list.\n4. `print_list()`: Prints the values of the nodes in the list in order, separated by \" -> \", and ending with \"None\".\n\n**Sample Input/Output:**\n\n```\nInput:\nlinked_list = LinkedList()\nlinked_list.append(1)\nlinked_list.append(2)\nlinked_list.prepend(0)\nlinked_list.print_list()  # Output: 0 -> 1 -> 2 -> None\nlinked_list.delete(1)\nlinked_list.print_list()  # Output: 0 -> 2 -> None\n\nOutput:\n0 -> 1 -> 2 -> None\n0 -> 2 -> None\n```", "response": "```python\nclass Node:\n    def __init__(self, value):\n        self.value = value\n        self.next = None\n\nclass LinkedList:\n    def __init__(self):\n        self.head = None\n\n    def append(self, value):\n        \"\"\"\n        Adds a new node with the specified value to the end of the list.\n        \"\"\"\n        new_node = Node(value)\n        if not self.head:\n            self.head = new_node\n            return\n        last_node = self.head\n        while last_node.next:\n            last_node = last_node.next\n        last_node.next = new_node\n\n    def prepend(self, value):\n        \"\"\"\n        Adds a new node with the specified value to the beginning of the list.\n        \"\"\"\n        new_node = Node(value)\n        new_node.next = self.head\n        self.head = new_node\n\n    def delete(self, value):\n        \"\"\"\n        Removes the first node with the specified value from the list.\n        \"\"\"\n        current_node = self.head\n\n        if current_node and current_node.value == value:\n            self.head = current_node.next\n            current_node = None\n            return\n\n        prev = None\n        while current_node and current_node.value != value:\n            prev = current_node\n            current_node = current_node.next\n\n        if current_node is None:\n            return\n\n        prev.next = current_node.next\n        current_node = None\n\n    def print_list(self):\n        \"\"\"\n        Prints the values of the nodes in the list in order, separated by \" -> \", and ending with \"None\".\n        \"\"\"\n        current_node = self.head\n        while current_node:\n            print(current_node.value, end=\" -> \")\n            current_node = current_node.next\n        print(\"None\")\n```"}
{"prompt": "You are tasked with implementing a simple inventory management system in Python. The system should support the following operations:\n\n1. **Add Item**: Add a specified quantity of an item to the inventory. If the item already exists, increase its quantity.\n2. **Remove Item**: Remove a specified quantity of an item from the inventory. If the quantity to remove is greater than or equal to the current quantity, remove the item completely.\n3. **Update Quantity**: Update the quantity of a specified item. If the item does not exist, add it to the inventory with the specified quantity.\n4. **Display Inventory**: Display the current state of the inventory.\n\n**Input:**\n- A series of commands, each on a new line. Each command is one of the following:\n  - `add <item_name> <quantity>`: Add the specified quantity of the item to the inventory.\n  - `remove <item_name> <quantity>`: Remove the specified quantity of the item from the inventory.\n  - `update <item_name> <quantity>`: Update the quantity of the specified item.\n  - `display`: Display the current inventory.\n\n**Output:**\n- For each `add`, `remove`, and `update` command, print a confirmation message.\n- For each `display` command, print the current inventory in the format `item_name: quantity`. If the inventory is empty, print \"Inventory is empty.\"\n\n**Sample Input:**\n```\nadd apple 30\nadd banana 15\nupdate apple 25\nremove banana 5\ndisplay\n```\n\n**Sample Output:**\n```\nAdded 30 apple(s).\nAdded 15 banana(s).\nUpdated apple quantity to 25.\nRemoved 5 banana(s).\nCurrent Inventory:\napple: 25\nbanana: 10\n```", "response": "```python\n# Initialize the inventory dictionary\ninventory = {}\n\ndef add_item(item_name, quantity):\n    \"\"\"\n    Add an item to the inventory with the specified quantity.\n    If the item already exists, increase the quantity.\n    \"\"\"\n    if item_name in inventory:\n        inventory[item_name] += quantity\n    else:\n        inventory[item_name] = quantity\n    print(f\"Added {quantity} {item_name}(s).\")\n\ndef remove_item(item_name, quantity):\n    \"\"\"\n    Remove the specified quantity of the item from the inventory.\n    If the quantity to remove is greater than or equal to the current quantity, remove the item completely.\n    \"\"\"\n    if item_name in inventory:\n        if inventory[item_name] <= quantity:\n            del inventory[item_name]\n            print(f\"Removed {item_name} from inventory.\")\n        else:\n            inventory[item_name] -= quantity\n            print(f\"Removed {quantity} {item_name}(s).\")\n    else:\n        print(f\"Item {item_name} not found in inventory.\")\n\ndef update_quantity(item_name, quantity):\n    \"\"\"\n    Update the quantity of the specified item.\n    If the item does not exist, add the item to the inventory with the specified quantity.\n    \"\"\"\n    inventory[item_name] = quantity\n    print(f\"Updated {item_name} quantity to {quantity}.\")\n\ndef display_inventory():\n    \"\"\"\n    Display the current inventory.\n    \"\"\"\n    if inventory:\n        print(\"Current Inventory:\")\n        for item_name, quantity in inventory.items():\n            print(f\"{item_name}: {quantity}\")\n    else:\n        print(\"Inventory is empty.\")\n\n# Example usage\ncommands = [\n    \"add apple 30\",\n    \"add banana 15\",\n    \"update apple 25\",\n    \"remove banana 5\",\n    \"display\"\n]\n\nfor command in commands:\n    parts = command.split()\n    if parts[0] == \"add\":\n        add_item(parts[1], int(parts[2]))\n    elif parts[0] == \"remove\":\n        remove_item(parts[1], int(parts[2]))\n    elif parts[0] == \"update\":\n        update_quantity(parts[1], int(parts[2]))\n    elif parts[0] == \"display\":\n        display_inventory()\n```"}
{"prompt": "You are given a string `sentence` representing a sentence. Your task is to implement a function `count_words(sentence)` that returns the number of distinct words in the sentence. Words are considered distinct if they differ in spelling or case. Punctuation should be ignored, and the comparison should be case-insensitive.\n\n**Input:**\n- A single string `sentence` (1 \u2264 len(sentence) \u2264 1000) containing letters, spaces, and punctuation marks.\n\n**Output:**\n- An integer representing the number of distinct words in the sentence.\n\n**Sample Input:**\n```\n\"Hello, world! Hello, universe.\"\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\nimport string\n\ndef count_words(sentence):\n    \"\"\"\n    Counts the number of distinct words in a given sentence, ignoring case and punctuation.\n    \n    :param sentence: A string representing the sentence.\n    :return: An integer representing the number of distinct words.\n    \"\"\"\n    sentence = sentence.lower()\n    sentence = sentence.translate(str.maketrans('', '', string.punctuation))\n    words = sentence.split()\n    distinct_words = set(words)\n    return len(distinct_words)\n```"}
{"prompt": "You are given a string `s`. Your task is to determine if `s` is a palindrome. A string is considered a palindrome if it reads the same forward and backward, ignoring case, spaces, and punctuation. \n\n**Input:**\n- A single string `s` (1 \u2264 |s| \u2264 10^5), where |s| denotes the length of the string. The string may contain uppercase and lowercase letters, digits, spaces, and punctuation marks.\n\n**Output:**\n- Return `True` if the string is a palindrome, otherwise return `False`.\n\n**Sample Input:**\n```\nA man, a plan, a canal, Panama\n```\n\n**Sample Output:**\n```\nTrue\n```\n\n**Sample Input:**\n```\nracecar\n```\n\n**Sample Output:**\n```\nTrue\n```\n\n**Sample Input:**\n```\nhello\n```\n\n**Sample Output:**\n```\nFalse\n```", "response": "```python\nimport string\n\ndef is_palindrome(s):\n    \"\"\"\n    Determines if the given string s is a palindrome, ignoring case, spaces, and punctuation.\n    \n    :param s: The input string to check.\n    :return: True if s is a palindrome, False otherwise.\n    \"\"\"\n    cleaned = ''.join(c.lower() for c in s if c.isalnum())\n    return cleaned == cleaned[::-1]\n\n# Example usage:\n# print(is_palindrome(\"A man, a plan, a canal, Panama\"))  # Should return True\n# print(is_palindrome(\"racecar\"))                         # Should return True\n# print(is_palindrome(\"hello\"))                           # Should return False\n```"}
{"prompt": "You are given a positive integer `n`. Your task is to write a function `find_largest_prime_factor(n)` that returns the largest prime factor of `n`. If `n` itself is a prime number, return `n`.\n\n**Constraints:**\n- `2 \u2264 n \u2264 10^12`\n\n**Sample Input:**\n```\n100\n```\n\n**Sample Output:**\n```\n5\n```\n\n**Sample Input:**\n```\n13195\n```\n\n**Sample Output:**\n```\n29\n```", "response": "```python\ndef find_largest_prime_factor(n):\n    \"\"\"\n    Returns the largest prime factor of a given positive integer n.\n    If n is a prime number, returns n.\n    \n    :param n: int - the positive integer to find the largest prime factor of\n    :return: int - the largest prime factor of n\n    \"\"\"\n    if n <= 1:\n        raise ValueError(\"Input should be a positive integer greater than 1.\")\n    \n    def is_prime(num):\n        \"\"\"\n        Checks if a number is prime.\n        \n        :param num: int - the number to check for primality\n        :return: bool - True if num is prime, False otherwise\n        \"\"\"\n        if num <= 1:\n            return False\n        if num <= 3:\n            return True\n        if num % 2 == 0 or num % 3 == 0:\n            return False\n        i = 5\n        while i * i <= num:\n            if num % i == 0 or num % (i + 2) == 0:\n                return False\n            i += 6\n        return True\n    \n    if is_prime(n):\n        return n\n    \n    largest_factor = None\n    while n % 2 == 0:\n        largest_factor = 2\n        n //= 2\n    \n    for i in range(3, int(n**0.5) + 1, 2):\n        while n % i == 0:\n            largest_factor = i\n            n //= i\n    \n    if n > 2:\n        largest_factor = n\n    \n    return largest_factor\n```"}
{"prompt": "You are tasked with preprocessing a large corpus of articles for a text summarization project. Your goal is to implement a function `preprocess_text(text)` that takes a string `text` as input and returns a list of words after performing the following preprocessing steps:\n\n1. Convert all characters to lowercase.\n2. Remove all punctuation marks.\n3. Replace all sequences of digits with the token 'NUM'.\n4. Tokenize the text into words.\n5. Remove all English stopwords.\n\n**Input:**\n- A single string `text` (1 \u2264 len(text) \u2264 10^5).\n\n**Output:**\n- A list of preprocessed words.\n\n**Sample Input:**\n```\n\"Python 3.8 is a great language! It's widely used in data science and machine learning.\"\n```\n\n**Sample Output:**\n```\n['python', 'num', 'great', 'language', 'widely', 'used', 'data', 'science', 'machine', 'learning']\n```", "response": "```python\nimport re\nfrom nltk.corpus import stopwords\n\ndef preprocess_text(text):\n    \"\"\"\n    Preprocesses the input text by converting it to lowercase, removing punctuation,\n    replacing numbers with 'NUM', tokenizing into words, and removing stopwords.\n\n    Parameters:\n    text (str): The input text to preprocess.\n\n    Returns:\n    list: A list of preprocessed words.\n    \"\"\"\n    # Convert to lowercase\n    text = text.lower()\n    \n    # Remove all punctuation\n    text = re.sub(r'[^\\w\\s]', '', text)\n    \n    # Replace all numbers with 'NUM'\n    text = re.sub(r'\\d+', 'NUM', text)\n    \n    # Tokenize the text into words\n    words = text.split()\n    \n    # Remove all stopwords\n    stop_words = set(stopwords.words('english'))\n    filtered_words = [word for word in words if word not in stop_words]\n    \n    return filtered_words\n```"}
{"prompt": "You are given a JSON file named `data.json` that contains a list of employee records. Each record is an object with the following attributes: `id`, `name`, `department`, and `email`. Your task is to implement a function `parse_json(file_path)` that reads this JSON file and returns a list of dictionaries, where each dictionary corresponds to an employee and contains their respective attributes as keys.\n\n**Input:**\n- A string `file_path` representing the path to the JSON file `data.json`.\n\n**Output:**\n- A list of dictionaries, where each dictionary contains the keys `id`, `name`, `department`, and `email` with their corresponding values.\n\n**Sample Input:**\n```json\n[\n    {\"id\": 1, \"name\": \"John Doe\", \"department\": \"Engineering\", \"email\": \"john.doe@example.com\"},\n    {\"id\": 2, \"name\": \"Jane Smith\", \"department\": \"Marketing\", \"email\": \"jane.smith@example.com\"}\n]\n```\n\n**Sample Output:**\n```python\n[\n    {'id': 1, 'name': 'John Doe', 'department': 'Engineering', 'email': 'john.doe@example.com'},\n    {'id': 2, 'name': 'Jane Smith', 'department': 'Marketing', 'email': 'jane.smith@example.com'}\n]\n```", "response": "```python\nimport json\n\ndef parse_json(file_path):\n    \"\"\"\n    Reads a JSON file containing employee records and returns a list of dictionaries.\n\n    Parameters:\n    file_path (str): The path to the JSON file.\n\n    Returns:\n    list: A list of dictionaries, each representing an employee with their attributes.\n    \"\"\"\n    with open(file_path, 'r') as file:\n        employees = json.load(file)\n    return employees\n\n# Example usage:\n# employee_list = parse_json('data.json')\n# print(employee_list)\n```"}
{"prompt": "You are given a CSV file named `sales.csv` containing sales data for a retail store. Each row in the file represents a sale and includes the following fields: `date`, `product_id`, `quantity`, and `price`. Your task is to write a function `calculate_total_sales(file_path)` that reads the CSV file, computes the total sales (quantity * price) for each product, and returns a dictionary where the keys are `product_id` and the values are the total sales for that product.\n\n**Input Format:**\n- The CSV file `sales.csv` will have the following columns: `date`, `product_id`, `quantity`, and `price`.\n- `date` is a string in the format `YYYY-MM-DD`.\n- `product_id` is a string representing the unique identifier of the product.\n- `quantity` is an integer representing the number of units sold.\n- `price` is a float representing the price per unit.\n\n**Output Format:**\n- A dictionary where each key is a `product_id` and each value is the total sales for that product.\n\n**Sample Input:**\n```\ndate,product_id,quantity,price\n2023-01-01,A001,10,19.99\n2023-01-02,A002,5,29.99\n2023-01-03,A001,7,19.99\n2023-01-04,A003,3,49.99\n```\n\n**Sample Output:**\n```python\n{'A001': 359.87, 'A002': 149.95, 'A003': 149.97}\n```", "response": "```python\nimport csv\n\ndef calculate_total_sales(file_path):\n    \"\"\"\n    Reads a CSV file containing sales data and calculates the total sales for each product.\n\n    Parameters:\n    file_path (str): The path to the CSV file.\n\n    Returns:\n    dict: A dictionary with product_id as keys and total sales as values.\n    \"\"\"\n    total_sales = {}\n    \n    with open(file_path, mode='r') as file:\n        csv_reader = csv.DictReader(file)\n        \n        for row in csv_reader:\n            product_id = row['product_id']\n            quantity = int(row['quantity'])\n            price = float(row['price'])\n            sale_amount = quantity * price\n            \n            if product_id in total_sales:\n                total_sales[product_id] += sale_amount\n            else:\n                total_sales[product_id] = sale_amount\n    \n    return total_sales\n```"}
{"prompt": "You are given a list of Python code snippets, where each snippet is a string in a list named `code_snippets`. Your task is to write a function `format_code(snippets)` that takes this list as input, formats each code snippet according to PEP 8 guidelines, and returns a list of formatted code snippets. Use the `autopep8` library for formatting.\n\n**Input:**\n- A list of strings, where each string is a Python code snippet.\n\n**Output:**\n- A list of strings, where each string is the corresponding formatted Python code snippet.\n\n**Sample Input:**\n```python\ncode_snippets = [\n    \"def myfunction(x,y):\\n return x+y\",\n    \"for i in range(10):print(i)\"\n]\n```\n\n**Sample Output:**\n```python\n[\n    \"def myfunction(x, y):\\n    return x + y\",\n    \"for i in range(10):\\n    print(i)\"\n]\n```", "response": "```python\nimport autopep8\n\ndef format_code(snippets):\n    \"\"\"\n    Formats each code snippet in the input list according to PEP 8 guidelines.\n\n    Parameters:\n    snippets (list of str): A list of Python code snippets.\n\n    Returns:\n    list of str: A list of formatted Python code snippets.\n    \"\"\"\n    return [autopep8.fix_code(snippet) for snippet in snippets]\n\n# Example usage\ncode_snippets = [\n    \"def myfunction(x,y):\\n return x+y\",\n    \"for i in range(10):print(i)\"\n]\n\nformatted_code_snippets = format_code(code_snippets)\nprint(formatted_code_snippets)\n```"}
{"prompt": "You are given a list of integers. Your task is to write a function `sort_and_filter` that processes this list by first removing any duplicate values and then sorting the remaining integers in ascending order. The function should return the processed list.\n\n**Input:**\n- A list of integers `numbers` (1 \u2264 len(numbers) \u2264 10^5), where each integer `x` satisfies -10^9 \u2264 x \u2264 10^9.\n\n**Output:**\n- A list of integers, sorted in ascending order with duplicates removed.\n\n**Sample Input:**\n```python\n[4, 2, 5, 2, 3, 1, 4]\n```\n\n**Sample Output:**\n```python\n[1, 2, 3, 4, 5]\n```", "response": "```python\ndef sort_and_filter(numbers):\n    \"\"\"\n    Processes a list of integers by removing duplicates and sorting the list in ascending order.\n\n    Parameters:\n    numbers (list of int): The list of integers to be processed.\n\n    Returns:\n    list of int: A sorted list of integers with duplicates removed.\n    \"\"\"\n    return sorted(set(numbers))\n```"}
{"prompt": "You are tasked with developing a function to classify the sentiment of tweets. Your function should categorize each tweet as either \"positive\", \"negative\", or \"neutral\" based on its sentiment. You are allowed to use any pre-trained sentiment analysis models or libraries available in Python, such as TextBlob, VADER, or others.\n\n**Input:**\n- A single string representing a tweet.\n\n**Output:**\n- A string indicating the sentiment of the tweet: \"positive\", \"negative\", or \"neutral\".\n\n**Sample Input:**\n```\n\"Absolutely loved the new coffee blend! \ud83c\udf7b\u2615 #coffee #love\"\n```\n\n**Sample Output:**\n```\npositive\n```", "response": "```python\nfrom textblob import TextBlob\n\ndef classify_tweet(tweet):\n    \"\"\"\n    Classifies the sentiment of a given tweet as 'positive', 'negative', or 'neutral'.\n    \n    Parameters:\n    tweet (str): The tweet to be analyzed.\n    \n    Returns:\n    str: The sentiment category of the tweet.\n    \"\"\"\n    blob = TextBlob(tweet)\n    polarity = blob.sentiment.polarity\n    \n    if polarity > 0:\n        return \"positive\"\n    elif polarity < 0:\n        return \"negative\"\n    else:\n        return \"neutral\"\n```"}
{"prompt": "You are given a string `sentence` representing a sentence. Your task is to write a Python function `sentence_to_pos(sentence)` that returns a list of tuples. Each tuple should contain a word from the sentence and its corresponding part of speech tag. Use the Natural Language Toolkit (nltk) library to accomplish this task. Assume that the necessary NLTK data files are already downloaded.\n\n**Sample Input:**\n```\n\"John is walking in the park.\"\n```\n\n**Sample Output:**\n```\n[('John', 'NNP'), ('is', 'VBZ'), ('walking', 'VBG'), ('in', 'IN'), ('the', 'DT'), ('park', 'NN'), ('.', '.')]\n```", "response": "```python\nimport nltk\nfrom nltk import pos_tag\nfrom nltk.tokenize import word_tokenize\n\ndef sentence_to_pos(sentence):\n    \"\"\"\n    Takes a sentence and returns a list of tuples containing words and their part of speech tags.\n\n    :param sentence: A string representing a sentence.\n    :return: A list of tuples, where each tuple contains a word and its part of speech tag.\n    \"\"\"\n    words = word_tokenize(sentence)\n    pos_tags = pos_tag(words)\n    return pos_tags\n\n# Example usage\nsentence = \"John is walking in the park.\"\nresult = sentence_to_pos(sentence)\nprint(result)\n```"}
{"prompt": "You are given a list of tuples, where each tuple consists of a string and an integer. Your task is to sort this list in descending order based on the integer value in each tuple. Implement a function `sort_tuples_by_number_desc` that takes a list of tuples as input and returns a new list sorted according to the specified criteria.\n\n**Input:**\n- A list of tuples, where each tuple contains a string and an integer.\n- The list can contain up to 1000 tuples.\n- The integer values can range from -1000 to 1000.\n\n**Output:**\n- A new list of tuples sorted in descending order by the integer value.\n\n**Sample Input:**\n```python\n[(\"apple\", 2), (\"banana\", 5), (\"cherry\", 1)]\n```\n\n**Sample Output:**\n```python\n[(\"banana\", 5), (\"apple\", 2), (\"cherry\", 1)]\n```", "response": "```python\ndef sort_tuples_by_number_desc(tuples_list):\n    \"\"\"\n    Sorts a list of tuples in descending order based on the second item of each tuple.\n\n    Parameters:\n    tuples_list (list of tuples): A list where each tuple contains a string and an integer.\n\n    Returns:\n    list of tuples: A new list of tuples sorted in descending order by the integer.\n    \"\"\"\n    return sorted(tuples_list, key=lambda x: x[1], reverse=True)\n\n# Example usage:\ntuples_list = [(\"apple\", 2), (\"banana\", 5), (\"cherry\", 1)]\nsorted_tuples = sort_tuples_by_number_desc(tuples_list)\nprint(sorted_tuples)  # Output: [('banana', 5), ('apple', 2), ('cherry', 1)]\n```"}
{"prompt": "You are given a JSON file named `books.json` that contains an array of book objects, each with the following properties: `Title`, `Author`, and `ISBN`. Your task is to write a program that adds a new book to this JSON file. The new book should have the following properties: `Title: \"The Great Gatsby\"`, `Author: \"F. Scott Fitzgerald\"`, `ISBN: \"9780743273565\"`. Your program should handle potential errors such as file not found, invalid JSON format, and IO errors during file operations.\n\n**Sample Input:**\n```json\n[\n    {\"Title\": \"1984\", \"Author\": \"George Orwell\", \"ISBN\": \"9780451524935\"},\n    {\"Title\": \"To Kill a Mockingbird\", \"Author\": \"Harper Lee\", \"ISBN\": \"9780060935467\"}\n]\n```\n\n**Sample Output:**\n```json\n[\n    {\"Title\": \"1984\", \"Author\": \"George Orwell\", \"ISBN\": \"9780451524935\"},\n    {\"Title\": \"To Kill a Mockingbird\", \"Author\": \"Harper Lee\", \"ISBN\": \"9780060935467\"},\n    {\"Title\": \"The Great Gatsby\", \"Author\": \"F. Scott Fitzgerald\", \"ISBN\": \"9780743273565\"}\n]\n```", "response": "```python\nimport json\nimport os\n\ndef read_books_file(file_path):\n    \"\"\"\n    Reads a JSON file and returns the list of books.\n    \n    Args:\n        file_path (str): The path to the JSON file.\n    \n    Returns:\n        list: A list of book dictionaries.\n    \n    Raises:\n        FileNotFoundError: If the file does not exist.\n        ValueError: If the file does not contain valid JSON.\n    \"\"\"\n    if not os.path.isfile(file_path):\n        raise FileNotFoundError(f\"File {file_path} does not exist.\")\n    with open(file_path, 'r') as file:\n        try:\n            books = json.load(file)\n        except json.JSONDecodeError:\n            raise ValueError(\"File does not contain valid JSON.\")\n    return books\n\ndef write_books_file(file_path, books):\n    \"\"\"\n    Writes a list of books to a JSON file.\n    \n    Args:\n        file_path (str): The path to the JSON file.\n        books (list): A list of book dictionaries.\n    \n    Raises:\n        IOError: If an error occurs during file writing.\n    \"\"\"\n    with open(file_path, 'w') as file:\n        json.dump(books, file, indent=4)\n\ndef add_new_book(file_path, new_book):\n    \"\"\"\n    Adds a new book to the JSON file.\n    \n    Args:\n        file_path (str): The path to the JSON file.\n        new_book (dict): The new book dictionary to add.\n    \"\"\"\n    try:\n        books = read_books_file(file_path)\n    except (FileNotFoundError, ValueError) as e:\n        print(f\"Error reading the file: {e}. Please check the file and try again.\")\n        return\n\n    books.append(new_book)\n\n    try:\n        write_books_file(file_path, books)\n    except IOError as e:\n        print(f\"Error writing to the file: {e}. Please try again.\")\n        return\n\n    print(\"The new book was successfully added to the file.\")\n\n# Using the function to add a new book:\nfile_path = 'books.json'  # Adjust the file path as necessary\nnew_book = {'Title': 'The Great Gatsby', 'Author': 'F. Scott Fitzgerald', 'ISBN': '9780743273565'}\nadd_new_book(file_path, new_book)\n```"}
{"prompt": "You are given a DNA sequence and a set of primers. Your task is to determine if the primers are complementary to the DNA sequence. The DNA sequence should be treated as a single strand, and the primers should be treated as complementary strands. For each primer, output a tuple containing the primer and a boolean indicating whether it is complementary to the DNA sequence.\n\n**Input:**\n- The first line contains a string `dna_sequence` (1 \u2264 |dna_sequence| \u2264 1000) representing the DNA sequence.\n- The second line contains an integer `n` (1 \u2264 n \u2264 100) representing the number of primers.\n- The next `n` lines each contain a string `primer` (1 \u2264 |primer| \u2264 100) representing a primer.\n\n**Output:**\n- Output `n` lines, each containing a primer and a boolean value (True or False) indicating whether the primer is complementary to the DNA sequence.\n\n**Sample Input:**\n```\nATGGCTAGCTAAG\n2\nATCG\nAGCT\n```\n\n**Sample Output:**\n```\n('ATCG', False)\n('AGCT', True)\n```", "response": "```python\ndef is_complementary(dna_sequence, primer_set):\n    \"\"\"\n    Determines if each primer in primer_set is complementary to the dna_sequence.\n    \n    :param dna_sequence: A string representing the DNA sequence.\n    :param primer_set: A list of strings representing the primers.\n    :return: A list of tuples, each containing a primer and a boolean indicating if it is complementary.\n    \"\"\"\n    def reverse_string(s):\n        \"\"\"\n        Reverses the given string.\n        \n        :param s: The string to be reversed.\n        :return: The reversed string.\n        \"\"\"\n        return s[::-1]\n    \n    def complement(dna):\n        \"\"\"\n        Returns the complement of the given DNA strand.\n        \n        :param dna: A string representing the DNA strand.\n        :return: A string representing the complement of the DNA strand.\n        \"\"\"\n        complement = {'A': 'T', 'T': 'A', 'C': 'G', 'G': 'C'}\n        return ''.join([complement[base] for base in dna])\n    \n    results = []\n    for primer in primer_set:\n        complement_primer = complement(reverse_string(primer))\n        is_comp = complement_primer in dna_sequence\n        results.append((primer, is_comp))\n    return results\n\n# Example usage\ndna_sequence = \"ATGGCTAGCTAAG\"\nprimer_set = [\"ATCG\", \"AGCT\"]\nresult = is_complementary(dna_sequence, primer_set)\nfor res in result:\n    print(res)\n```"}
{"prompt": "You are tasked with developing a function to parse HTML content and extract the text from all `<p>` tags. Your function should accept a string containing HTML and return a list of strings, where each string represents the text content of a `<p>` tag. Use the BeautifulSoup library for parsing. \n\n**Input:**\n- A single string `html_string` representing the HTML content.\n\n**Output:**\n- A list of strings, each containing the text from a `<p>` tag in the order they appear in the HTML.\n\n**Sample Input:**\n```html\n<html><body><p>This is the first paragraph.</p><p>This is the second paragraph.</p></body></html>\n```\n\n**Sample Output:**\n```\n['This is the first paragraph.', 'This is the second paragraph.']\n```", "response": "```python\nfrom bs4 import BeautifulSoup\n\ndef extract_paragraph_text(html_string):\n    \"\"\"\n    Extracts and returns the text content of all <p> tags from the given HTML string.\n\n    Parameters:\n    html_string (str): A string containing HTML content.\n\n    Returns:\n    list: A list of strings, each representing the text content of a <p> tag.\n    \"\"\"\n    soup = BeautifulSoup(html_string, 'html.parser')\n    paragraphs = soup.find_all('p')\n    return [p.get_text() for p in paragraphs]\n\n# Example usage:\nhtml_string = \"<html><body><p>This is the first paragraph.</p><p>This is the second paragraph.</p></body></html>\"\nprint(extract_paragraph_text(html_string))\n```"}
{"prompt": "You are given a list of strings. Your task is to implement a function that returns a dictionary with each unique string as a key and the number of times it appears in the list as the value. The function should support both case-sensitive and case-insensitive counting based on a boolean parameter.\n\n**Input:**\n- A list of strings `strings` (1 \u2264 len(strings) \u2264 10^4).\n- A boolean `case_sensitive` indicating whether the counting should be case-sensitive.\n\n**Output:**\n- A dictionary where keys are unique strings and values are their respective counts.\n\n**Sample Input 1:**\n```python\n[\"Apple\", \"apple\", \"banana\", \"Banana\", \"APPLE\"], False\n```\n\n**Sample Output 1:**\n```python\n{'apple': 3, 'banana': 2}\n```\n\n**Sample Input 2:**\n```python\n[\"Apple\", \"apple\", \"banana\", \"Banana\", \"APPLE\"], True\n```\n\n**Sample Output 2:**\n```python\n{'Apple': 1, 'apple': 1, 'banana': 1, 'Banana': 1, 'APPLE': 1}\n```", "response": "```python\ndef count_strings(strings, case_sensitive=False):\n    \"\"\"\n    Counts the occurrences of unique strings in a given list.\n    \n    Parameters:\n    - strings (list): A list of strings.\n    - case_sensitive (bool): A flag to determine if the string matching should be case-sensitive.\n    \n    Returns:\n    - dict: A dictionary with strings as keys and their counts as values.\n    \"\"\"\n    if not case_sensitive:\n        strings = [s.lower() for s in strings]\n    \n    string_counts = {}\n    for string in strings:\n        if string in string_counts:\n            string_counts[string] += 1\n        else:\n            string_counts[string] = 1\n            \n    return string_counts\n```"}
{"prompt": "You are tasked with processing a CSV file that contains product information. Each row in the CSV file includes the product name, price, and category. Your goal is to implement a function that reads this CSV file and constructs a dictionary mapping each product name to its price. The function should gracefully handle cases where the CSV file might contain missing or invalid data.\n\n**Input:**\n- A string representing the filename of the CSV file. The CSV file has the following format:\n  - The first row is a header row and should be ignored.\n  - Each subsequent row contains three comma-separated values: product name, price, and category.\n  - The product name and price fields may be missing or contain invalid data (e.g., non-numeric price).\n\n**Output:**\n- A dictionary where the keys are product names (strings) and the values are their respective prices (floats).\n\n**Sample Input:**\n```\nproduct_name,price,category\nLaptop,999.99,Electronics\nSmartphone,,Electronics\nTablet,499.99,Electronics\nMonitor,199.99,Electronics\nChair,89.99,Furniture\nDesk,,Furniture\n```\n\n**Sample Output:**\n```python\n{\n    'Laptop': 999.99,\n    'Tablet': 499.99,\n    'Monitor': 199.99,\n    'Chair': 89.99\n}\n```", "response": "```python\nimport csv\n\ndef read_products(csv_filename):\n    \"\"\"\n    Reads a CSV file and returns a dictionary mapping product names to their prices.\n    \n    Parameters:\n    csv_filename (str): The filename of the CSV file to read.\n    \n    Returns:\n    dict: A dictionary where keys are product names and values are their respective prices.\n    \"\"\"\n    products = {}\n    \n    try:\n        with open(csv_filename, mode='r', newline='', encoding='utf-8') as file:\n            csv_reader = csv.reader(file)\n            next(csv_reader, None)  # Skip header row\n            \n            for row in csv_reader:\n                if len(row) < 3:\n                    continue\n                \n                product_name, price, _ = row[:3]\n                \n                if not product_name or not price:\n                    continue\n                \n                try:\n                    price = float(price)\n                except ValueError:\n                    continue\n                \n                products[product_name] = price\n            \n    except FileNotFoundError:\n        print(f\"Error: The file '{csv_filename}' was not found.\")\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n    \n    return products\n```"}
{"prompt": "You are given a positive integer `n` greater than 1. Your task is to write a function `find_prime_factors` that returns a list of all prime factors of `n` in ascending order.\n\n**Input:**\n- An integer `n` (2 \u2264 n \u2264 10^6)\n\n**Output:**\n- A list of integers representing the prime factors of `n` in ascending order.\n\n**Sample Input:**\n```\n60\n```\n\n**Sample Output:**\n```\n[2, 2, 3, 5]\n```", "response": "```python\ndef find_prime_factors(n):\n    \"\"\"\n    Return the list of prime factors of the integer n, in ascending order.\n    \n    Parameters:\n    n (int): A positive integer greater than 1.\n    \n    Returns:\n    list: A list of integers representing the prime factors of n in ascending order.\n    \"\"\"\n    prime_factors = []\n    # Check for the number of 2s that divide n\n    while n % 2 == 0:\n        prime_factors.append(2)\n        n //= 2\n    # n must be odd at this point, so a skip of 2 (i.e., i = i + 2) can be used\n    for i in range(3, int(n**0.5) + 1, 2):\n        # While i divides n, append i and divide n\n        while n % i == 0:\n            prime_factors.append(i)\n            n //= i\n    # If n is a prime number greater than 2, then it will not be reduced to 1 by above two steps\n    if n > 2:\n        prime_factors.append(n)\n    return prime_factors\n```"}
{"prompt": "Implement a class `Car` with the following specifications:\n- Attributes: `make`, `model`, `year`\n- Methods:\n  - `start_engine()`: Prints a message indicating the engine is starting.\n  - `stop_engine()`: Prints a message indicating the engine is stopping.\n\nAdditionally, implement a subclass `ElectricCar` that inherits from `Car` and includes:\n- Additional attribute: `battery_size`\n- Method:\n  - `charge_battery()`: Prints a message indicating the battery is charging along with the battery size.\n\nYour program should demonstrate the creation of an `ElectricCar` object and the invocation of its methods. The output should match the sample provided below.\n\n**Sample Input:**\n```\nTesla Model S 2022 100\n```\n\n**Sample Output:**\n```\nThe engine of the 2022 Tesla Model S is starting.\nThe battery of the 2022 Tesla Model S is charging. Battery size: 100 kWh.\nThe engine of the 2022 Tesla Model S is stopping.\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year):\n        \"\"\"\n        Initializes a new Car instance.\n\n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n\n    def start_engine(self):\n        \"\"\"\n        Prints a message indicating the engine is starting.\n        \"\"\"\n        print(f\"The engine of the {self.year} {self.make} {self.model} is starting.\")\n\n    def stop_engine(self):\n        \"\"\"\n        Prints a message indicating the engine is stopping.\n        \"\"\"\n        print(f\"The engine of the {self.year} {self.make} {self.model} is stopping.\")\n\nclass ElectricCar(Car):\n    def __init__(self, make, model, year, battery_size):\n        \"\"\"\n        Initializes a new ElectricCar instance.\n\n        :param make: The make of the electric car.\n        :param model: The model of the electric car.\n        :param year: The year of the electric car.\n        :param battery_size: The battery size of the electric car in kWh.\n        \"\"\"\n        super().__init__(make, model, year)\n        self.battery_size = battery_size\n\n    def charge_battery(self):\n        \"\"\"\n        Prints a message indicating the battery is charging along with the battery size.\n        \"\"\"\n        print(f\"The battery of the {self.year} {self.make} {self.model} is charging. Battery size: {self.battery_size} kWh.\")\n\n# Example of creating an ElectricCar object and calling its methods\nmy_electric_car = ElectricCar(\"Tesla\", \"Model S\", 2022, 100)\nmy_electric_car.start_engine()\nmy_electric_car.charge_battery()\nmy_electric_car.stop_engine()\n```"}
{"prompt": "You are given a credit card number as a string. Your task is to implement a function that validates the credit card number using the Luhn algorithm. The Luhn algorithm is defined as follows:\n1. Starting from the rightmost digit (which is the check digit), double the value of every second digit.\n2. If doubling a number results in a number greater than 9, subtract 9 from the result.\n3. Sum all the digits.\n4. If the total modulo 10 is equal to 0, the number is valid.\n\nWrite a function `validate_credit_card(number)` that takes a string `number` as input and returns `True` if the number is valid according to the Luhn algorithm, and `False` otherwise.\n\n**Sample Input:**\n```\n\"4539 1488 0343 6467\"\n\"1234 5678 1234 5670\"\n```\n\n**Sample Output:**\n```\nTrue\nFalse\n```", "response": "```python\ndef validate_credit_card(number):\n    \"\"\"\n    Validates a credit card number using the Luhn algorithm.\n\n    Parameters:\n    number (str): The credit card number as a string.\n\n    Returns:\n    bool: True if the number is valid, False otherwise.\n    \"\"\"\n    # Convert string to a list of integers\n    digits = [int(d) for d in str(number) if d.isdigit()]\n    \n    # Initialize sum\n    total_sum = 0\n    num_digits = len(digits)\n    \n    # Iterate over digits right to left\n    for i in range(num_digits - 1, -1, -1):\n        digit = digits[i]\n        # Double every second digit from the right\n        if (num_digits - i) % 2 == 0:\n            digit *= 2\n            # Subtract 9 if doubling results in a number greater than 9\n            if digit > 9:\n                digit -= 9\n        total_sum += digit\n    \n    # If the total modulo 10 is equal to 0, the number is valid\n    return total_sum % 10 == 0\n```"}
{"prompt": "You are tasked with developing a Python script that continuously monitors a specified directory for the creation of new files. Upon detecting a new file, the script should output the name of the file. The directory to be monitored is provided as input. Use the `watchdog` library to accomplish this task.\n\n**Input:**\n- A single line containing the path to the directory to be monitored.\n\n**Output:**\n- For each new file detected in the directory, print the full path of the file.\n\n**Sample Input:**\n```\n/path/to/directory\n```\n\n**Sample Output:**\n```\n/path/to/directory/newfile1.txt\n/path/to/directory/newfile2.txt\n```", "response": "```python\nfrom watchdog.observers import Observer\nfrom watchdog.events import FileSystemEventHandler\nimport time\n\nclass FileHandler(FileSystemEventHandler):\n    \"\"\"\n    Handles file system events, specifically the creation of new files.\n    \"\"\"\n    def on_created(self, event):\n        \"\"\"\n        Called when a new file is created in the monitored directory.\n        \n        :param event: Event object containing information about the file creation.\n        \"\"\"\n        if not event.is_directory:\n            print(event.src_path)\n\ndef monitor_directory(path):\n    \"\"\"\n    Monitors the specified directory for new file creations and prints the path of each new file.\n    \n    :param path: The path to the directory to be monitored.\n    \"\"\"\n    event_handler = FileHandler()\n    observer = Observer()\n    observer.schedule(event_handler, path, recursive=False)\n    observer.start()\n    try:\n        while True:\n            time.sleep(1)\n    except KeyboardInterrupt:\n        observer.stop()\n    observer.join()\n\nif __name__ == '__main__':\n    import sys\n    directory_path = sys.argv[1]\n    monitor_directory(directory_path)\n```"}
{"prompt": "Implement a Python class `Vector2D` that represents a 2-dimensional vector. The class should support the following operations:\n\n1. **Vector Addition**: Given two vectors, return a new vector that is the sum of the two vectors.\n2. **Vector Subtraction**: Given two vectors, return a new vector that is the difference between the two vectors.\n3. **Dot Product**: Given two vectors, return a scalar that is the dot product of the two vectors.\n4. **Magnitude Calculation**: Return the magnitude (length) of the vector.\n5. **Normalization**: Return a new vector that is the unit vector (magnitude of 1) in the same direction as the original vector.\n\n**Input**:\n- The constructor `__init__` will take two floating-point numbers `x` and `y` as input, representing the components of the vector. Default values are `0.0` for both `x` and `y`.\n\n**Output**:\n- The methods `add`, `subtract`, and `normalize` should return a new `Vector2D` object.\n- The method `dot_product` should return a floating-point number.\n- The method `magnitude` should return a floating-point number.\n\n**Sample Input/Output**:\n- `v1 = Vector2D(3, 4)`\n- `v2 = Vector2D(1, 2)`\n- `v1.add(v2)` should return `Vector2D(4, 6)`\n- `v1.subtract(v2)` should return `Vector2D(2, 2)`\n- `v1.dot_product(v2)` should return `11`\n- `v1.magnitude()` should return `5.0`\n- `v1.normalize()` should return `Vector2D(0.6, 0.8)`", "response": "```python\nimport math\n\nclass Vector2D:\n    def __init__(self, x=0.0, y=0.0):\n        \"\"\"Initialize a 2D vector with components x and y.\"\"\"\n        self.x = x\n        self.y = y\n\n    def add(self, other):\n        \"\"\"Return a new vector that is the sum of this vector and another vector.\"\"\"\n        return Vector2D(self.x + other.x, self.y + other.y)\n\n    def subtract(self, other):\n        \"\"\"Return a new vector that is the difference between this vector and another vector.\"\"\"\n        return Vector2D(self.x - other.x, self.y - other.y)\n\n    def dot_product(self, other):\n        \"\"\"Return the dot product of this vector and another vector.\"\"\"\n        return self.x * other.x + self.y * other.y\n\n    def magnitude(self):\n        \"\"\"Return the magnitude (length) of this vector.\"\"\"\n        return math.sqrt(self.x ** 2 + self.y ** 2)\n\n    def normalize(self):\n        \"\"\"Return a new vector that is the unit vector in the same direction as this vector.\"\"\"\n        mag = self.magnitude()\n        if mag == 0:\n            return Vector2D(0, 0)\n        return Vector2D(self.x / mag, self.y / mag)\n\n    def __repr__(self):\n        \"\"\"Return a string representation of the vector.\"\"\"\n        return f\"Vector2D({self.x}, {self.y})\"\n```"}
{"prompt": "You are given a string `s` consisting of words separated by spaces. Implement a function `sort_by_length` that sorts the words in the string by their length in ascending order. If two words have the same length, they should be sorted alphabetically. Return the sorted list of words.\n\n**Input:**\n- A single string `s` (1 \u2264 |s| \u2264 1000), where |s| is the length of the string. The string contains only lowercase English letters and spaces.\n\n**Output:**\n- A list of words sorted by length and alphabetically if lengths are equal.\n\n**Sample Input:**\n```\n\"the quick brown fox jumps over the lazy dog\"\n```\n\n**Sample Output:**\n```\n['the', 'dog', 'fox', 'the', 'lazy', 'over', 'brown', 'jumps']\n```", "response": "```python\ndef sort_by_length(s):\n    \"\"\"\n    Sorts the words in the string by their length in ascending order.\n    If two words have the same length, they are sorted alphabetically.\n    \n    :param s: A string of words separated by spaces.\n    :return: A list of words sorted by length and alphabetically if lengths are equal.\n    \"\"\"\n    words = s.split()\n    sorted_words = sorted(words, key=lambda word: (len(word), word))\n    return sorted_words\n\n# Example usage\ninput_string = \"the quick brown fox jumps over the lazy dog\"\nsorted_list = sort_by_length(input_string)\nprint(sorted_list)\n```"}
{"prompt": "You are tasked with implementing a `Book` class that encapsulates the details of a book. The class should have the following attributes: `title`, `author`, and `year_published`. Implement a method `display_info` that outputs the book's information in the format: \"Title: <title>, Author: <author>, Year Published: <year_published>\". The attributes should be initialized via the constructor.\n\n**Sample Input:**\n```\n\"1984\", \"George Orwell\", 1949\n```\n\n**Sample Output:**\n```\nTitle: 1984, Author: George Orwell, Year Published: 1949\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, year_published):\n        \"\"\"\n        Initializes a new instance of the Book class with the given title, author, and year of publication.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param year_published: The year the book was published.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.year_published = year_published\n\n    def display_info(self):\n        \"\"\"\n        Prints the book's information in the format: \"Title: <title>, Author: <author>, Year Published: <year_published>\".\n        \"\"\"\n        print(f\"Title: {self.title}, Author: {self.author}, Year Published: {self.year_published}\")\n\n# Example usage:\n# book = Book(\"1984\", \"George Orwell\", 1949)\n# book.display_info()\n```"}
{"prompt": "You are given a list of integers representing temperatures in Celsius. Your task is to implement a function `convert_temperatures` that takes this list as input and returns a new list with temperatures converted to Fahrenheit using the formula F = C * 9/5 + 32.\n\n**Input:**\n- A list of integers `temperatures_celsius` where each integer represents a temperature in Celsius.\n\n**Output:**\n- A list of floats representing the temperatures converted to Fahrenheit.\n\n**Sample Input:**\n```\n[0, 20, 37, 100]\n```\n\n**Sample Output:**\n```\n[32.0, 68.0, 98.6, 212.0]\n```", "response": "```python\ndef convert_temperatures(temperatures_celsius):\n    \"\"\"\n    Convert a list of temperatures from Celsius to Fahrenheit.\n\n    Parameters:\n    temperatures_celsius (list of int): A list of temperatures in Celsius.\n\n    Returns:\n    list of float: A list of temperatures converted to Fahrenheit.\n    \"\"\"\n    return [c * 9/5 + 32 for c in temperatures_celsius]\n\ntemperatures_celsius = [0, 20, 37, 100]\ntemperatures_fahrenheit = convert_temperatures(temperatures_celsius)\nprint(temperatures_fahrenheit)\n```"}
{"prompt": "You are tasked with implementing a function `divide_numbers` that performs division of two numbers. The function should handle cases where division by zero might occur. Specifically, your function should return the result of the division if the divisor is not zero, and an error message \"Error: Cannot divide by zero.\" if the divisor is zero.\n\n**Function Signature:**\n```python\ndef divide_numbers(num1: float, num2: float) -> Union[float, str]:\n```\n\n**Input:**\n- The function takes two arguments, `num1` and `num2`, which are floating-point numbers.\n\n**Output:**\n- The function should return a floating-point number representing the result of `num1 / num2` if `num2` is not zero.\n- If `num2` is zero, the function should return the string \"Error: Cannot divide by zero.\"\n\n**Sample Input/Output:**\n- `divide_numbers(10.0, 2.0)` should return `5.0`.\n- `divide_numbers(5.0, 0.0)` should return `\"Error: Cannot divide by zero.\"`.", "response": "```python\nfrom typing import Union\n\ndef divide_numbers(num1: float, num2: float) -> Union[float, str]:\n    \"\"\"\n    Divides two numbers and handles division by zero.\n\n    Parameters:\n    num1 (float): The dividend.\n    num2 (float): The divisor.\n\n    Returns:\n    Union[float, str]: The result of the division if num2 is not zero, otherwise an error message.\n    \"\"\"\n    try:\n        return num1 / num2\n    except ZeroDivisionError:\n        return \"Error: Cannot divide by zero.\"\n```"}
{"prompt": "You are given a list of strings, each representing a file path in Unix-like format. Your task is to write a function `extract_filenames` that extracts and returns a list of filenames from these paths. The filenames are the last component of each path.\n\n**Input:**\n- A list of strings `file_paths` (1 \u2264 len(file_paths) \u2264 100), where each string is a valid Unix-like file path.\n\n**Output:**\n- A list of strings, where each string is the filename extracted from the corresponding path in `file_paths`.\n\n**Sample Input:**\n```\n['/home/user/documents/report.txt', '/home/user/images/photo.png', '/home/user/logs/access.log']\n```\n\n**Sample Output:**\n```\n['report.txt', 'photo.png', 'access.log']\n```", "response": "```python\ndef extract_filenames(file_paths):\n    \"\"\"\n    Extracts and returns a list of filenames from a list of Unix-like file paths.\n\n    :param file_paths: List of strings representing file paths.\n    :return: List of strings representing filenames.\n    \"\"\"\n    return [path.split('/')[-1] for path in file_paths]\n\n# Example usage:\nfile_paths = ['/home/user/documents/report.txt', '/home/user/images/photo.png', '/home/user/logs/access.log']\nprint(extract_filenames(file_paths))\n```"}
{"prompt": "Implement a class `Book` with the following attributes: `title`, `author`, `year_published`, `genre`, and `isbn`. The class should include the following methods:\n- `get_age(self)`: Returns the age of the book in years (current year minus `year_published`).\n- `is_classic(self)`: Returns `True` if the book is considered a classic (published more than 50 years ago), otherwise returns `False`.\n- `get_description(self)`: Returns a string description of the book in the format \"Title by Author, Genre, Year Published\".\n\nAdditionally, create a subclass `EBook` that inherits from `Book` and includes the following attributes and methods:\n- `file_format`: Represents the format of the e-book (e.g., 'PDF', 'EPUB').\n- `get_file_size(self)`: Returns a string indicating the file size of the e-book in MB. Assume a default file size of 2 MB.\n\n**Sample Input:**\n```python\nbook = Book(\"1984\", \"George Orwell\", 1949, \"Dystopian\", \"9780451524935\")\nebook = EBook(\"1984\", \"George Orwell\", 1949, \"Dystopian\", \"9780451524935\", \"EPUB\")\n```\n\n**Sample Output:**\n```python\nprint(book.get_age())          # Output: 74 (assuming the current year is 2023)\nprint(book.is_classic())       # Output: True\nprint(book.get_description())  # Output: \"1984 by George Orwell, Dystopian, 1949\"\nprint(ebook.get_file_size())   # Output: \"2.0 MB\"\n```", "response": "```python\nfrom datetime import datetime\n\nclass Book:\n    def __init__(self, title, author, year_published, genre, isbn):\n        \"\"\"\n        Initializes a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param year_published: The year the book was published.\n        :param genre: The genre of the book.\n        :param isbn: The ISBN of the book.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.year_published = year_published\n        self.genre = genre\n        self.isbn = isbn\n\n    def get_age(self):\n        \"\"\"\n        Returns the age of the book in years.\n\n        :return: The age of the book.\n        \"\"\"\n        current_year = datetime.now().year\n        return current_year - self.year_published\n\n    def is_classic(self):\n        \"\"\"\n        Determines if the book is considered a classic.\n\n        :return: True if the book is a classic, False otherwise.\n        \"\"\"\n        return self.get_age() > 50\n\n    def get_description(self):\n        \"\"\"\n        Returns a string description of the book.\n\n        :return: A string describing the book.\n        \"\"\"\n        return f\"{self.title} by {self.author}, {self.genre}, {self.year_published}\"\n\nclass EBook(Book):\n    def __init__(self, title, author, year_published, genre, isbn, file_format, file_size=2.0):\n        \"\"\"\n        Initializes a new EBook instance.\n\n        :param title: The title of the e-book.\n        :param author: The author of the e-book.\n        :param year_published: The year the e-book was published.\n        :param genre: The genre of the e-book.\n        :param isbn: The ISBN of the e-book.\n        :param file_format: The format of the e-book (e.g., 'PDF', 'EPUB').\n        :param file_size: The file size of the e-book in MB (default is 2.0 MB).\n        \"\"\"\n        super().__init__(title, author, year_published, genre, isbn)\n        self.file_format = file_format\n        self.file_size = file_size  # in MB\n\n    def get_file_size(self):\n        \"\"\"\n        Returns the file size of the e-book in MB.\n\n        :return: A string indicating the file size of the e-book.\n        \"\"\"\n        return f\"{self.file_size} MB\"\n```"}
{"prompt": "You are tasked with implementing a recursive function named `calculate_factorial` that computes the factorial of a given non-negative integer `n`. The function must strictly use recursion and should not rely on any built-in factorial functions or libraries. Ensure that your function handles invalid inputs by raising a `ValueError` with an appropriate message. Your function should also include a proper base case for the recursion.\n\n**Input:**\n- A single integer `n` (0 \u2264 n \u2264 20).\n\n**Output:**\n- The factorial of the integer `n`.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n120\n```", "response": "```python\ndef calculate_factorial(n):\n    \"\"\"\n    Recursive function to calculate the factorial of a non-negative integer.\n\n    Parameters:\n    n (int): The non-negative integer to calculate the factorial for.\n\n    Returns:\n    int: The factorial of the integer n.\n\n    Raises:\n    ValueError: If the input is not a non-negative integer.\n    \"\"\"\n    if not isinstance(n, int) or n < 0:\n        raise ValueError(\"Input must be a non-negative integer.\")\n    if n == 0 or n == 1:\n        return 1\n    else:\n        return n * calculate_factorial(n - 1)\n\n# Example usage:\n# print(calculate_factorial(5))  # Output: 120\n```"}
{"prompt": "You are tasked with writing a unit test for the `calculate_factorial` function. The function computes the factorial of a non-negative integer. Your unit test should cover a variety of scenarios, including edge cases and invalid inputs. Use a testing framework such as `unittest` or `pytest`. \n\n**Sample Input/Output:**\n- Input: `5`\n- Output: `120`\n- Input: `0`\n- Output: `1`\n- Input: `-1`\n- Output: `ValueError`\n- Input: `3.5`\n- Output: `ValueError`", "response": "```python\nimport unittest\n\ndef calculate_factorial(n):\n    \"\"\"\n    Calculate the factorial of a non-negative integer n.\n    \n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n    \n    Returns:\n    int: The factorial of the input integer n.\n    \n    Raises:\n    ValueError: If n is not an integer or if n is negative.\n    \"\"\"\n    if not isinstance(n, int):\n        raise ValueError(\"Input must be an integer.\")\n    if n < 0:\n        raise ValueError(\"Input must be a non-negative integer.\")\n    if n == 0 or n == 1:\n        return 1\n    factorial = 1\n    for i in range(2, n + 1):\n        factorial *= i\n    return factorial\n\nclass TestCalculateFactorial(unittest.TestCase):\n    def test_factorial_of_zero(self):\n        self.assertEqual(calculate_factorial(0), 1)\n    \n    def test_factorial_of_one(self):\n        self.assertEqual(calculate_factorial(1), 1)\n    \n    def test_factorial_of_positive_integer(self):\n        self.assertEqual(calculate_factorial(5), 120)\n    \n    def test_factorial_of_large_number(self):\n        self.assertEqual(calculate_factorial(10), 3628800)\n    \n    def test_factorial_of_negative_integer(self):\n        with self.assertRaises(ValueError):\n            calculate_factorial(-1)\n    \n    def test_factorial_of_non_integer(self):\n        with self.assertRaises(ValueError):\n            calculate_factorial(3.5)\n```"}
