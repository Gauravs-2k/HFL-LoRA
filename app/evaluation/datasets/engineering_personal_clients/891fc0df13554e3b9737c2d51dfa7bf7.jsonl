{"text": "User: Tell me about the waste disposal market in Mongolia.", "response": "Mongolia is a developing country with a large amount of waste generated from various sectors such as agriculture, industry, and residential areas. The waste disposal market in Mongolia is not well developed and lacks a centralized system for managing waste. The country has a single waste management agency that focuses on waste collection, storage, and disposal at the local level.\n\nHowever, there is growing awareness of the need for a more sustainable waste disposal system in Mongolia and various efforts are being made to improve the situation. For example, the country is investing in developing a centralized waste disposal infrastructure, increasing public participation in waste management decisions, and implementing sustainable waste disposal practices.\n\nThe waste disposal market in Mongolia will continue to grow as the country faces increasing pressure to reduce its environmental impact and adopt sustainable practices. Developing a more efficient and effective waste management system will be crucial for maintaining Mongolia's environmental health and attracting foreign investment."}
{"text": "User: Tell me about the waste disposal market in Mongolia.\nAssistant: Mongolia is a developing country with a large amount of waste generated from various sectors such as agriculture, industry, and residential areas. The waste disposal market in Mongolia is not well developed and lacks a centralized system for managing waste. The country has a single waste management agency that focuses on waste collection, storage, and disposal at the local level.\n\nHowever, there is growing awareness of the need for a more sustainable waste disposal system in Mongolia and various efforts are being made to improve the situation. For example, the country is investing in developing a centralized waste disposal infrastructure, increasing public participation in waste management decisions, and implementing sustainable waste disposal practices.\n\nThe waste disposal market in Mongolia will continue to grow as the country faces increasing pressure to reduce its environmental impact and adopt sustainable practices. Developing a more efficient and effective waste management system will be crucial for maintaining Mongolia's environmental health and attracting foreign investment.\nUser: Let's say you're the best writing blogger in the country.\nYou're writing a post about \"The Need for Mobile Incinerators\" and your readers are new to the idea of mobile incinerators.\n\nYou want to write a post that introduces them to the need for a mobile incinerator as easily and concisely as possible, and you want to give the post several titles that fit this description.", "response": "Sure, I can help you with that! Here are some title options for your post:\n\n1. \"Why Mobile Incinerators are the Future of Waste Management in Mongolia\"\n2. \"The Benefits of Mobile Incinerators for a Sustainable Waste Management Solution\"\n3. \"The Importance of Mobile Incinerators in Reducing the Load on Batteries\"\n4. \"Discovering the Potential of Mobile Incinerators inMongolia's Waste Management\"\n5. \"How Mobile Incinerators Can Improve the Quality of Life for Communities Near Waste Disposal\"\n\nThese titles provide a clear and concise introduction to the need for mobile incinerators and their benefits for waste management in Mongolia. I hope they help!"}
{"text": "User: Tell me about the waste disposal market in Mongolia.\nAssistant: Mongolia is a developing country with a large amount of waste generated from various sectors such as agriculture, industry, and residential areas. The waste disposal market in Mongolia is not well developed and lacks a centralized system for managing waste. The country has a single waste management agency that focuses on waste collection, storage, and disposal at the local level.\n\nHowever, there is growing awareness of the need for a more sustainable waste disposal system in Mongolia and various efforts are being made to improve the situation. For example, the country is investing in developing a centralized waste disposal infrastructure, increasing public participation in waste management decisions, and implementing sustainable waste disposal practices.\n\nThe waste disposal market in Mongolia will continue to grow as the country faces increasing pressure to reduce its environmental impact and adopt sustainable practices. Developing a more efficient and effective waste management system will be crucial for maintaining Mongolia's environmental health and attracting foreign investment.\nUser: Let's say you're the best writing blogger in the country.\nYou're writing a post about \"The Need for Mobile Incinerators\" and your readers are new to the idea of mobile incinerators.\n\nYou want to write a post that introduces them to the need for a mobile incinerator as easily and concisely as possible, and you want to give the post several titles that fit this description.\nAssistant: Sure, I can help you with that! Here are some title options for your post:\n\n1. \"Why Mobile Incinerators are the Future of Waste Management in Mongolia\"\n2. \"The Benefits of Mobile Incinerators for a Sustainable Waste Management Solution\"\n3. \"The Importance of Mobile Incinerators in Reducing the Load on Batteries\"\n4. \"Discovering the Potential of Mobile Incinerators inMongolia's Waste Management\"\n5. \"How Mobile Incinerators Can Improve the Quality of Life for Communities Near Waste Disposal\"\n\nThese titles provide a clear and concise introduction to the need for mobile incinerators and their benefits for waste management in Mongolia. I hope they help!\nUser: Suggest a business model with a running platform", "response": "One potential business model for a mobile incinerator in Mongolia could be a subscription-based model. Here's how it could work:\n\n1. Identify target audience: The mobile incinerator could target communities near waste disposal sites.\n2. Develop a pricing model: The mobile incinerator could charge customers a monthly or yearly subscription based on the amount of waste they generate and the level of service they require.\n3. Provide waste incinerator services: The mobile incinerator could be used to process the waste generated by the target audience and deliver the resulting incinerator waste to a designated location.\n4. Offer additional services: The mobile incinerator could also offer other services such as recycling, waste management, and environmental education to customers.\n5. Build customer support: The mobile incinerator could offer dedicated customer support services to help customers navigate the subscription-based model and address any issues or concerns they may have.\n6. Expand to other markets: As the mobile incinerator grows in popularity, it could consider expanding to other markets in Mongolia or neighboring countries.\n\nThis business model has the potential to create a sustainable and profitable business for the mobile incinerator in Mongolia. It also provides an opportunity to offer innovative and sustainable waste management services to the target audience."}
{"text": "User: Tell me about the waste disposal market in Mongolia.\nAssistant: Mongolia is a developing country with a large amount of waste generated from various sectors such as agriculture, industry, and residential areas. The waste disposal market in Mongolia is not well developed and lacks a centralized system for managing waste. The country has a single waste management agency that focuses on waste collection, storage, and disposal at the local level.\n\nHowever, there is growing awareness of the need for a more sustainable waste disposal system in Mongolia and various efforts are being made to improve the situation. For example, the country is investing in developing a centralized waste disposal infrastructure, increasing public participation in waste management decisions, and implementing sustainable waste disposal practices.\n\nThe waste disposal market in Mongolia will continue to grow as the country faces increasing pressure to reduce its environmental impact and adopt sustainable practices. Developing a more efficient and effective waste management system will be crucial for maintaining Mongolia's environmental health and attracting foreign investment.\nUser: Let's say you're the best writing blogger in the country.\nYou're writing a post about \"The Need for Mobile Incinerators\" and your readers are new to the idea of mobile incinerators.\n\nYou want to write a post that introduces them to the need for a mobile incinerator as easily and concisely as possible, and you want to give the post several titles that fit this description.\nAssistant: Sure, I can help you with that! Here are some title options for your post:\n\n1. \"Why Mobile Incinerators are the Future of Waste Management in Mongolia\"\n2. \"The Benefits of Mobile Incinerators for a Sustainable Waste Management Solution\"\n3. \"The Importance of Mobile Incinerators in Reducing the Load on Batteries\"\n4. \"Discovering the Potential of Mobile Incinerators inMongolia's Waste Management\"\n5. \"How Mobile Incinerators Can Improve the Quality of Life for Communities Near Waste Disposal\"\n\nThese titles provide a clear and concise introduction to the need for mobile incinerators and their benefits for waste management in Mongolia. I hope they help!\nUser: Suggest a business model with a running platform\nAssistant: One potential business model for a mobile incinerator in Mongolia could be a subscription-based model. Here's how it could work:\n\n1. Identify target audience: The mobile incinerator could target communities near waste disposal sites.\n2. Develop a pricing model: The mobile incinerator could charge customers a monthly or yearly subscription based on the amount of waste they generate and the level of service they require.\n3. Provide waste incinerator services: The mobile incinerator could be used to process the waste generated by the target audience and deliver the resulting incinerator waste to a designated location.\n4. Offer additional services: The mobile incinerator could also offer other services such as recycling, waste management, and environmental education to customers.\n5. Build customer support: The mobile incinerator could offer dedicated customer support services to help customers navigate the subscription-based model and address any issues or concerns they may have.\n6. Expand to other markets: As the mobile incinerator grows in popularity, it could consider expanding to other markets in Mongolia or neighboring countries.\n\nThis business model has the potential to create a sustainable and profitable business for the mobile incinerator in Mongolia. It also provides an opportunity to offer innovative and sustainable waste management services to the target audience.\nUser: Create a business proposal using the running platform", "response": "Sure, here's a possible business proposal for a mobile incinerator in Mongolia that uses a running platform:\n\nIntroduction:\n\nThe mobile incinerator in Mongolia is a unique and innovative waste management solution that aims to improve the quality of life for communities near waste disposal sites. The running platform, which is an essential component of the solution, allows for continuous and efficient waste management operations.\n\nBackground:\n\n Mongolia is a developing country with a large amount of waste generated from various sectors such as agriculture, industry, and residential areas. The country has a single waste management agency that focuses on waste collection, storage, and disposal at the local level, but this approach is not sustainable and lacks a centralized system for managing waste.\n\nObjective:\n\nThe objective of the mobile incinerator in Mongolia is to provide a more efficient and effective waste management solution. The running platform will allow for continuous and efficient processing of waste, reducing the environmental impact of waste disposal and improving the quality of life for communities.\n\nBusiness Model:\n\nThe mobile incinerator in Mongolia will operate on a subscription-based model, with customers charged a monthly or yearly fee based on the amount of waste they generate and the level of service they require. The mobile incinerator will be equipped with advanced technologies such as incinerators, heat recovery systems, and recycling facilities, making it an efficient and effective waste management solution.\n\nAdditional Services:\n\nIn addition to waste incinerator services, the mobile incinerator in Mongolia will also offer other services such as recycling, waste management, and environmental education to customers.\n\nCustomer Support:\n\nThe mobile incinerator in Mongolia will offer dedicated customer support services to help customers navigate the subscription-based model and address any issues or concerns they may have.\n\nMarketing and Sales:\n\nThe mobile incinerator in Mongolia will be marketed through various channels such as social media, local governments, and other waste management agencies. The company will also attend local events and conferences to showcase its solution and attract customers.\n\nConclusion:\n\nThe mobile incinerator in Mongolia has the potential to provide a sustainable and effective waste management solution in Mongolia. With the running platform, which is an essential component of the solution, the mobile incinerator can process waste efficiently, reduce the environmental impact of waste disposal, and improve the quality of life for communities."}
{"text": "User: Tell me about the waste disposal market in Mongolia.\nAssistant: Mongolia is a developing country with a large amount of waste generated from various sectors such as agriculture, industry, and residential areas. The waste disposal market in Mongolia is not well developed and lacks a centralized system for managing waste. The country has a single waste management agency that focuses on waste collection, storage, and disposal at the local level.\n\nHowever, there is growing awareness of the need for a more sustainable waste disposal system in Mongolia and various efforts are being made to improve the situation. For example, the country is investing in developing a centralized waste disposal infrastructure, increasing public participation in waste management decisions, and implementing sustainable waste disposal practices.\n\nThe waste disposal market in Mongolia will continue to grow as the country faces increasing pressure to reduce its environmental impact and adopt sustainable practices. Developing a more efficient and effective waste management system will be crucial for maintaining Mongolia's environmental health and attracting foreign investment.\nUser: Let's say you're the best writing blogger in the country.\nYou're writing a post about \"The Need for Mobile Incinerators\" and your readers are new to the idea of mobile incinerators.\n\nYou want to write a post that introduces them to the need for a mobile incinerator as easily and concisely as possible, and you want to give the post several titles that fit this description.\nAssistant: Sure, I can help you with that! Here are some title options for your post:\n\n1. \"Why Mobile Incinerators are the Future of Waste Management in Mongolia\"\n2. \"The Benefits of Mobile Incinerators for a Sustainable Waste Management Solution\"\n3. \"The Importance of Mobile Incinerators in Reducing the Load on Batteries\"\n4. \"Discovering the Potential of Mobile Incinerators inMongolia's Waste Management\"\n5. \"How Mobile Incinerators Can Improve the Quality of Life for Communities Near Waste Disposal\"\n\nThese titles provide a clear and concise introduction to the need for mobile incinerators and their benefits for waste management in Mongolia. I hope they help!\nUser: Suggest a business model with a running platform\nAssistant: One potential business model for a mobile incinerator in Mongolia could be a subscription-based model. Here's how it could work:\n\n1. Identify target audience: The mobile incinerator could target communities near waste disposal sites.\n2. Develop a pricing model: The mobile incinerator could charge customers a monthly or yearly subscription based on the amount of waste they generate and the level of service they require.\n3. Provide waste incinerator services: The mobile incinerator could be used to process the waste generated by the target audience and deliver the resulting incinerator waste to a designated location.\n4. Offer additional services: The mobile incinerator could also offer other services such as recycling, waste management, and environmental education to customers.\n5. Build customer support: The mobile incinerator could offer dedicated customer support services to help customers navigate the subscription-based model and address any issues or concerns they may have.\n6. Expand to other markets: As the mobile incinerator grows in popularity, it could consider expanding to other markets in Mongolia or neighboring countries.\n\nThis business model has the potential to create a sustainable and profitable business for the mobile incinerator in Mongolia. It also provides an opportunity to offer innovative and sustainable waste management services to the target audience.\nUser: Create a business proposal using the running platform\nAssistant: Sure, here's a possible business proposal for a mobile incinerator in Mongolia that uses a running platform:\n\nIntroduction:\n\nThe mobile incinerator in Mongolia is a unique and innovative waste management solution that aims to improve the quality of life for communities near waste disposal sites. The running platform, which is an essential component of the solution, allows for continuous and efficient waste management operations.\n\nBackground:\n\n Mongolia is a developing country with a large amount of waste generated from various sectors such as agriculture, industry, and residential areas. The country has a single waste management agency that focuses on waste collection, storage, and disposal at the local level, but this approach is not sustainable and lacks a centralized system for managing waste.\n\nObjective:\n\nThe objective of the mobile incinerator in Mongolia is to provide a more efficient and effective waste management solution. The running platform will allow for continuous and efficient processing of waste, reducing the environmental impact of waste disposal and improving the quality of life for communities.\n\nBusiness Model:\n\nThe mobile incinerator in Mongolia will operate on a subscription-based model, with customers charged a monthly or yearly fee based on the amount of waste they generate and the level of service they require. The mobile incinerator will be equipped with advanced technologies such as incinerators, heat recovery systems, and recycling facilities, making it an efficient and effective waste management solution.\n\nAdditional Services:\n\nIn addition to waste incinerator services, the mobile incinerator in Mongolia will also offer other services such as recycling, waste management, and environmental education to customers.\n\nCustomer Support:\n\nThe mobile incinerator in Mongolia will offer dedicated customer support services to help customers navigate the subscription-based model and address any issues or concerns they may have.\n\nMarketing and Sales:\n\nThe mobile incinerator in Mongolia will be marketed through various channels such as social media, local governments, and other waste management agencies. The company will also attend local events and conferences to showcase its solution and attract customers.\n\nConclusion:\n\nThe mobile incinerator in Mongolia has the potential to provide a sustainable and effective waste management solution in Mongolia. With the running platform, which is an essential component of the solution, the mobile incinerator can process waste efficiently, reduce the environmental impact of waste disposal, and improve the quality of life for communities.\nUser: I want you to act as a personal trainer. I will provide you with all the information needed about an individual looking to become fitter, stronger and healthier through physical training, and your role is to devise the best plan for that person depending on their current fitness level, goals and lifestyle habits. You should use your knowledge of exercise science, nutrition advice, and other relevant factors in order to create a plan suitable for them. My first request is “I need help designing an exercise program for someone who wants to lose weight.”", "response": "Sure, I can help you design an exercise program for someone who wants to lose weight. Here are some steps I would take:\n\n1. Determine the individual's current fitness level: To design an effective exercise program, it's important to determine the individual's current fitness level. This could include information such as their weight, height, age, and any previous fitness experience.\n2. Set specific and achievable goals: Based on the individual's fitness level and goals, it's important to set specific and achievable goals. For example, the individual may want to lose 1-2 pounds in a week, or they may want to improve their overall fitness level by completing 30 minutes of exercise three times a week.\n3. Choose appropriate exercise programs: To lose weight, it's important to choose exercise programs that are high in intensity and low in volume. This could include activities such as strength training, cardio, or both. It's also important to choose exercise programs that are appropriate for the individual's fitness level and schedule.\n4. Incorporate nutrition advice: In addition to exercise, it's important to incorporate nutrition advice into the individual's diet. This could include information such as the individual's daily calorie intake, macronutrient ratios, and any dietary restrictions or allergies.\n5. Monitor progress and adjust the program: To ensure that the individual is losing weight and improving their fitness level, it's important to monitor their progress regularly. This could include tracking their weight, muscle mass, and overall fitness level through measurements and self- assessments. It's also important to adjust the program as needed to ensure that the individual is meeting their goals and experiencing continued success.\n\nOverall, designing an effective exercise program for someone who wants to lose weight requires a combination of physical activity, nutrition advice, and goal-setting. By following these steps, individuals can develop a plan that is tailored to their specific needs and experiences, and achieve their fitness and weight loss goals."}
{"text": "You are given a list of file paths in a Unix-like file system. Your task is to write a Python function `get_longest_common_prefix(paths)` that determines the longest common prefix among the given file paths. The function should return the longest common prefix as a string. If there is no common prefix, return an empty string.\n\n**Input:**\n- A list of strings `paths` where each string represents a file path in a Unix-like file system.\n\n**Output:**\n- A string representing the longest common prefix of the given file paths.\n\n**Sample Input:**\n```python\n['/home/user/documents/report.txt', '/home/user/documents/presentation.pptx']\n```\n\n**Sample Output:**\n```python\n'/home/user/documents/'\n```", "response": "```python\ndef get_longest_common_prefix(paths):\n    \"\"\"\n    Determines the longest common prefix among a list of file paths.\n\n    :param paths: List of strings, where each string is a file path.\n    :return: A string representing the longest common prefix of the given file paths.\n    \"\"\"\n    if not paths:\n        return ''\n    split_paths = [path.split('/') for path in paths]\n    mismatch_index = next((i for i, group in enumerate(zip(*split_paths)) if len(set(group)) > 1), len(split_paths[0]))\n    return '/'.join(split_paths[0][:mismatch_index]) + '/'\n```"}
{"text": "You are given a dictionary `movie_data` where the keys are movie titles and the values are their corresponding release years. Your task is to implement a function `generate_movie_list(movie_data)` that processes this data and returns a dictionary. In the returned dictionary, the keys should be the release years, and the values should be lists of movie titles released in that year. The order of movie titles in the lists does not matter.\n\n**Input:**\n- A dictionary `movie_data` where each key is a string representing a movie title and each value is an integer representing the release year.\n\n**Output:**\n- A dictionary where each key is an integer representing a release year and each value is a list of strings representing movie titles released in that year.\n\n**Sample Input:**\n```python\n{'The Matrix': 1999, 'Inception': 2010, 'Interstellar': 2014, 'The Matrix Reloaded': 1999}\n```\n\n**Sample Output:**\n```python\n{1999: ['The Matrix', 'The Matrix Reloaded'], 2010: ['Inception'], 2014: ['Interstellar']}\n```", "response": "```python\ndef generate_movie_list(movie_data):\n    \"\"\"\n    Processes a dictionary of movie titles and their release years, and returns a dictionary\n    where the keys are release years and the values are lists of movie titles released in that year.\n\n    :param movie_data: A dictionary with movie titles as keys and release years as values.\n    :return: A dictionary with release years as keys and lists of movie titles as values.\n    \"\"\"\n    year_dict = {}\n    for movie, year in movie_data.items():\n        if year in year_dict:\n            year_dict[year].append(movie)\n        else:\n            year_dict[year] = [movie]\n    return year_dict\n```"}
{"text": "You are given a string `text` which may contain letters, digits, punctuation, and spaces. Your task is to implement a function `count_words` that returns the number of words in the string. Words are defined as sequences of alphanumeric characters separated by any non-alphanumeric characters. The function should be case-insensitive and ignore any punctuation and extra spaces.\n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 10^5).\n\n**Output:**\n- An integer representing the number of words in the string.\n\n**Sample Input:**\n```\n\"Hello, world! This is a test... How many words, do you think?\"\n```\n\n**Sample Output:**\n```\n10\n```", "response": "```python\nimport string\n\ndef count_words(text: str) -> int:\n    \"\"\"\n    Counts the number of words in a given string, handling punctuation and case sensitivity.\n    \n    :param text: The input string containing words, punctuation, and spaces.\n    :return: The number of words in the string.\n    \"\"\"\n    # Convert text to lower case to handle case sensitivity\n    text = text.lower()\n    \n    # Remove punctuation using str.translate and str.maketrans\n    text = text.translate(str.maketrans('', '', string.punctuation))\n    \n    # Split the text into words based on whitespace\n    words = text.split()\n    \n    return len(words)\n\n# Example usage:\nexample_text = \"Hello, world! This is a test... How many words, do you think?\"\nprint(count_words(example_text))  # Output: 10\n```"}
{"text": "You are tasked with implementing a simple simulation of the classic game Rock-Paper-Scissors. In this game, you will play against a computer that randomly selects one of the three options: rock, paper, or scissors. Your goal is to input your choice, and the program will determine the winner based on the following rules:\n- Rock crushes scissors.\n- Scissors cut paper.\n- Paper covers rock.\n- If both the player and the computer choose the same option, the game is a tie.\n\nYour program should handle invalid inputs by prompting the user to enter a valid choice.\n\n#### Sample Input/Output:\n**Input:**\n```\nrock\n```\n**Output:**\n```\nWelcome to Rock-Paper-Scissors!\nYou chose: rock\nComputer chose: paper\nComputer wins!\n```\n\n**Input:**\n```\npaper\n```\n**Output:**\n```\nWelcome to Rock-Paper-Scissors!\nYou chose: paper\nComputer chose: rock\nYou win!\n```", "response": "```python\nimport random\n\ndef get_computer_choice():\n    \"\"\"\n    Randomly selects and returns the computer's choice between 'rock', 'paper', and 'scissors'.\n    \"\"\"\n    choices = ['rock', 'paper', 'scissors']\n    return random.choice(choices)\n\ndef get_user_choice():\n    \"\"\"\n    Prompts the user to input their choice between 'rock', 'paper', and 'scissors'.\n    Continues to prompt until a valid choice is entered.\n    Returns the user's valid choice.\n    \"\"\"\n    user_input = input(\"Enter your choice (rock, paper, scissors): \").lower()\n    while user_input not in ['rock', 'paper', 'scissors']:\n        print(\"Invalid choice. Please try again.\")\n        user_input = input(\"Enter your choice (rock, paper, scissors): \").lower()\n    return user_input\n\ndef determine_winner(user_choice, computer_choice):\n    \"\"\"\n    Determines the winner of the Rock-Paper-Scissors game based on the user's and computer's choices.\n    Returns a string indicating the result: \"You win!\", \"Computer wins!\", or \"It's a tie!\".\n    \"\"\"\n    if user_choice == computer_choice:\n        return \"It's a tie!\"\n    elif (user_choice == 'rock' and computer_choice == 'scissors') or \\\n         (user_choice == 'scissors' and computer_choice == 'paper') or \\\n         (user_choice == 'paper' and computer_choice == 'rock'):\n        return \"You win!\"\n    else:\n        return \"Computer wins!\"\n\ndef play_game():\n    \"\"\"\n    Orchestrates the Rock-Paper-Scissors game by welcoming the player, getting both the user's and computer's choices,\n    determining the winner, and printing the result.\n    \"\"\"\n    print(\"Welcome to Rock-Paper-Scissors!\")\n    user_choice = get_user_choice()\n    computer_choice = get_computer_choice()\n    print(f\"You chose: {user_choice}\")\n    print(f\"Computer chose: {computer_choice}\")\n    result = determine_winner(user_choice, computer_choice)\n    print(result)\n\nif __name__ == \"__main__\":\n    play_game()\n```"}
{"text": "You are given a CSV file named \"data.csv\" with headers. Your task is to write a Python function that reads this file and computes the average of a specified column. The function should handle cases where the column might not exist or contain non-numeric values by skipping those entries. The CSV file is structured as follows:\n\n```\nName,Age,Score\nJohn,28,85\nAlice,34,92\nBob,22,78\n```\n\n**Input:**\n- The function will take two parameters: the file path to the CSV file and the name of the column for which the average needs to be calculated.\n\n**Output:**\n- The function should return the average of the specified column as a float. If no valid entries are found, return `None`.\n\n**Sample Input:**\n- File Path: \"data.csv\"\n- Column Name: \"Score\"\n\n**Sample Output:**\n- The average of the column 'Score' is: 85.0", "response": "```python\nimport csv\n\ndef calculate_average_from_csv(file_path, column_name):\n    \"\"\"\n    Calculate the average of a specified column in a CSV file.\n    \n    Parameters:\n    file_path (str): The path to the CSV file.\n    column_name (str): The name of the column to calculate the average for.\n    \n    Returns:\n    float or None: The average of the column if valid entries are found, otherwise None.\n    \"\"\"\n    total = 0\n    count = 0\n    \n    with open(file_path, mode='r') as file:\n        csv_reader = csv.DictReader(file)\n        for row in csv_reader:\n            try:\n                value = float(row[column_name])\n                total += value\n                count += 1\n            except (ValueError, KeyError):\n                continue\n    \n    if count == 0:\n        return None\n    \n    return total / count\n\n# Usage\nfile_path = \"data.csv\"\ncolumn_name = \"Score\"\naverage = calculate_average_from_csv(file_path, column_name)\nif average is not None:\n    print(f\"The average of the column '{column_name}' is: {average}\")\nelse:\n    print(f\"Could not calculate the average for the column '{column_name}'.\")\n```"}
{"text": "You are given a string `s`. Your task is to implement a function `count_words` that processes the string and returns a dictionary. The dictionary should map each unique word in the string to its frequency, ignoring case and punctuation. \n\n**Input:**\n- A single string `s` (1 ≤ len(s) ≤ 10^4) containing words separated by spaces, possibly with punctuation and mixed case.\n\n**Output:**\n- A dictionary where keys are words in lowercase and values are their respective frequencies in the string.\n\n**Sample Input:**\n```\n\"Hello, world! Hello, everyone.\"\n```\n\n**Sample Output:**\n```\n{'hello': 2, 'world': 1, 'everyone': 1}\n```", "response": "```python\nimport string\n\ndef count_words(s: str) -> dict:\n    \"\"\"\n    Processes a string to count the frequency of each word, ignoring case and punctuation.\n    \n    :param s: Input string containing words.\n    :return: Dictionary with words as keys and their frequencies as values.\n    \"\"\"\n    s = s.lower()\n    s = s.translate(str.maketrans(\"\", \"\", string.punctuation))\n    words = s.split()\n    word_count = {}\n    for word in words:\n        if word in word_count:\n            word_count[word] += 1\n        else:\n            word_count[word] = 1\n    return word_count\n\n# Example usage\nexample_string = \"Hello, world! Hello, everyone.\"\nprint(count_words(example_string))  # Output: {'hello': 2, 'world': 1, 'everyone': 1}\n```"}
{"text": "You are given a list of integers `numbers` and an integer `target`. Your task is to implement a function `find_indices` that returns a list of all indices in `numbers` where the value is equal to `target`. The function must utilize a list comprehension. If the `target` is not present in the list, the function should return an empty list.\n\n**Sample Input:**\n```\nnumbers = [2, 5, 3, 5, 8, 5]\ntarget = 5\n```\n\n**Sample Output:**\n```\n[1, 3, 5]\n```", "response": "```python\ndef find_indices(numbers, target):\n    \"\"\"\n    Returns a list of all indices in `numbers` where the value is equal to `target`.\n    \n    :param numbers: List of integers.\n    :param target: Integer to find in the list.\n    :return: List of indices where the target is found.\n    \"\"\"\n    return [index for index, value in enumerate(numbers) if value == target]\n\n# Example usage:\nnumbers = [2, 5, 3, 5, 8, 5]\ntarget = 5\nprint(find_indices(numbers, target))\n```"}
{"text": "You are given a JSON object representing a book. Your task is to implement a function `parse_book_info` that extracts the book's title, author, publication year, and genre from the JSON object. The function should return a dictionary with these extracted values. If any of the keys are missing from the JSON object, the function should return `None` for that value.\n\n**Input:**\n- A JSON object or a JSON string representing a book.\n\n**Output:**\n- A dictionary with keys `\"title\"`, `\"author\"`, `\"publication_year\"`, and `\"genre\"`. Each key should map to the corresponding value from the JSON object, or `None` if the key is missing.\n\n**Sample Input 1:**\n```json\n{\"title\": \"The Great Gatsby\", \"author\": \"F. Scott Fitzgerald\", \"publication_year\": 1925, \"genre\": \"Novel\"}\n```\n\n**Sample Output 1:**\n```python\n{\"title\": \"The Great Gatsby\", \"author\": \"F. Scott Fitzgerald\", \"publication_year\": 1925, \"genre\": \"Novel\"}\n```\n\n**Sample Input 2:**\n```json\n{\"title\": \"1984\", \"author\": \"George Orwell\", \"publication_year\": 1949}\n```\n\n**Sample Output 2:**\n```python\n{\"title\": \"1984\", \"author\": \"George Orwell\", \"publication_year\": 1949, \"genre\": None}\n```", "response": "```python\nimport json\n\ndef parse_book_info(book_json):\n    \"\"\"\n    Extracts the book title, author, publication year, and genre from a JSON object.\n    \n    Parameters:\n    book_json (dict or str): A JSON object or a JSON string representing a book.\n    \n    Returns:\n    dict: A dictionary with keys 'title', 'author', 'publication_year', and 'genre'.\n          Each key maps to the corresponding value from the JSON object, or None if the key is missing.\n    \"\"\"\n    # Load the JSON object if the input is a string\n    if isinstance(book_json, str):\n        book_json = json.loads(book_json)\n    \n    # Extracting the required information with default to None if key is missing\n    title = book_json.get(\"title\", None)\n    author = book_json.get(\"author\", None)\n    publication_year = book_json.get(\"publication_year\", None)\n    genre = book_json.get(\"genre\", None)\n    \n    # Returning the extracted information as a dictionary\n    return {\n        \"title\": title,\n        \"author\": author,\n        \"publication_year\": publication_year,\n        \"genre\": genre\n    }\n\n# Example usage\nbook_json = {\"title\": \"The Great Gatsby\", \"author\": \"F. Scott Fitzgerald\", \"publication_year\": 1925, \"genre\": \"Novel\"}\nprint(parse_book_info(book_json))\n```"}
{"text": "You are given a list of fractions represented as tuples of two positive integers, where each tuple `(numerator, denominator)` denotes a fraction. Your task is to simplify each fraction to its lowest terms and return a new list of tuples with the simplified fractions. The input list is guaranteed to be non-empty.\n\n**Input:**\n- A list of tuples, where each tuple contains two positive integers representing the numerator and denominator of a fraction.\n\n**Output:**\n- A list of tuples, where each tuple contains two positive integers representing the numerator and denominator of the simplified fraction.\n\n**Sample Input:**\n```python\n[(12, 16), (9, 3), (45, 10)]\n```\n\n**Sample Output:**\n```python\n[(3, 4), (3, 1), (9, 2)]\n```", "response": "```python\nfrom math import gcd\n\ndef simplify_fractions(fractions):\n    \"\"\"\n    Simplify each fraction in the list to its lowest terms.\n\n    :param fractions: List of tuples, where each tuple contains two positive integers (numerator, denominator).\n    :return: List of tuples with simplified fractions.\n    \"\"\"\n    simplified = []\n    for num, denom in fractions:\n        common_divisor = gcd(num, denom)\n        simplified.append((num // common_divisor, denom // common_divisor))\n    return simplified\n\n# Example usage:\nfractions = [(12, 16), (9, 3), (45, 10)]\nprint(simplify_fractions(fractions))\n```"}
{"text": "You are given a list of integers `arr`. Your task is to implement a function `sort_by_frequency(arr)` that returns a list of integers sorted by their frequency in descending order. If two integers have the same frequency, they should be sorted by their value in ascending order. \n\n**Input:**\n- A list of integers `arr` (1 ≤ len(arr) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers sorted by frequency in descending order, and by value in ascending order if frequencies are the same.\n\n**Sample Input:**\n```\n[4, 5, 6, 5, 4, 4]\n```\n\n**Sample Output:**\n```\n[4, 5, 6]\n```", "response": "```python\nfrom collections import Counter\n\ndef sort_by_frequency(arr):\n    \"\"\"\n    Sorts a list of integers by their frequency in descending order.\n    If two integers have the same frequency, they are sorted by their value in ascending order.\n    \n    :param arr: List of integers\n    :return: List of integers sorted by frequency and value\n    \"\"\"\n    count = Counter(arr)\n    sorted_items = sorted(count.items(), key=lambda item: (-item[1], item[0]))\n    sorted_numbers = [item[0] for item in sorted_items]\n    return sorted_numbers\n\n# Test the function\narr = [4, 5, 6, 5, 4, 4]\nprint(sort_by_frequency(arr))  # Output: [4, 5, 6]\n```"}
{"text": "You are given a dictionary where each key is a string and each value is a list of integers. Your task is to write a Python function that computes a new dictionary. In this new dictionary, each key should be mapped to the sum of the integers in its corresponding list from the input dictionary.\n\n**Input:**\n- A dictionary `input_dict` where keys are strings and values are lists of integers.\n\n**Output:**\n- A dictionary where each key is mapped to the sum of the integers in its corresponding list from the input dictionary.\n\n**Sample Input:**\n```python\n{\"a\": [1, 2, 3], \"b\": [4, 5], \"c\": [6]}\n```\n\n**Sample Output:**\n```python\n{\"a\": 6, \"b\": 9, \"c\": 6}\n```", "response": "```python\ndef sum_values_in_dict(input_dict):\n    \"\"\"\n    Computes a new dictionary where each key is mapped to the sum of the integers\n    in its corresponding list from the input dictionary.\n\n    :param input_dict: A dictionary with string keys and list of integers values.\n    :return: A dictionary with string keys and integer values representing the sum of the lists.\n    \"\"\"\n    return {key: sum(value_list) for key, value_list in input_dict.items()}\n```"}
{"text": "Implement the heap sort algorithm to sort an array of integers in ascending order. Your program should read an array of integers and output the sorted array.\n\n**Input:**\n- The first line contains an integer `n` (1 ≤ n ≤ 10^5), the number of elements in the array.\n- The second line contains `n` space-separated integers representing the array elements.\n\n**Output:**\n- Print the sorted array in ascending order.\n\n**Sample Input:**\n```\n6\n12 11 13 5 6 7\n```\n\n**Sample Output:**\n```\n5 6 7 11 12 13\n```", "response": "```python\ndef heapify(arr, n, i):\n    \"\"\"\n    Heapify the subtree rooted at index i in a max heap.\n    \n    :param arr: List of integers representing the heap.\n    :param n: Integer, the size of the heap.\n    :param i: Integer, the index of the root of the subtree.\n    \"\"\"\n    largest = i  # Initialize largest as root\n    left = 2 * i + 1  # left = 2*i + 1\n    right = 2 * i + 2  # right = 2*i + 2\n\n    # See if left child of root exists and is greater than root\n    if left < n and arr[i] < arr[left]:\n        largest = left\n\n    # See if right child of root exists and is greater than root\n    if right < n and arr[largest] < arr[right]:\n        largest = right\n\n    # Change root, if needed\n    if largest != i:\n        arr[i], arr[largest] = arr[largest], arr[i]  # swap\n\n        # Heapify the root.\n        heapify(arr, n, largest)\n\ndef heap_sort(arr):\n    \"\"\"\n    Sorts the array in ascending order using the heap sort algorithm.\n    \n    :param arr: List of integers to be sorted.\n    \"\"\"\n    n = len(arr)\n\n    # Build a maxheap.\n    for i in range(n, -1, -1):\n        heapify(arr, n, i)\n\n    # One by one extract elements\n    for i in range(n - 1, 0, -1):\n        arr[i], arr[0] = arr[0], arr[i]  # swap\n        heapify(arr, i, 0)\n\n# Example usage:\nif __name__ == \"__main__\":\n    import sys\n    input = sys.stdin.read\n    data = input().split()\n    n = int(data[0])\n    arr = list(map(int, data[1:]))\n    heap_sort(arr)\n    print(\" \".join(map(str, arr)))\n```"}
{"text": "You are given a string `word` consisting of lowercase English letters and spaces. Your task is to implement a function `count_vowels(word)` that returns the number of vowels present in the string. A vowel is defined as one of the characters 'a', 'e', 'i', 'o', or 'u'.\n\n**Input:**\n- A single string `word` (1 ≤ |word| ≤ 100), where |word| denotes the length of the string.\n\n**Output:**\n- An integer representing the number of vowels in the string.\n\n**Sample Input:**\n```\nhello world\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\ndef count_vowels(word):\n    \"\"\"\n    Counts the number of vowels in the given string.\n\n    Parameters:\n    word (str): A string consisting of lowercase English letters and spaces.\n\n    Returns:\n    int: The number of vowels in the string.\n    \"\"\"\n    vowels = \"aeiou\"\n    count = 0\n    for char in word:\n        if char in vowels:\n            count += 1\n    return count\n```"}
{"text": "You are tasked with implementing a simple bank account system. Your system should support the following operations:\n\n1. **Deposit**: Add a specified amount to the account balance. The deposit amount must be positive.\n2. **Withdraw**: Subtract a specified amount from the account balance, provided the balance does not go below zero. The withdrawal amount must be positive.\n3. **Display Balance**: Print the current balance of the account formatted to two decimal places.\n\nImplement a Python class `BankAccount` that supports these operations. The class should be initialized with an optional `initial_balance` parameter, which defaults to 0.0 if not provided.\n\n**Sample Input/Output**:\n```\naccount = BankAccount(100.0)\naccount.deposit(50.0)\naccount.display_balance()  # Output: Current balance: $150.00\naccount.withdraw(30.0)\naccount.display_balance()  # Output: Current balance: $120.00\naccount.withdraw(150.0)    # Raises ValueError: Insufficient funds\naccount.deposit(-10.0)     # Raises ValueError: Deposit amount must be positive\n```", "response": "```python\nclass BankAccount:\n    \"\"\"\n    A simple class to represent a bank account.\n\n    Attributes\n    ----------\n    balance : float\n        The current balance of the account.\n\n    Methods\n    -------\n    deposit(amount: float) -> None:\n        Adds the given amount to the current balance.\n\n    withdraw(amount: float) -> None:\n        Subtracts the given amount from the current balance, \n        provided the balance does not go below zero.\n\n    display_balance() -> None:\n        Prints the current balance.\n    \"\"\"\n\n    def __init__(self, initial_balance: float = 0.0):\n        \"\"\"\n        Constructs all the necessary attributes for the bank account object.\n\n        Parameters\n        ----------\n        initial_balance : float, optional\n            The initial balance of the account (default is 0.0).\n        \"\"\"\n        self.balance = initial_balance\n\n    def deposit(self, amount: float) -> None:\n        \"\"\"\n        Adds the given amount to the current balance.\n\n        Parameters\n        ----------\n        amount : float\n            The amount to be deposited into the account.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n        else:\n            raise ValueError(\"Deposit amount must be positive\")\n\n    def withdraw(self, amount: float) -> None:\n        \"\"\"\n        Subtracts the given amount from the current balance, \n        provided the balance does not go below zero.\n\n        Parameters\n        ----------\n        amount : float\n            The amount to be withdrawn from the account.\n        \"\"\"\n        if amount > 0:\n            if self.balance >= amount:\n                self.balance -= amount\n            else:\n                raise ValueError(\"Insufficient funds\")\n        else:\n            raise ValueError(\"Withdrawal amount must be positive\")\n\n    def display_balance(self) -> None:\n        \"\"\"\n        Prints the current balance.\n        \"\"\"\n        print(f\"Current balance: ${self.balance:.2f}\")\n```"}
{"text": "You are tasked with simulating a customer queue at a supermarket checkout. Each customer takes a random amount of time between 1 and 10 minutes to complete their checkout process. Your goal is to modify the provided script to include the following features:\n\n1. Limit the number of customers in the queue to 10 at any given time.\n2. Track and print the total waiting time for all customers.\n\n**Input:**\n- An integer `num_customers` representing the total number of customers to simulate.\n\n**Output:**\n- For each customer, print the time they waited in the format: \"Customer X waited for Y minutes.\"\n- After all customers have been processed, print the total waiting time for all customers in the format: \"Total waiting time for all customers: Z minutes.\"\n\n**Sample Input:**\n```\n20\n```\n\n**Sample Output:**\n```\nCustomer 1 waited for 5 minutes.\nCustomer 2 waited for 3 minutes.\n...\nCustomer 20 waited for 7 minutes.\nTotal waiting time for all customers: 123 minutes.\n```", "response": "```python\nimport random\nimport time\n\ndef simulate_checkout_queue(num_customers):\n    \"\"\"\n    Simulates a customer queue at a supermarket checkout.\n    \n    Parameters:\n    num_customers (int): The total number of customers to simulate.\n    \n    Returns:\n    None\n    \"\"\"\n    total_waiting_time = 0\n    current_customers = 0\n    \n    for customer_number in range(1, num_customers + 1):\n        while current_customers >= 10:\n            time.sleep(0.1)\n        \n        waiting_time = random.randint(1, 10)\n        total_waiting_time += waiting_time\n        print(f\"Customer {customer_number} waited for {waiting_time} minutes.\")\n        \n        time.sleep(waiting_time)\n        \n        current_customers += 1\n        time.sleep(0.1)\n        current_customers -= 1\n\n    print(f\"Total waiting time for all customers: {total_waiting_time} minutes.\")\n\n# Set the number of customers to simulate\nnum_customers = 20\nsimulate_checkout_queue(num_customers)\n```"}
{"text": "You are given a string `expression` representing a valid mathematical expression consisting of integers, the operators `+`, `-`, `*`, `/`, and parentheses `()`. Your task is to evaluate the expression and return the result as an integer. The division operator `/` performs floor division. Assume that the input expression is always valid and does not contain any spaces.\n\n**Input:**\n- A string `expression` (1 ≤ len(expression) ≤ 1000) representing a valid mathematical expression.\n\n**Output:**\n- An integer representing the result of the evaluated expression.\n\n**Sample Input:**\n```\n(3+5)*(2-8)\n```\n\n**Sample Output:**\n```\n-32\n```", "response": "```python\ndef evaluate_expression(expression):\n    \"\"\"\n    Evaluates a given mathematical expression string and returns the result.\n    \n    :param expression: A string representing a valid mathematical expression.\n    :return: An integer representing the result of the evaluated expression.\n    \"\"\"\n    def precedence(op):\n        if op in ('+', '-'):\n            return 1\n        if op in ('*', '/'):\n            return 2\n        return 0\n\n    def apply_operator(operators, values):\n        operator = operators.pop()\n        right = values.pop()\n        left = values.pop()\n        if operator == '+':\n            values.append(left + right)\n        elif operator == '-':\n            values.append(left - right)\n        elif operator == '*':\n            values.append(left * right)\n        elif operator == '/':\n            values.append(left // right)\n\n    def greater_precedence(op1, op2):\n        return precedence(op1) > precedence(op2)\n\n    operators = []\n    values = []\n    i = 0\n    while i < len(expression):\n        if expression[i] == '(':\n            operators.append(expression[i])\n        elif expression[i].isdigit():\n            j = i\n            while j < len(expression) and expression[j].isdigit():\n                j += 1\n            values.append(int(expression[i:j]))\n            i = j - 1\n        elif expression[i] == ')':\n            while operators and operators[-1] != '(':\n                apply_operator(operators, values)\n            operators.pop()  # Remove '('\n        else:  # Operator\n            while (operators and operators[-1] != '(' and\n                   greater_precedence(operators[-1], expression[i])):\n                apply_operator(operators, values)\n            operators.append(expression[i])\n        i += 1\n\n    while operators:\n        apply_operator(operators, values)\n\n    return values[0]\n```"}
{"text": "You are given a log entry as a string in the format \"Timestamp [Level] Message\". The \"Timestamp\" is a date and time in the format \"YYYY-MM-DD HH:MM:SS\", \"Level\" is a log level (e.g., INFO, WARN, ERROR), and \"Message\" is the log message. Your task is to write a function `parse_log` that parses the string and returns a dictionary with keys \"timestamp\", \"level\", and \"message\" containing the respective parts of the log entry. If the log entry does not match the expected format, return `None`.\n\n**Sample Input:**\n```\n\"2023-01-15 14:30:00 [INFO] User logged in successfully\"\n```\n\n**Sample Output:**\n```\n{'timestamp': '2023-01-15 14:30:00', 'level': 'INFO', 'message': 'User logged in successfully'}\n```", "response": "```python\nimport re\n\ndef parse_log(log_entry):\n    \"\"\"\n    Parses a log entry string and returns a dictionary with keys 'timestamp', 'level', and 'message'.\n    \n    Parameters:\n    log_entry (str): A string representing a log entry in the format \"Timestamp [Level] Message\".\n    \n    Returns:\n    dict or None: A dictionary with keys 'timestamp', 'level', and 'message' if the log entry is valid,\n                  otherwise None.\n    \"\"\"\n    pattern = r\"(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}) \\[(\\w+)\\] (.*)\"\n    match = re.match(pattern, log_entry)\n    if match:\n        timestamp, level, message = match.groups()\n        return {\"timestamp\": timestamp, \"level\": level, \"message\": message}\n    return None\n\n# Example usage\nlog_entry = \"2023-01-15 14:30:00 [INFO] User logged in successfully\"\nparsed_log = parse_log(log_entry)\nprint(parsed_log)\n```"}
{"text": "You are given a string `s`. Your task is to write a function `reverse_vowels(s)` that returns a new string where the vowels in `s` are reversed in order, while all other characters remain in their original positions. The function should handle both uppercase and lowercase vowels.\n\n**Constraints:**\n- The length of the string `s` is between 1 and 10^5.\n- The string `s` consists of ASCII characters.\n\n**Sample Input:**\n```\n\"hello world\"\n```\n\n**Sample Output:**\n```\n\"holle werld\"\n```\n\n**Sample Input:**\n```\n\"Programming\"\n```\n\n**Sample Output:**\n```\n\"Prigrammong\"\n```", "response": "```python\ndef reverse_vowels(s):\n    \"\"\"\n    Reverses the vowels in the given string while keeping other characters in their original positions.\n\n    :param s: Input string\n    :return: New string with vowels reversed\n    \"\"\"\n    vowels = \"aeiouAEIOU\"\n    s_vowels = [char for char in s if char in vowels]\n    s_vowels.reverse()\n    \n    s_list = list(s)\n    for i in range(len(s_list)):\n        if s_list[i] in vowels:\n            s_list[i] = s_vowels.pop(0)\n    \n    return ''.join(s_list)\n```"}
{"text": "Implement a recursive function to generate the Fibonacci sequence up to the `n`-th term. The function should return a list containing the Fibonacci sequence up to the `n`-th term. The first two terms of the Fibonacci sequence are 0 and 1.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 20), representing the number of terms in the Fibonacci sequence to generate.\n\n**Output:**\n- A list of integers representing the Fibonacci sequence up to the `n`-th term.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n```", "response": "```python\ndef fibonacci_sequence(n):\n    \"\"\"\n    Generate the Fibonacci sequence up to the n-th term using recursion.\n\n    Parameters:\n    n (int): The number of terms in the Fibonacci sequence to generate.\n\n    Returns:\n    list: A list containing the Fibonacci sequence up to the n-th term.\n    \"\"\"\n    def fib_recursive(k):\n        if k <= 0:\n            return 0\n        elif k == 1:\n            return 1\n        else:\n            return fib_recursive(k - 1) + fib_recursive(k - 2)\n    \n    return [fib_recursive(i) for i in range(n)]\n```"}
{"text": "You are given a string `s` consisting of alphanumeric characters and spaces. Your task is to implement a function `find_max_occurrences(s)` that returns a dictionary containing the characters that appear most frequently in the string along with their counts. If multiple characters have the same maximum frequency, include all of them in the result.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5).\n\n**Output:**\n- A dictionary where keys are the characters with the maximum frequency and values are their respective counts.\n\n**Sample Input:**\n```\n\"Hello World 123!\"\n```\n\n**Sample Output:**\n```\n{'l': 3}\n```", "response": "```python\ndef find_max_occurrences(s):\n    \"\"\"\n    Returns a dictionary containing the characters that appear most frequently\n    in the string along with their counts. If multiple characters have the same\n    maximum frequency, all of them are included in the result.\n\n    :param s: Input string consisting of alphanumeric characters and spaces.\n    :return: Dictionary with characters as keys and their maximum counts as values.\n    \"\"\"\n    frequency = {}\n    for char in s:\n        if char in frequency:\n            frequency[char] += 1\n        else:\n            frequency[char] = 1\n    \n    max_count = max(frequency.values())\n    max_occurrences = {char: count for char, count in frequency.items() if count == max_count}\n    \n    return max_occurrences\n\n# Example usage:\nresult = find_max_occurrences(\"Hello World 123!\")\nprint(result)  # Output: {'l': 3}\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `optimize_sort(arr)` that sorts the list in ascending order using a more efficient sorting algorithm than the built-in `sort()` method. Implement either quicksort or mergesort. Your function should return the sorted list.\n\n**Input:**\n- A list of integers `arr` (1 ≤ len(arr) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers sorted in ascending order.\n\n**Sample Input:**\n```\n[38, 27, 43, 3, 9, 82, 10]\n```\n\n**Sample Output:**\n```\n[3, 9, 10, 27, 38, 43, 82]\n```", "response": "```python\ndef merge_sort(arr):\n    \"\"\"\n    Sorts the given list of integers using the merge sort algorithm.\n    \n    :param arr: List of integers to be sorted.\n    \"\"\"\n    if len(arr) > 1:\n        mid = len(arr) // 2\n        left_half = arr[:mid]\n        right_half = arr[mid:]\n\n        merge_sort(left_half)\n        merge_sort(right_half)\n\n        i = j = k = 0\n\n        while i < len(left_half) and j < len(right_half):\n            if left_half[i] < right_half[j]:\n                arr[k] = left_half[i]\n                i += 1\n            else:\n                arr[k] = right_half[j]\n                j += 1\n            k += 1\n\n        while i < len(left_half):\n            arr[k] = left_half[i]\n            i += 1\n            k += 1\n\n        while j < len(right_half):\n            arr[k] = right_half[j]\n            j += 1\n            k += 1\n\ndef optimize_sort(arr):\n    \"\"\"\n    Sorts the given list of integers using a more efficient sorting algorithm.\n    \n    :param arr: List of integers to be sorted.\n    :return: Sorted list of integers.\n    \"\"\"\n    merge_sort(arr)\n    return arr\n\n# Example usage:\n# arr = [38, 27, 43, 3, 9, 82, 10]\n# print(optimize_sort(arr))  # Output: [3, 9, 10, 27, 38, 43, 82]\n```"}
{"text": "You are given two dictionaries, `dict1` and `dict2`. Your task is to write a function `merge_dictionaries(dict1, dict2)` that merges these two dictionaries into a single dictionary. In the case of overlapping keys, the values from `dict2` should take precedence over those from `dict1`.\n\n**Input:**\n- Two dictionaries `dict1` and `dict2` with string keys and integer values.\n\n**Output:**\n- A single dictionary containing all keys from both input dictionaries. If a key exists in both dictionaries, the value from `dict2` should be used.\n\n**Sample Input:**\n```python\ndict1 = {'a': 1, 'b': 2, 'c': 3}\ndict2 = {'b': 20, 'd': 40}\n```\n\n**Sample Output:**\n```python\n{'a': 1, 'b': 20, 'c': 3, 'd': 40}\n```", "response": "```python\ndef merge_dictionaries(dict1, dict2):\n    \"\"\"\n    Merges two dictionaries into one. If there are overlapping keys,\n    the values from dict2 overwrite the values from dict1.\n\n    Parameters:\n    dict1 (dict): The first dictionary.\n    dict2 (dict): The second dictionary.\n\n    Returns:\n    dict: A merged dictionary with values from dict2 taking precedence.\n    \"\"\"\n    merged_dict = dict1.copy()\n    merged_dict.update(dict2)\n    return merged_dict\n\n# Example usage:\ndict1 = {'a': 1, 'b': 2, 'c': 3}\ndict2 = {'b': 20, 'd': 40}\nresult = merge_dictionaries(dict1, dict2)\nprint(result)  # Output: {'a': 1, 'b': 20, 'c': 3, 'd': 40}\n```"}
{"text": "You are given a list of cities, each represented by its latitude and longitude. Your task is to find the optimal route for a traveling salesman problem using the nearest neighbor algorithm. The route should minimize the total travel distance, assuming the Earth is a sphere. Use the haversine formula to calculate the distance between cities. Return a list of indices representing the order in which the cities should be visited, starting and ending at the first city.\n\n**Input:**\n- A list of tuples, where each tuple contains two floating-point numbers representing the latitude and longitude of a city.\n\n**Output:**\n- A list of integers representing the indices of cities in the order they should be visited.\n\n**Sample Input:**\n```python\n[(40.7128, -74.0060), (34.0522, -118.2437), (37.7749, -122.4194), (41.8781, -87.6298)]\n```\n\n**Sample Output:**\n```python\n[0, 1, 3, 2, 0]\n```", "response": "```python\nimport math\n\ndef haversine(lat1, lon1, lat2, lon2):\n    \"\"\"\n    Calculate the distance between two points on the Earth given their latitude and longitude.\n    \n    Args:\n    lat1 (float): Latitude of the first point in degrees.\n    lon1 (float): Longitude of the first point in degrees.\n    lat2 (float): Latitude of the second point in degrees.\n    lon2 (float): Longitude of the second point in degrees.\n    \n    Returns:\n    float: Distance between the two points in kilometers.\n    \"\"\"\n    R = 6371.0  # Earth radius in kilometers\n    \n    # Convert latitude and longitude from degrees to radians\n    lat1, lon1, lat2, lon2 = map(math.radians, [lat1, lon1, lat2, lon2])\n    \n    # Haversine formula\n    dlat = lat2 - lat1\n    dlon = lon2 - lon1\n    a = math.sin(dlat / 2)**2 + math.cos(lat1) * math.cos(lat2) * math.sin(dlon / 2)**2\n    c = 2 * math.atan2(math.sqrt(a), math.sqrt(1 - a))\n    \n    return R * c  # Distance in kilometers\n\ndef optimize_route(cities):\n    \"\"\"\n    Find the optimal route for a traveling salesman problem using the nearest neighbor algorithm.\n    \n    Args:\n    cities (list of tuples): List of tuples representing the latitude and longitude of cities.\n    \n    Returns:\n    list: Indices of cities in the order they should be visited, minimizing travel distance.\n    \"\"\"\n    if not cities:\n        return []\n    \n    n = len(cities)\n    visited = [False] * n\n    route = [0]  # Start at the first city\n    visited[0] = True\n    \n    for _ in range(n - 1):\n        last_city = route[-1]\n        nearest_city = None\n        nearest_distance = float('inf')\n        \n        for city_index in range(n):\n            if not visited[city_index]:\n                distance = haversine(cities[last_city][0], cities[last_city][1],\n                                      cities[city_index][0], cities[city_index][1])\n                if distance < nearest_distance:\n                    nearest_city = city_index\n                    nearest_distance = distance\n        \n        route.append(nearest_city)\n        visited[nearest_city] = True\n    \n    # Return to the starting city to close the route\n    route.append(0)\n    return route\n\n# Testing the function with the provided coordinates\ncities = [(40.7128, -74.0060), (34.0522, -118.2437), (37.7749, -122.4194), (41.8781, -87.6298)]\noptimized_route = optimize_route(cities)\nprint(\"Optimized route (city indices):\", optimized_route)\n```"}
{"text": "You are tasked with writing a regular expression to validate URLs. The URLs can optionally start with `http` or `https`. They should not include other protocols such as `ftp`, `mailto`, etc. The regular expression should be case-insensitive. Your solution should include a function `is_valid_url` that takes a string as input and returns `True` if the string is a valid URL according to the specified rules, and `False` otherwise.\n\n**Sample Input:**\n```\nhttp://example.com\nhttps://example.com\nexample.com\nftp://example.com\nmailto:test@example.com\n```\n\n**Sample Output:**\n```\nTrue\nTrue\nTrue\nFalse\nFalse\n```", "response": "```python\nimport re\n\ndef is_valid_url(url):\n    \"\"\"\n    Validates if the given URL is valid according to the specified rules.\n    \n    Args:\n    url (str): The URL to validate.\n    \n    Returns:\n    bool: True if the URL is valid, False otherwise.\n    \"\"\"\n    url_pattern = re.compile(r'^(https?:\\/\\/)?[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}(:\\d+)?(\\/[^\\s]*)?$', re.IGNORECASE)\n    return url_pattern.match(url) is not None\n\n# Test the function\nprint(is_valid_url(\"http://example.com\"))    # True\nprint(is_valid_url(\"https://example.com\"))   # True\nprint(is_valid_url(\"example.com\"))           # True\nprint(is_valid_url(\"ftp://example.com\"))     # False\nprint(is_valid_url(\"mailto:test@example.com\")) # False\n```"}
{"text": "You are given a list of `n` integers, where each integer represents the height of a bar in a histogram. The width of each bar is 1. Your task is to determine the area of the largest rectangle that can be formed within the histogram. \n\n**Input:**\n- The first line contains an integer `n` (1 ≤ n ≤ 10^5), the number of bars in the histogram.\n- The second line contains `n` space-separated integers, each representing the height of a bar in the histogram (1 ≤ height ≤ 10^6).\n\n**Output:**\n- Print a single integer, the area of the largest rectangle that can be formed within the histogram.\n\n**Sample Input:**\n```\n6\n2 1 5 6 2 3\n```\n\n**Sample Output:**\n```\n10\n```", "response": "```python\ndef largest_rectangle_area(heights):\n    \"\"\"\n    Calculate the area of the largest rectangle that can be formed within a histogram.\n\n    :param heights: List of integers representing the heights of the histogram bars.\n    :return: Integer representing the area of the largest rectangle.\n    \"\"\"\n    stack = []\n    max_area = 0\n    index = 0\n\n    while index < len(heights):\n        if not stack or heights[index] >= heights[stack[-1]]:\n            stack.append(index)\n            index += 1\n        else:\n            top_of_stack = stack.pop()\n            area = (heights[top_of_stack] *\n                    ((index - stack[-1] - 1) if stack else index))\n            max_area = max(max_area, area)\n\n    while stack:\n        top_of_stack = stack.pop()\n        area = (heights[top_of_stack] *\n                ((index - stack[-1] - 1) if stack else index))\n        max_area = max(max_area, area)\n\n    return max_area\n\n# Test the function\nhistogram = [2, 1, 5, 6, 2, 3]\nprint(largest_rectangle_area(histogram))  # Output: 10\n```"}
{"text": "You are tasked with implementing a `BankAccount` class in Python to simulate basic banking operations. The class should support the following functionalities:\n\n- **Initialization**: Create a bank account with a specified initial balance.\n- **Deposit**: Add a specified amount to the account balance, provided the amount is positive.\n- **Withdraw**: Subtract a specified amount from the account balance, provided the amount is positive and does not exceed the current balance.\n- **Get Balance**: Retrieve the current balance of the account.\n\nYour implementation should pass the following test cases:\n\n- **Sample Input 1**:\n  - Initialize with balance 100.\n  - Deposit 50.\n  - Withdraw 30.\n  - Get balance.\n- **Sample Output 1**:\n  - 120\n\n- **Sample Input 2**:\n  - Initialize with balance 200.\n  - Deposit -10 (should not change balance).\n  - Withdraw 250 (should not change balance).\n  - Get balance.\n- **Sample Output 2**:\n  - 200", "response": "```python\nclass BankAccount:\n    def __init__(self, initial_balance):\n        \"\"\"\n        Initializes the bank account with a given initial balance.\n        \n        :param initial_balance: The starting balance of the account.\n        \"\"\"\n        self.balance = initial_balance\n    \n    def deposit(self, amount):\n        \"\"\"\n        Deposits a specified amount of money into the account if the amount is positive.\n        \n        :param amount: The amount to deposit.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n    \n    def withdraw(self, amount):\n        \"\"\"\n        Withdraws a specified amount of money from the account if the amount is positive and sufficient funds are available.\n        \n        :param amount: The amount to withdraw.\n        \"\"\"\n        if 0 < amount <= self.balance:\n            self.balance -= amount\n    \n    def get_balance(self):\n        \"\"\"\n        Returns the current balance of the account.\n        \n        :return: The current balance.\n        \"\"\"\n        return self.balance\n```"}
{"text": "You are given a string `s` which may contain any characters, including punctuation and spaces. Your task is to find the longest palindromic substring within `s`. A palindromic substring reads the same forwards and backwards. If there are multiple substrings of the same maximum length, return the one that appears first in the string.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 1000).\n\n**Output:**\n- A single string representing the longest palindromic substring.\n\n**Sample Input:**\n```\nbabad\n```\n\n**Sample Output:**\n```\nbab\n```\n\n**Note:** The output could also be \"aba\" as both are valid longest palindromic substrings.", "response": "```python\ndef longest_palindromic_substring(s: str) -> str:\n    \"\"\"\n    Finds the longest palindromic substring in the given string s.\n    \n    :param s: The input string which may contain any characters.\n    :return: The longest palindromic substring.\n    \"\"\"\n    if not s:\n        return \"\"\n    \n    start, end = 0, 0\n    \n    for i in range(len(s)):\n        len1 = expand_around_center(s, i, i)   # Odd length palindromes\n        len2 = expand_around_center(s, i, i+1) # Even length palindromes\n        max_len = max(len1, len2)\n        \n        if max_len > end - start:\n            start = i - (max_len - 1) // 2\n            end = i + max_len // 2\n            \n    return s[start:end+1]\n\ndef expand_around_center(s: str, left: int, right: int) -> int:\n    \"\"\"\n    Expands around the center indices left and right to find the length of the palindrome.\n    \n    :param s: The input string.\n    :param left: The left index of the center.\n    :param right: The right index of the center.\n    :return: The length of the palindrome.\n    \"\"\"\n    while left >= 0 and right < len(s) and s[left] == s[right]:\n        left -= 1\n        right += 1\n    return right - left - 1\n\n# Example usage:\ninput_string = \"babad\"\nprint(longest_palindromic_substring(input_string))\n```"}
{"text": "You are given a string `text`. Your task is to implement a function `find_palindromes(text)` that identifies all palindromic words within the string. A palindromic word is defined as a sequence of characters that reads the same forwards and backwards, and must be at least three characters long. The function should be case-insensitive and should ignore punctuation.\n\n**Input:**\n- A single string `text` (1 ≤ |text| ≤ 10^4) containing alphanumeric characters, spaces, and punctuation.\n\n**Output:**\n- A list of strings, where each string is a palindromic word found in the input text. The words should be in the order they appear in the text, and duplicates are allowed.\n\n**Sample Input:**\n```\nAnna went to see civic duty, but she saw kayak races!\n```\n\n**Sample Output:**\n```\n['anna', 'civic', 'kayak']\n```", "response": "```python\nimport re\n\ndef find_palindromes(text):\n    \"\"\"\n    Finds all palindromic words in the given text.\n    \n    Parameters:\n    text (str): The input string containing words to be checked for palindromes.\n    \n    Returns:\n    list: A list of palindromic words found in the input text.\n    \"\"\"\n    # Convert to lowercase for case-insensitivity and remove punctuation\n    cleaned_text = re.sub(r'[^a-zA-Z0-9\\s]', '', text).lower()\n    # Split the cleaned text into words\n    words = cleaned_text.split()\n    # Find palindromes with length at least 3\n    palindromes = [word for word in words if len(word) >= 3 and word == word[::-1]]\n    return palindromes\n```"}
{"text": "You are tasked with implementing a `Book` class to manage book information. The class should support the following operations:\n\n1. **Initialization**: Create an instance of the `Book` class with the following attributes:\n   - `title`: A string representing the title of the book.\n   - `author`: A string representing the author of the book.\n   - `year_published`: An integer representing the year the book was published.\n\n2. **Retrieve Book Information**: Implement a method to return a formatted string containing the book's title, author, and year of publication in the format: `\"Title: <title>, Author: <author>, Year: <year_published>\"`.\n\n**Sample Input/Output**:\n- Input: `Book(\"1984\", \"George Orwell\", 1949)`\n- Output: `\"Title: 1984, Author: George Orwell, Year: 1949\"`", "response": "```python\nclass Book:\n    def __init__(self, title: str, author: str, year_published: int):\n        \"\"\"\n        Initialize a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param year_published: The year the book was published.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.year_published = year_published\n\n    def get_book_info(self) -> str:\n        \"\"\"\n        Return a formatted string containing the book's title, author, and year of publication.\n\n        :return: A string in the format \"Title: <title>, Author: <author>, Year: <year_published>\".\n        \"\"\"\n        return f\"Title: {self.title}, Author: {self.author}, Year: {self.year_published}\"\n```"}
{"text": "You are given a string `text` and a list of integers `positions`. Your task is to implement a function `remove_chars_at_positions` that removes characters from `text` at the indices specified in `positions`. The function should return the modified string. Assume that all positions in the list are valid indices within the string and that the list may contain duplicate indices, but only one character should be removed per index.\n\n**Input:**\n- A string `text` (1 ≤ |text| ≤ 10^5)\n- A list of integers `positions` (0 ≤ |positions| ≤ 10^5), where each element is a valid index in `text`\n\n**Output:**\n- A string with characters removed at the specified positions.\n\n**Sample Input:**\n```\ntext = \"hello world\"\npositions = [0, 5, 10]\n```\n\n**Sample Output:**\n```\n\"ello orld\"\n```", "response": "```python\ndef remove_chars_at_positions(text, positions):\n    \"\"\"\n    Removes characters from the string at the specified positions.\n\n    :param text: The original string from which characters will be removed.\n    :param positions: A list of integer positions indicating which characters to remove.\n    :return: A new string with the specified characters removed.\n    \"\"\"\n    positions_set = set(positions)\n    return ''.join(char for idx, char in enumerate(text) if idx not in positions_set)\n\n# Example usage\ntext = \"hello world\"\npositions = [0, 5, 10]\nprint(remove_chars_at_positions(text, positions))  # Output: \"ello orld\"\n```"}
{"text": "You are tasked with implementing a number guessing game. The game involves guessing a randomly selected integer between 1 and 100. The player has a maximum of 10 attempts to guess the correct number. After each guess, the program should provide feedback indicating whether the guess is too high, too low, or correct. If the player guesses the number correctly within the allowed attempts, the program should print a congratulatory message and terminate. If the player exhausts all attempts without guessing the correct number, the program should reveal the correct number and terminate.\n\n**Input:**\n- The player will input their guesses as integers when prompted.\n\n**Output:**\n- The program will output feedback after each guess (\"Too low\", \"Too high\", or \"Congratulations! You've guessed the correct number.\") and the number of attempts remaining.\n- If the player exhausts all attempts without guessing correctly, the program will reveal the correct number.\n\n**Sample Interaction:**\n```\nWelcome to the Number Guessing Game!\nI'm thinking of a number between 1 and 100. You have 10 attempts to guess it.\nEnter your guess: 50\nToo low. Try again.\nAttempts remaining: 9\nEnter your guess: 75\nToo high. Try again.\nAttempts remaining: 8\nEnter your guess: 63\nCongratulations! You've guessed the correct number.\n```", "response": "```python\nimport random\n\ndef number_guessing_game():\n    \"\"\"\n    Implements a number guessing game where the player has to guess a randomly chosen number between 1 and 100.\n    The player has a maximum of 10 attempts. After each guess, feedback is provided indicating whether the guess\n    is too high, too low, or correct. The game ends when the player guesses correctly or exhausts all attempts.\n    \"\"\"\n    number_to_guess = random.randint(1, 100)\n    attempts_left = 10\n\n    print(\"Welcome to the Number Guessing Game!\")\n    print(\"I'm thinking of a number between 1 and 100. You have 10 attempts to guess it.\")\n\n    while attempts_left > 0:\n        try:\n            guess = int(input(\"Enter your guess: \"))\n            \n            if guess == number_to_guess:\n                print(\"Congratulations! You've guessed the correct number.\")\n                break\n            elif guess < number_to_guess:\n                print(\"Too low. Try again.\")\n            else:\n                print(\"Too high. Try again.\")\n            \n            attempts_left -= 1\n            print(f\"Attempts remaining: {attempts_left}\")\n            \n            if attempts_left == 0:\n                print(f\"Game over. The number I was thinking of was {number_to_guess}.\")\n\n        except ValueError:\n            print(\"Invalid input. Please enter a valid integer between 1 and 100.\")\n\nnumber_guessing_game()\n```"}
{"text": "You are given a list of integers `nums` with at least three elements. Your task is to implement a function `find_max_product` that computes the maximum product of any three distinct numbers from the list. \n\n**Input:**\n- A list of integers `nums` (3 ≤ len(nums) ≤ 10^3, -10^3 ≤ nums[i] ≤ 10^3).\n\n**Output:**\n- An integer representing the maximum product of any three numbers from the list.\n\n**Sample Input:**\n```\n[1, 10, 2, 6, 5, 3]\n```\n\n**Sample Output:**\n```\n300\n```", "response": "```python\ndef find_max_product(nums):\n    \"\"\"\n    Computes the maximum product of any three distinct numbers from the list.\n\n    :param nums: List of integers with at least three elements.\n    :return: Integer representing the maximum product of any three numbers.\n    \"\"\"\n    nums.sort()\n    return max(nums[-1] * nums[-2] * nums[-3], nums[0] * nums[1] * nums[-1])\n```"}
{"text": "You are given a temperature value and its unit of measurement. Your task is to implement a function `convert_temperature` that converts the temperature to the other unit of measurement. The function should handle two units: Celsius ('C') and Fahrenheit ('F'). If the unit is not recognized, the function should raise a `ValueError`. Your function should return the converted temperature as a float.\n\n**Input:**\n- The function `convert_temperature` takes two parameters:\n  - `temp`: A float representing the temperature value.\n  - `unit`: A string representing the unit of measurement ('C' for Celsius or 'F' for Fahrenheit).\n\n**Output:**\n- The function should return a float representing the converted temperature.\n- If the unit is not recognized, the function should raise a `ValueError`.\n\n**Sample Input and Output:**\n- `convert_temperature(100, 'C')` should return `212.0`.\n- `convert_temperature(32, 'F')` should return `0.0`.\n- `convert_temperature(212, 'F')` should return `100.0`.\n- `convert_temperature(0, 'C')` should return `32.0`.\n- `convert_temperature(100, 'X')` should raise a `ValueError`.", "response": "```python\ndef convert_temperature(temp, unit):\n    \"\"\"\n    Convert the given temperature from Celsius to Fahrenheit or vice versa.\n\n    Parameters:\n    temp (float): The temperature value to convert.\n    unit (str): The unit of measurement ('C' for Celsius or 'F' for Fahrenheit).\n\n    Returns:\n    float: The converted temperature.\n\n    Raises:\n    ValueError: If the unit is not recognized.\n    \"\"\"\n    if unit == 'C':\n        return (temp * 9/5) + 32\n    elif unit == 'F':\n        return (temp - 32) * 5/9\n    else:\n        raise ValueError(\"Unrecognized unit of measurement. Use 'C' for Celsius or 'F' for Fahrenheit.\")\n```"}
{"text": "You are given a nested dictionary where each value can either be an integer or another dictionary. Your task is to write a function `flatten_nested_dict` that transforms this nested dictionary into a flattened dictionary. The keys in the flattened dictionary should be formed by concatenating the keys from the nested dictionary, separated by underscores. For example, given the nested dictionary `{\"a\": {\"b\": {\"c\": 1}}}`, the function should return `{\"a_b_c\": 1}`.\n\n**Input:**\n- A nested dictionary `d` where each key is a string and each value is either an integer or another dictionary.\n\n**Output:**\n- A flattened dictionary with concatenated keys separated by underscores.\n\n**Sample Input:**\n```python\n{\"a\": {\"b\": {\"c\": 1}}, \"d\": {\"e\": 2, \"f\": {\"g\": 3}}}\n```\n\n**Sample Output:**\n```python\n{'a_b_c': 1, 'd_e': 2, 'd_f_g': 3}\n```", "response": "```python\ndef flatten_nested_dict(d, parent_key='', sep='_'):\n    \"\"\"\n    Flattens a nested dictionary into a single-level dictionary with concatenated keys.\n    \n    :param d: The dictionary to flatten.\n    :param parent_key: The base key string for recursion (used internally).\n    :param sep: The separator to use between keys.\n    :return: A flattened dictionary.\n    \"\"\"\n    items = []\n    for k, v in d.items():\n        new_key = f\"{parent_key}{sep}{k}\" if parent_key else k\n        if isinstance(v, dict):\n            items.extend(flatten_nested_dict(v, new_key, sep=sep).items())\n        else:\n            items.append((new_key, v))\n    return dict(items)\n\n# Test the function\nnested_dict = {\"a\": {\"b\": {\"c\": 1}}, \"d\": {\"e\": 2, \"f\": {\"g\": 3}}}\nflattened_dict = flatten_nested_dict(nested_dict)\nprint(flattened_dict)  # Expected output: {'a_b_c': 1, 'd_e': 2, 'd_f_g': 3}\n```"}
{"text": "You are tasked with implementing a Python class named `FileManager` that supports basic file operations. The class should include the following methods:\n\n- `read_file(file_path)`: This method should read the content of a file located at `file_path` and return the content as a string. If the file does not exist, return `None`. If any other I/O error occurs, print an error message and return `None`.\n- `write_file(file_path, content)`: This method should write the provided `content` to a file located at `file_path`, overwriting any existing content. If an I/O error occurs, print an error message.\n- `append_to_file(file_path, content)`: This method should append the provided `content` to the end of the file located at `file_path`. If the file does not exist, it should be created. If an I/O error occurs, print an error message.\n\n**Sample Input/Output:**\n\nAssume the following sequence of operations:\n1. `write_file('example.txt', 'Hello, world!')`\n2. `read_file('example.txt')` should return `'Hello, world!'`\n3. `append_to_file('example.txt', ' Goodbye, world!')`\n4. `read_file('example.txt')` should return `'Hello, world! Goodbye, world!'`", "response": "```python\nclass FileManager:\n    def read_file(self, file_path):\n        \"\"\"Reads the content of a file and returns it as a string. Returns None if the file does not exist or an error occurs.\"\"\"\n        try:\n            with open(file_path, 'r') as file:\n                return file.read()\n        except FileNotFoundError:\n            print(f\"Error: The file at {file_path} was not found.\")\n            return None\n        except IOError as e:\n            print(f\"An error occurred while reading the file: {e}\")\n            return None\n\n    def write_file(self, file_path, content):\n        \"\"\"Writes the provided content to a file, overwriting any existing content. Prints an error message if an I/O error occurs.\"\"\"\n        try:\n            with open(file_path, 'w') as file:\n                file.write(content)\n        except IOError as e:\n            print(f\"An error occurred while writing to the file: {e}\")\n\n    def append_to_file(self, file_path, content):\n        \"\"\"Appends the provided content to the end of the file, creating the file if it does not exist. Prints an error message if an I/O error occurs.\"\"\"\n        try:\n            with open(file_path, 'a') as file:\n                file.write(content)\n        except IOError as e:\n            print(f\"An error occurred while appending to the file: {e}\")\n```"}
{"text": "You are tasked with implementing a function `convert_to_json(data_structure)` that accepts any data structure (such as lists, dictionaries, tuples, etc.) and returns a JSON-formatted string. The function must handle nested structures and ensure that the JSON string is properly formatted. Your solution should be robust enough to handle various data types and nested levels.\n\n**Sample Input:**\n```python\nsample_dict = {\n    'name': 'Alice',\n    'age': 30,\n    'is_employee': True,\n    'address': {\n        'street': '123 Python Lane',\n        'city': 'Codeville',\n        'zipcode': '12345'\n    },\n    'phone_numbers': ['+1234567890', '+0987654321']\n}\n\nsample_list = [1, 2, 3, (4, 5), {'a': 'b'}, [6, 7]]\n\nsample_tuple = (8, 9, {'c': 'd'}, [10, 11], ('nested', 'tuple'))\n```\n\n**Sample Output:**\n```\nDictionary to JSON:\n{\n    \"name\": \"Alice\",\n    \"age\": 30,\n    \"is_employee\": true,\n    \"address\": {\n        \"street\": \"123 Python Lane\",\n        \"city\": \"Codeville\",\n        \"zipcode\": \"12345\"\n    },\n    \"phone_numbers\": [\n        \"+1234567890\",\n        \"+0987654321\"\n    ]\n}\n\nList to JSON:\n[\n    1,\n    2,\n    3,\n    [\n        4,\n        5\n    ],\n    {\n        \"a\": \"b\"\n    },\n    [\n        6,\n        7\n    ]\n]\n\nTuple to JSON:\n[\n    8,\n    9,\n    {\n        \"c\": \"d\"\n    },\n    [\n        10,\n        11\n    ],\n    [\n        \"nested\",\n        \"tuple\"\n    ]\n]\n```", "response": "```python\nimport json\n\ndef convert_to_json(data_structure):\n    \"\"\"\n    Converts any data structure (list, dict, tuple, etc.) into a JSON-formatted string.\n    \n    :param data_structure: A valid data structure that can be converted to JSON.\n    :return: String representation of the data structure in JSON format.\n    \"\"\"\n    try:\n        return json.dumps(data_structure, indent=4)\n    except (TypeError, ValueError) as e:\n        return f\"Error converting to JSON: {str(e)}\"\n\ndef main():\n    sample_dict = {\n        'name': 'Alice',\n        'age': 30,\n        'is_employee': True,\n        'address': {\n            'street': '123 Python Lane',\n            'city': 'Codeville',\n            'zipcode': '12345'\n        },\n        'phone_numbers': ['+1234567890', '+0987654321']\n    }\n\n    sample_list = [1, 2, 3, (4, 5), {'a': 'b'}, [6, 7]]\n\n    sample_tuple = (8, 9, {'c': 'd'}, [10, 11], ('nested', 'tuple'))\n\n    print(\"Dictionary to JSON:\")\n    print(convert_to_json(sample_dict))\n    print(\"\\nList to JSON:\")\n    print(convert_to_json(sample_list))\n    print(\"\\nTuple to JSON:\")\n    print(convert_to_json(sample_tuple))\n\nif __name__ == \"__main__\":\n    main()\n```"}
{"text": "You are tasked with implementing a class `OrderManager` that manages a collection of orders. The class should support the following operations:\n\n- `add_order(order_id, order_details)`: Adds a new order with a unique `order_id` and `order_details`. If an order with the same `order_id` already exists, it should raise a `ValueError`.\n- `remove_order(order_id)`: Removes an order with the given `order_id`. If the order does not exist, it should raise a `KeyError`.\n- `get_order(order_id)`: Retrieves the `order_details` for an order with the given `order_id`. If the order does not exist, it should raise a `KeyError`.\n- `get_all_orders()`: Returns a dictionary containing all order IDs and their corresponding order details.\n\n**Sample Input/Output:**\n\n```python\nmanager = OrderManager()\nmanager.add_order(1, \"Details of order 1\")\nmanager.add_order(2, \"Details of order 2\")\nprint(manager.get_order(1))  # Output: \"Details of order 1\"\nprint(manager.get_all_orders())  # Output: {1: \"Details of order 1\", 2: \"Details of order 2\"}\nmanager.remove_order(1)\nprint(manager.get_all_orders())  # Output: {2: \"Details of order 2\"}\n```", "response": "```python\nclass OrderManager:\n    def __init__(self):\n        self.orders = {}\n\n    def add_order(self, order_id, order_details):\n        \"\"\"\n        Adds a new order with a unique order_id and order_details.\n        Raises ValueError if an order with the same order_id already exists.\n        \"\"\"\n        if order_id in self.orders:\n            raise ValueError(f\"Order with ID {order_id} already exists.\")\n        self.orders[order_id] = order_details\n\n    def remove_order(self, order_id):\n        \"\"\"\n        Removes an order with the given order_id.\n        Raises KeyError if the order does not exist.\n        \"\"\"\n        if order_id not in self.orders:\n            raise KeyError(f\"Order with ID {order_id} does not exist.\")\n        del self.orders[order_id]\n\n    def get_order(self, order_id):\n        \"\"\"\n        Retrieves the order_details for an order with the given order_id.\n        Raises KeyError if the order does not exist.\n        \"\"\"\n        if order_id not in self.orders:\n            raise KeyError(f\"Order with ID {order_id} does not exist.\")\n        return self.orders[order_id]\n\n    def get_all_orders(self):\n        \"\"\"\n        Returns a dictionary containing all order IDs and their corresponding order details.\n        \"\"\"\n        return self.orders\n```"}
{"text": "Implement a Python class `Hangman` for a simple game where the player attempts to guess a word by suggesting letters. The game randomly selects a word from a given list. The player has a limited number of attempts (6) to guess the word. The class should include the following methods:\n\n- `__init__(self, word_list)`: Initializes the game with a random word from the provided list.\n- `display_state(self)`: Displays the current state of the game, including the guessed letters and remaining attempts.\n- `guess_letter(self, letter)`: Processes a letter guess and updates the game state accordingly. Returns `True` if the game is over (either won or lost), otherwise `False`.\n- `is_game_over(self)`: Returns `True` if the game is over (either won or lost), otherwise `False`.\n\n**Sample Input/Output:**\n\n```\nWord: _ _ _ _ _ _ \nAttempts left: 6\nGuessed letters: \nGuess a letter: p\nCorrect guess!\nWord: p _ _ _ _ _ \nAttempts left: 6\nGuessed letters: p \nGuess a letter: y\nCorrect guess!\nWord: p y _ _ _ _ \nAttempts left: 6\nGuessed letters: p y \nGuess a letter: t\nIncorrect guess.\nWord: p y _ _ _ _ \nAttempts left: 5\nGuessed letters: p t y \nGuess a letter: h\nIncorrect guess.\nWord: p y _ _ _ _ \nAttempts left: 4\nGuessed letters: h p t y \nGuess a letter: o\nCorrect guess!\nWord: p y t h o _ \nAttempts left: 4\nGuessed letters: h o p t y \nGuess a letter: n\nCorrect guess!\nCongratulations! You've won!\n```", "response": "```python\nimport random\n\nclass Hangman:\n    def __init__(self, word_list):\n        \"\"\"\n        Initializes the game with a random word from the provided list.\n        \"\"\"\n        self.word = random.choice(word_list).lower()\n        self.guessed_letters = set()\n        self.remaining_attempts = 6\n        self.current_state = ['_'] * len(self.word)\n    \n    def display_state(self):\n        \"\"\"\n        Displays the current state of the game, including the guessed letters and remaining attempts.\n        \"\"\"\n        print(f\"Word: {' '.join(self.current_state)}\")\n        print(f\"Attempts left: {self.remaining_attempts}\")\n        print(f\"Guessed letters: {' '.join(sorted(self.guessed_letters))}\")\n    \n    def guess_letter(self, letter):\n        \"\"\"\n        Processes a letter guess and updates the game state accordingly.\n        Returns True if the game is over (either won or lost), otherwise False.\n        \"\"\"\n        letter = letter.lower()\n        if len(letter) != 1 or not letter.isalpha():\n            print(\"Please enter a single valid letter.\")\n            return False\n        if letter in self.guessed_letters:\n            print(\"You have already guessed that letter.\")\n            return False\n        \n        self.guessed_letters.add(letter)\n        \n        if letter in self.word:\n            for index, char in enumerate(self.word):\n                if char == letter:\n                    self.current_state[index] = letter\n            print(\"Correct guess!\")\n            \n            if '_' not in self.current_state:\n                self.display_state()\n                print(\"Congratulations! You've won!\")\n                return True\n        else:\n            self.remaining_attempts -= 1\n            print(\"Incorrect guess.\")\n            \n            if self.remaining_attempts == 0:\n                self.display_state()\n                print(f\"Game over! The word was '{self.word}'.\")\n                return True\n        return False\n    \n    def is_game_over(self):\n        \"\"\"\n        Returns True if the game is over (either won or lost), otherwise False.\n        \"\"\"\n        return self.remaining_attempts == 0 or '_' not in self.current_state\n\n# Example usage\nword_list = ['python', 'hangman', 'challenge', 'developer']\ngame = Hangman(word_list)\ngame.display_state()\n\nwhile not game.is_game_over():\n    guess = input(\"Guess a letter: \")\n    game.guess_letter(guess)\n    game.display_state()\n```"}
{"text": "You are tasked with implementing a function `convert_to_json` that serializes a given Python dictionary into a JSON-formatted string. The function must support various data types that can be serialized to JSON, such as nested dictionaries and lists. The output JSON string should be formatted with an indentation of 4 spaces for better readability.\n\n**Input:**\n- A dictionary `data` containing various data types that can be serialized to JSON.\n\n**Output:**\n- A string representing the JSON-formatted version of the input dictionary with an indentation of 4 spaces.\n\n**Sample Input:**\n```python\n{\n    \"name\": \"Jane Smith\",\n    \"age\": 28,\n    \"is_student\": False,\n    \"courses\": [\"Math\", \"Science\"],\n    \"contact\": {\n        \"email\": \"jane.smith@example.com\",\n        \"phone\": \"555-1234\"\n    }\n}\n```\n\n**Sample Output:**\n```json\n{\n    \"name\": \"Jane Smith\",\n    \"age\": 28,\n    \"is_student\": false,\n    \"courses\": [\n        \"Math\",\n        \"Science\"\n    ],\n    \"contact\": {\n        \"email\": \"jane.smith@example.com\",\n        \"phone\": \"555-1234\"\n    }\n}\n```", "response": "```python\nimport json\n\ndef convert_to_json(data):\n    \"\"\"\n    Convert a dictionary to a JSON-formatted string with indentation for readability.\n    \n    Args:\n        data (dict): The dictionary to convert to JSON format.\n    \n    Returns:\n        str: A JSON-formatted string with indentation.\n    \"\"\"\n    return json.dumps(data, indent=4)\n\n# Example usage:\nexample_dict = {\n    \"name\": \"John Doe\",\n    \"age\": 30,\n    \"is_employee\": True,\n    \"skills\": [\"Python\", \"Data Analysis\"],\n    \"address\": {\n        \"street\": \"123 Main St\",\n        \"city\": \"Anytown\",\n        \"state\": \"CA\"\n    }\n}\n\njson_string = convert_to_json(example_dict)\nprint(json_string)\n```"}
{"text": "You are tasked with implementing a `Calculator` class that supports basic arithmetic operations: addition, subtraction, multiplication, and division. The class should maintain a running result that can be cleared or retrieved. Implement the following methods:\n\n- `add(number)`: Adds the given number to the current result.\n- `subtract(number)`: Subtracts the given number from the current result.\n- `multiply(number)`: Multiplies the current result by the given number.\n- `divide(number)`: Divides the current result by the given number. If the divisor is zero, raise a `ValueError` with the message \"Cannot divide by zero.\"\n- `clear()`: Resets the current result to zero.\n- `get_result()`: Returns the current result.\n\n**Sample Input/Output:**\n- Initialize `Calculator`\n- `add(5)` -> Current result: 5\n- `multiply(2)` -> Current result: 10\n- `subtract(3)` -> Current result: 7\n- `divide(2)` -> Current result: 3.5\n- `clear()` -> Current result: 0\n- `get_result()` -> 0", "response": "```python\nclass Calculator:\n    def __init__(self):\n        \"\"\"Initialize the calculator with a result of 0.0.\"\"\"\n        self.result = 0.0\n    \n    def add(self, number):\n        \"\"\"Add a number to the current result.\"\"\"\n        self.result += number\n    \n    def subtract(self, number):\n        \"\"\"Subtract a number from the current result.\"\"\"\n        self.result -= number\n    \n    def multiply(self, number):\n        \"\"\"Multiply the current result by a number.\"\"\"\n        self.result *= number\n    \n    def divide(self, number):\n        \"\"\"Divide the current result by a number, raising an error if the number is zero.\"\"\"\n        if number == 0:\n            raise ValueError(\"Cannot divide by zero.\")\n        self.result /= number\n    \n    def clear(self):\n        \"\"\"Reset the current result to zero.\"\"\"\n        self.result = 0.0\n    \n    def get_result(self):\n        \"\"\"Return the current result.\"\"\"\n        return self.result\n```"}
{"text": "You are given a list of integers `prices` where `prices[i]` is the price of a given stock on the `i-th` day. You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock. Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.\n\n**Constraints:**\n- `1 <= len(prices) <= 10^5`\n- `0 <= prices[i] <= 10^4`\n\n**Sample Input:**\n```\n[7, 1, 5, 3, 6, 4]\n```\n\n**Sample Output:**\n```\n5\n```", "response": "```python\ndef max_profit(prices):\n    \"\"\"\n    Calculate the maximum profit from a single buy and sell transaction.\n\n    :param prices: List of integers representing stock prices on consecutive days.\n    :return: Maximum profit that can be achieved.\n    \"\"\"\n    if not prices:\n        return 0\n\n    min_price = prices[0]\n    max_profit = 0\n\n    for price in prices:\n        if price < min_price:\n            min_price = price\n        elif price - min_price > max_profit:\n            max_profit = price - min_price\n\n    return max_profit\n\n# Example usage:\nprices = [7, 1, 5, 3, 6, 4]\nprint(max_profit(prices))  # Output: 5\n```"}
{"text": "You are tasked with implementing a function `calculate_discount` that computes the final price of an item after applying a specified discount percentage. The function should take two parameters: `price`, representing the original price of the item, and `discount`, representing the discount percentage to be applied. The function should return the discounted price. Ensure that the function handles invalid inputs by raising a `ValueError` if the `price` is negative or if the `discount` is not within the range of 0 to 100 inclusive.\n\n**Sample Input:**\n- `price = 100`, `discount = 20`\n- `price = 50`, `discount = 0`\n- `price = 200`, `discount = 100`\n\n**Sample Output:**\n- `80.0`\n- `50.0`\n- `0.0`", "response": "```python\ndef calculate_discount(price, discount):\n    \"\"\"\n    Calculate the discounted price after applying a given discount percentage to the original price.\n    \n    :param price: Original price of the item (float or int)\n    :param discount: Discount percentage to be applied (float or int)\n    :return: Discounted price after applying the discount (float)\n    :raises ValueError: If price is negative or discount is not between 0 and 100\n    \"\"\"\n    if price < 0:\n        raise ValueError(\"Price cannot be negative\")\n    if not (0 <= discount <= 100):\n        raise ValueError(\"Discount must be between 0 and 100\")\n    \n    discounted_price = price * (1 - discount / 100)\n    return discounted_price\n```"}
{"text": "You are given two strings, `text` and `pattern`. Your task is to implement a function `find_substring_positions` that returns a list of starting indices where the `pattern` is found within the `text`. The function should handle overlapping occurrences of the `pattern` correctly.\n\n**Input:**\n- The first line contains the string `text` (1 ≤ |text| ≤ 10^5).\n- The second line contains the string `pattern` (1 ≤ |pattern| ≤ |text|).\n\n**Output:**\n- A list of integers representing the starting indices of each occurrence of `pattern` in `text`.\n\n**Sample Input:**\n```\nhello world, hello universe\nhello\n```\n\n**Sample Output:**\n```\n[0, 13]\n```", "response": "```python\ndef find_substring_positions(text, pattern):\n    \"\"\"\n    Returns a list of starting indices where the pattern is found in the text.\n    \n    :param text: The string in which to search for the pattern.\n    :param pattern: The string pattern to search for in the text.\n    :return: A list of starting indices of each occurrence of the pattern in the text.\n    \"\"\"\n    positions = []\n    start = 0\n\n    while start <= len(text) - len(pattern):\n        position = text.find(pattern, start)\n        if position != -1:\n            positions.append(position)\n            start = position + 1\n        else:\n            break\n\n    return positions\n\n# Example usage:\ntext = \"hello world, hello universe\"\npattern = \"hello\"\nprint(find_substring_positions(text, pattern))  # Output: [0, 13]\n```"}
{"text": "You are given a list of integers `numbers`. Your task is to implement a function `remove_duplicates` that processes this list and returns a new list containing only the unique elements from the original list, in the order of their first appearance.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers representing the unique elements from the input list, in the order of their first appearance.\n\n**Sample Input:**\n```\n[4, 5, 6, 4, 7, 5, 8, 9, 6]\n```\n\n**Sample Output:**\n```\n[4, 5, 6, 7, 8, 9]\n```", "response": "```python\ndef remove_duplicates(numbers):\n    \"\"\"\n    Removes duplicate elements from the list while preserving the order of their first appearance.\n\n    :param numbers: List of integers from which duplicates need to be removed.\n    :return: A new list containing only the unique elements from the input list.\n    \"\"\"\n    seen = set()\n    unique_numbers = []\n    for number in numbers:\n        if number not in seen:\n            unique_numbers.append(number)\n            seen.add(number)\n    return unique_numbers\n```"}
{"text": "Design a Python class named `Car` to encapsulate the properties and behaviors of a car. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `make`: A string representing the manufacturer of the car (e.g., \"Toyota\", \"Ford\").\n  - `model`: A string representing the model of the car (e.g., \"Camry\", \"Mustang\").\n  - `year`: An integer representing the year the car was manufactured.\n  - `mileage`: An integer representing the current mileage of the car.\n\n- **Methods:**\n  - `drive(distance)`: Increases the mileage of the car by a specified distance. If the distance is negative, raise a `ValueError` with the message \"Distance driven cannot be negative\".\n  - `update_mileage(new_mileage)`: Sets the mileage of the car to a new value. If the new mileage is less than the current mileage, raise a `ValueError` with the message \"Cannot roll back the mileage\".\n  - `get_info()`: Returns a string in the format \"{year} {make} {model} with {mileage} miles\".\n\n**Sample Input/Output:**\n```python\ncar = Car(\"Toyota\", \"Camry\", 2020, 15000)\ncar.drive(500)\nprint(car.get_info())  # Output: \"2020 Toyota Camry with 15500 miles\"\ncar.update_mileage(16000)\nprint(car.get_info())  # Output: \"2020 Toyota Camry with 16000 miles\"\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, mileage):\n        \"\"\"\n        Initializes a new Car instance with the given make, model, year, and mileage.\n        \n        :param make: str - The manufacturer of the car.\n        :param model: str - The model of the car.\n        :param year: int - The year the car was manufactured.\n        :param mileage: int - The current mileage of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.mileage = mileage\n\n    def drive(self, distance):\n        \"\"\"\n        Increases the mileage of the car by the specified distance.\n        \n        :param distance: int - The distance driven.\n        :raises ValueError: If the distance is negative.\n        \"\"\"\n        if distance < 0:\n            raise ValueError(\"Distance driven cannot be negative\")\n        self.mileage += distance\n\n    def update_mileage(self, new_mileage):\n        \"\"\"\n        Sets the mileage of the car to a new value.\n        \n        :param new_mileage: int - The new mileage value.\n        :raises ValueError: If the new mileage is less than the current mileage.\n        \"\"\"\n        if new_mileage < self.mileage:\n            raise ValueError(\"Cannot roll back the mileage\")\n        self.mileage = new_mileage\n\n    def get_info(self):\n        \"\"\"\n        Returns a string containing the car's make, model, year, and mileage.\n        \n        :return: str - The car's information in the format \"{year} {make} {model} with {mileage} miles\".\n        \"\"\"\n        return f\"{self.year} {self.make} {self.model} with {self.mileage} miles\"\n```"}
{"text": "You are given a string `text` consisting of words separated by spaces. Your task is to write a function `most_frequent_word` that identifies and returns the most frequently occurring word in the text. If there is a tie, return the word that appears first in the text. The function should be case-insensitive and ignore punctuation.\n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 10^5) containing words separated by spaces. Words may contain uppercase and lowercase letters and punctuation.\n\n**Output:**\n- A single string representing the most frequently occurring word in the text.\n\n**Sample Input:**\n```\n\"Hello world! This is a test. Hello again, world. Hello, everyone!\"\n```\n\n**Sample Output:**\n```\n\"hello\"\n```", "response": "```python\nimport re\nfrom collections import Counter\n\ndef most_frequent_word(text):\n    \"\"\"\n    Identifies and returns the most frequently occurring word in the given text.\n    If there is a tie, returns the word that appears first in the text.\n    The function is case-insensitive and ignores punctuation.\n\n    :param text: A string containing words separated by spaces.\n    :return: The most frequently occurring word in the text.\n    \"\"\"\n    # Convert the text to lowercase\n    text = text.lower()\n    \n    # Remove punctuation using regex\n    text = re.sub(r'[^\\w\\s]', '', text)\n    \n    # Split text into words\n    words = text.split()\n    \n    # Count the occurrences of each word\n    word_counts = Counter(words)\n    \n    # Find the maximum frequency\n    max_freq = max(word_counts.values())\n    \n    # Find the word(s) with the maximum frequency\n    most_frequent = [word for word, count in word_counts.items() if count == max_freq]\n    \n    # Return the first word with the maximum frequency that appears in the text\n    for word in words:\n        if word in most_frequent:\n            return word\n```"}
{"text": "You are given a string `s` consisting of various characters. Your task is to implement a function `string_to_words` that processes this string and returns a list of words. A word is defined as a contiguous sequence of alphanumeric characters. Any non-alphanumeric character is treated as a separator. The function should ignore leading and trailing whitespace characters in the input string. If the input string is empty or contains only separators, the function should return an empty list.\n\n**Constraints:**\n- The length of the string `s` is between 0 and 10^5 characters.\n- The string `s` may contain uppercase and lowercase letters, digits, and special characters.\n\n**Sample Input 1:**\n```\n\"Hello, World! 123\"\n```\n**Sample Output 1:**\n```\n['Hello', 'World', '123']\n```\n\n**Sample Input 2:**\n```\n\"   Leading and trailing spaces   \"\n```\n**Sample Output 2:**\n```\n['Leading', 'and', 'trailing', 'spaces']\n```\n\n**Sample Input 3:**\n```\n\"!!!\"\n```\n**Sample Output 3:**\n```\n[]\n```", "response": "```python\nimport re\n\ndef string_to_words(input_string):\n    \"\"\"\n    Converts a given string into a list of words, where a word is defined as a sequence of consecutive alphanumeric characters.\n    Ignores leading and trailing whitespace characters and treats any non-alphanumeric character as a separator.\n    \n    :param input_string: The input string to be processed.\n    :return: A list of words extracted from the input string.\n    \"\"\"\n    return re.findall(r'\\b\\w+\\b', input_string.strip())\n```"}
{"text": "You are given a list of strings. Your task is to implement a function that identifies the most frequently occurring string in the list. In the event of a tie, the function should return the string that first achieves the highest frequency. If the list is empty, the function should return `None`.\n\n**Sample Input:**\n```python\n[\"apple\", \"banana\", \"apple\", \"orange\", \"banana\", \"apple\"]\n```\n\n**Sample Output:**\n```python\n\"apple\"\n```\n\n**Sample Input:**\n```python\n[\"cat\", \"dog\", \"cat\", \"dog\", \"elephant\"]\n```\n\n**Sample Output:**\n```python\n\"cat\"\n```\n\n**Sample Input:**\n```python\n[]\n```\n\n**Sample Output:**\n```python\nNone\n```", "response": "```python\ndef most_common_string(strings):\n    \"\"\"\n    Returns the most common string in the list. In case of a tie, returns the first string\n    that reaches the highest frequency. Returns None if the list is empty.\n    \n    :param strings: List of strings\n    :return: Most common string or None if the list is empty\n    \"\"\"\n    if not strings:\n        return None\n\n    counts = {}\n    max_count = 0\n    most_common = None\n    \n    for string in strings:\n        if string not in counts:\n            counts[string] = 0\n        counts[string] += 1\n\n        if counts[string] > max_count:\n            max_count = counts[string]\n            most_common = string\n\n    return most_common\n```"}
{"text": "You are tasked with implementing a function that performs an HTTP GET request to a given URL using the `requests` library in Python. Your function should handle various exceptions that might occur during the request, such as HTTP errors, connection errors, timeouts, and other request-related errors. Your function should return the response text if the request is successful, and print an appropriate error message if an exception occurs.\n\n**Function Signature:**\n```python\ndef make_get_request(url: str) -> str:\n```\n\n**Sample Input:**\n```\nurl = \"https://api.example.com/data\"\n```\n\n**Sample Output:**\n```\n(if successful) JSON data or HTML content from the URL\n(if error) HTTP error occurred: 404 Client Error: Not Found for url: https://api.example.com/data\n```", "response": "```python\nimport requests\n\ndef make_get_request(url: str) -> str:\n    \"\"\"\n    Makes an HTTP GET request to the specified URL and handles potential exceptions.\n\n    Args:\n        url (str): The URL to which the GET request is to be made.\n\n    Returns:\n        str: The response text if the request is successful.\n\n    Prints:\n        Error message if an exception occurs during the request.\n    \"\"\"\n    try:\n        response = requests.get(url)\n        response.raise_for_status()\n        return response.text\n    except requests.exceptions.HTTPError as http_err:\n        print(f'HTTP error occurred: {http_err}')\n    except requests.exceptions.ConnectionError as conn_err:\n        print(f'Connection error occurred: {conn_err}')\n    except requests.exceptions.Timeout as timeout_err:\n        print(f'Timeout error occurred: {timeout_err}')\n    except requests.exceptions.RequestException as req_err:\n        print(f'An error occurred: {req_err}')\n```"}
{"text": "You are given a CSV file named `temperature_data.csv` containing daily temperature readings. Each row in the CSV file consists of two columns: `date` and `temperature` (in Celsius). Your task is to implement a Python function `calculate_average_temperature` that reads this file and computes the average temperature over all entries. Assume the CSV file is correctly formatted and located in the same directory as your script.\n\n**Input Format:**\n- The CSV file `temperature_data.csv` has the following structure:\n  - The first row is the header: `date,temperature`.\n  - Each subsequent row contains a date and a temperature value.\n\n**Output Format:**\n- The function should return a single floating-point number representing the average temperature.\n\n**Sample Input:**\n```\ndate,temperature\n2023-01-01,5.2\n2023-01-02,3.8\n2023-01-03,4.5\n```\n\n**Sample Output:**\n```\n4.5\n```", "response": "```python\nimport csv\n\ndef calculate_average_temperature(file_name=\"temperature_data.csv\"):\n    \"\"\"\n    Calculate the average temperature from a CSV file.\n\n    Args:\n        file_name (str): The name of the CSV file containing temperature data.\n\n    Returns:\n        float: The average temperature over all entries in the CSV file.\n    \"\"\"\n    total_temp = 0.0\n    count = 0\n    \n    with open(file_name, mode='r') as file:\n        reader = csv.DictReader(file)\n        for row in reader:\n            total_temp += float(row['temperature'])\n            count += 1\n            \n    if count == 0:\n        return 0.0  # Handle the case where the CSV is empty or has no data rows\n    \n    return total_temp / count\n\n# Example usage:\n# average = calculate_average_temperature()\n# print(f\"The average temperature is {average}°C\")\n```"}
{"text": "You are tasked with implementing a `Rectangle` class in Python that models a rectangle in a 2D plane. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `width`: A positive number representing the width of the rectangle.\n  - `height`: A positive number representing the height of the rectangle.\n\n- **Methods:**\n  - `area()`: Returns the area of the rectangle.\n  - `perimeter()`: Returns the perimeter of the rectangle.\n  - `scale(factor)`: Scales the rectangle by a given positive factor, multiplying both the width and height by this factor.\n  - `rotate()`: Rotates the rectangle 90 degrees clockwise by swapping its width and height.\n\nThe constructor should validate the input values for `width` and `height`, raising a `ValueError` with the message \"Width and height must be positive numbers.\" if either is non-positive. Similarly, the `scale` method should raise a `ValueError` with the message \"Scale factor must be a positive number.\" if the factor is non-positive.\n\n**Sample Input/Output:**\n- Input: `rect = Rectangle(3, 4)`\n- Output: `rect.area() -> 12`, `rect.perimeter() -> 14`, `rect.scale(2)`, `rect.area() -> 48`, `rect.rotate()`, `rect.width -> 14`, `rect.height -> 24`", "response": "```python\nclass Rectangle:\n    def __init__(self, width, height):\n        \"\"\"\n        Initializes a Rectangle with given width and height.\n        \n        :param width: A positive number representing the width of the rectangle.\n        :param height: A positive number representing the height of the rectangle.\n        :raises ValueError: If width or height is not a positive number.\n        \"\"\"\n        if width <= 0 or height <= 0:\n            raise ValueError(\"Width and height must be positive numbers.\")\n        self.width = width\n        self.height = height\n\n    def area(self):\n        \"\"\"\n        Calculates the area of the rectangle.\n        \n        :return: The area of the rectangle.\n        \"\"\"\n        return self.width * self.height\n\n    def perimeter(self):\n        \"\"\"\n        Calculates the perimeter of the rectangle.\n        \n        :return: The perimeter of the rectangle.\n        \"\"\"\n        return 2 * (self.width + self.height)\n\n    def scale(self, factor):\n        \"\"\"\n        Scales the rectangle by a given factor.\n        \n        :param factor: A positive number representing the scaling factor.\n        :raises ValueError: If the factor is not a positive number.\n        \"\"\"\n        if factor <= 0:\n            raise ValueError(\"Scale factor must be a positive number.\")\n        self.width *= factor\n        self.height *= factor\n\n    def rotate(self):\n        \"\"\"\n        Rotates the rectangle 90 degrees clockwise by swapping its width and height.\n        \"\"\"\n        self.width, self.height = self.height, self.width\n```"}
{"text": "You are given a list of integers `temperatures` where `temperatures[i]` represents the temperature on the `i-th` day in Celsius. Your task is to write a function `daily_temperatures` that returns a list of integers where each element at index `i` indicates the number of days you must wait after the `i-th` day to find a warmer temperature. If no such day exists, the value at that index should be `0`.\n\n**Constraints:**\n- `1 <= len(temperatures) <= 30000`\n- `30 <= temperatures[i] <= 100`\n\n**Sample Input:**\n```\n[73, 74, 75, 71, 69, 72, 76, 73]\n```\n\n**Sample Output:**\n```\n[1, 1, 4, 2, 1, 1, 0, 0]\n```", "response": "```python\ndef daily_temperatures(temperatures):\n    \"\"\"\n    Returns a list where each element at index i indicates the number of days\n    you must wait after the i-th day to find a warmer temperature. If no such\n    day exists, the value at that index is 0.\n    \n    :param temperatures: List[int] - A list of integers representing daily temperatures.\n    :return: List[int] - A list of integers representing the number of days to wait for a warmer temperature.\n    \"\"\"\n    n = len(temperatures)\n    stack = []\n    answer = [0] * n\n    for i in range(n):\n        while stack and temperatures[i] > temperatures[stack[-1]]:\n            prev_i = stack.pop()\n            answer[prev_i] = i - prev_i\n        stack.append(i)\n    return answer\n\n# Test\ntemperatures = [73, 74, 75, 71, 69, 72, 76, 73]\nprint(daily_temperatures(temperatures))  # Output: [1, 1, 4, 2, 1, 1, 0, 0]\n```"}
{"text": "You are tasked with implementing a `BankAccount` class in Python that simulates basic banking operations. The class should support the following functionalities:\n\n- **Initialization**: Create a bank account with an initial balance of 0.0.\n- **Deposit**: Add a specified amount to the account balance. The method should reject non-positive deposit amounts.\n- **Withdraw**: Subtract a specified amount from the account balance if sufficient funds are available. The method should reject non-positive withdrawal amounts and return a message if there are insufficient funds.\n- **Get Balance**: Return the current balance of the account.\n\nYour implementation should pass the following test cases:\n\n- **Sample Input 1**:\n  - Deposit: 100\n  - Deposit: 50\n  - Withdraw: 30\n  - Get Balance\n\n- **Sample Output 1**:\n  - 120.0\n\n- **Sample Input 2**:\n  - Deposit: -10\n  - Withdraw: 20\n  - Get Balance\n\n- **Sample Output 2**:\n  - Deposit amount must be positive.\n  - Insufficient funds. Transaction could not be completed.\n  - 0.0", "response": "```python\nclass BankAccount:\n    def __init__(self):\n        \"\"\"Initialize a bank account with a balance of 0.0.\"\"\"\n        self.balance = 0.0\n\n    def deposit(self, amount):\n        \"\"\"Deposit a specified amount to the account balance.\n        \n        Args:\n            amount (float): The amount to deposit.\n        \n        If the amount is non-positive, a message is printed.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n        else:\n            print(\"Deposit amount must be positive.\")\n\n    def withdraw(self, amount):\n        \"\"\"Withdraw a specified amount from the account balance.\n        \n        Args:\n            amount (float): The amount to withdraw.\n        \n        Returns:\n            str: A message if the withdrawal is unsuccessful due to insufficient funds.\n        \n        If the amount is non-positive, a message is printed.\n        \"\"\"\n        if amount > 0:\n            if self.balance >= amount:\n                self.balance -= amount\n            else:\n                return \"Insufficient funds. Transaction could not be completed.\"\n        else:\n            print(\"Withdrawal amount must be positive.\")\n\n    def get_balance(self):\n        \"\"\"Return the current balance of the account.\n        \n        Returns:\n            float: The current balance.\n        \"\"\"\n        return self.balance\n```"}
{"text": "You are given a task to implement a function that processes a JSON file containing a list of books. Each book is represented as an object with the following attributes: `title`, `author`, `publication_year`, and `isbn`. Your function should read this JSON file, validate its contents, and return a list of book titles sorted by their publication year in ascending order. Your function should handle the following error cases gracefully:\n- The file does not exist.\n- The file contains invalid JSON.\n- The JSON data is not an array of book objects.\n- Any book object is missing one or more required attributes.\n\n**Input:**\n- A string representing the path to the JSON file.\n\n**Output:**\n- A list of strings, where each string is a book title sorted by the book's publication year.\n\n**Sample Input:**\n```json\n[\n    {\"title\": \"Book A\", \"author\": \"Author X\", \"publication_year\": 2001, \"isbn\": \"1234567890\"},\n    {\"title\": \"Book B\", \"author\": \"Author Y\", \"publication_year\": 1999, \"isbn\": \"0987654321\"},\n    {\"title\": \"Book C\", \"author\": \"Author Z\", \"publication_year\": 2005, \"isbn\": \"1122334455\"}\n]\n```\n\n**Sample Output:**\n```\n['Book B', 'Book A', 'Book C']\n```", "response": "```python\nimport json\nimport os\n\ndef get_sorted_titles_by_year(json_file_path):\n    \"\"\"\n    Reads a JSON file containing book information and returns a list of titles sorted by publication year.\n    \n    Parameters:\n    json_file_path (str): The path to the JSON file.\n    \n    Returns:\n    list: A list of book titles sorted by publication year.\n    \"\"\"\n    try:\n        if not os.path.isfile(json_file_path):\n            raise FileNotFoundError(f\"The file {json_file_path} does not exist.\")\n        \n        with open(json_file_path, 'r', encoding='utf-8') as file:\n            books = json.load(file)\n        \n        if not isinstance(books, list):\n            raise ValueError(\"The JSON file does not contain a valid array of book objects.\")\n        \n        for book in books:\n            if not all(key in book for key in ['title', 'author', 'publication_year', 'isbn']):\n                raise ValueError(\"One of the book objects is missing required properties.\")\n        \n        sorted_books = sorted(books, key=lambda x: x['publication_year'])\n        sorted_titles = [book['title'] for book in sorted_books]\n        \n        return sorted_titles\n    \n    except FileNotFoundError as fnf_error:\n        print(fnf_error)\n    except json.JSONDecodeError:\n        print(\"Error decoding JSON.\")\n    except ValueError as ve:\n        print(ve)\n```"}
{"text": "You are given a binary tree where each node contains an integer value. Your task is to compute the sum of all node values in the tree using a recursive approach. The tree is defined by its root node, and each node has pointers to its left and right children. If a node does not have a left or right child, the corresponding pointer is `None`.\n\n**Input:**\n- The root of a binary tree.\n\n**Output:**\n- An integer representing the sum of all node values in the tree.\n\n**Sample Input:**\n```\n       1\n      / \\\n     2   3\n    / \\\n   4   5\n```\n\n**Sample Output:**\n```\n15\n```", "response": "```python\nclass TreeNode:\n    def __init__(self, value=0, left=None, right=None):\n        self.value = value\n        self.left = left\n        self.right = right\n\ndef sum_of_all_nodes(root):\n    \"\"\"\n    Recursively calculates the sum of all node values in a binary tree.\n\n    :param root: TreeNode, the root of the binary tree\n    :return: int, the sum of all node values in the tree\n    \"\"\"\n    if root is None:\n        return 0\n    \n    return root.value + sum_of_all_nodes(root.left) + sum_of_all_nodes(root.right)\n\n# Example usage:\n# Constructing a simple binary tree:\n#       1\n#      / \\\n#     2   3\n#    / \\\n#   4   5\n\nroot = TreeNode(1)\nroot.left = TreeNode(2, TreeNode(4), TreeNode(5))\nroot.right = TreeNode(3)\n\nprint(sum_of_all_nodes(root))  # Output should be 15\n```"}
{"text": "You are given a Cartesian coordinate system with a point defined by its x and y coordinates. Your task is to write a function `convert_to_polar` that computes and returns the polar coordinates (radius and angle in radians) of the given point. The function should accept a tuple of two integers or floats representing the Cartesian coordinates and return a tuple of two floats representing the polar coordinates.\n\n**Input:**\n- A tuple `(x, y)` where `x` and `y` are the Cartesian coordinates of the point.\n\n**Output:**\n- A tuple `(radius, angle)` where `radius` is the distance from the origin to the point, and `angle` is the angle in radians between the positive x-axis and the line connecting the origin to the point.\n\n**Sample Input:**\n- `(3, 4)`\n\n**Sample Output:**\n- `(5.0, 0.9272952180016122)`", "response": "```python\nimport math\n\ndef convert_to_polar(cartesian_coords):\n    \"\"\"\n    Convert Cartesian coordinates to polar coordinates.\n\n    Parameters:\n    cartesian_coords (tuple): A tuple of two numbers (x, y) representing the Cartesian coordinates.\n\n    Returns:\n    tuple: A tuple of two numbers (radius, angle) representing the polar coordinates.\n    \"\"\"\n    x, y = cartesian_coords\n    radius = math.sqrt(x**2 + y**2)\n    angle = math.atan2(y, x)\n    return (radius, angle)\n```"}
{"text": "You are given a string `text` containing a mix of text and email addresses. Your task is to write a Python function `extract_email_addresses` that extracts all unique email addresses from the string. An email address is defined as a sequence of characters that match the pattern `name@domain.com`. The function should return a list of unique email addresses in the order they first appear in the text.\n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 10^4) containing alphanumeric characters, spaces, and punctuation.\n\n**Output:**\n- A list of unique email addresses found in the string.\n\n**Sample Input:**\n```\nPlease contact us at support@example.com or sales@example.com or support@example.com\n```\n\n**Sample Output:**\n```\n['support@example.com', 'sales@example.com']\n```", "response": "```python\nimport re\n\ndef extract_email_addresses(text):\n    \"\"\"\n    Extracts all unique email addresses from the given text.\n\n    Parameters:\n    text (str): The input string containing text and email addresses.\n\n    Returns:\n    list: A list of unique email addresses found in the text.\n    \"\"\"\n    # Regular expression pattern for matching an email address\n    email_pattern = r'\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,7}\\b'\n    \n    # Find all matches in the input text\n    emails = re.findall(email_pattern, text)\n    \n    # Use an ordered dictionary to maintain the order of first appearance and ensure uniqueness\n    from collections import OrderedDict\n    unique_emails = list(OrderedDict.fromkeys(emails))\n    \n    return unique_emails\n\n# Example usage\ntext = \"Please contact us at support@example.com or sales@example.com or support@example.com\"\nprint(extract_email_addresses(text))\n```"}
{"text": "You are tasked with implementing a function `classify_sentiment(text)` that leverages the `TextBlob` library to analyze the sentiment of a provided text string. The function should categorize the sentiment as \"positive\", \"negative\", or \"neutral\" based on the polarity score. The polarity score is a float within the range [-1.0, 1.0], where negative values indicate negative sentiment, positive values indicate positive sentiment, and a value of 0 indicates neutral sentiment.\n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 1000) representing the text to be analyzed.\n\n**Output:**\n- A string representing the sentiment of the text, which can be \"positive\", \"negative\", or \"neutral\".\n\n**Sample Input:**\n```\n\"TextBlob is amazingly simple to use. What great fun!\"\n```\n\n**Sample Output:**\n```\n\"positive\"\n```\n\n**Sample Input:**\n```\n\"I do not like this product at all.\"\n```\n\n**Sample Output:**\n```\n\"negative\"\n```\n\n**Sample Input:**\n```\n\"This is an average sentence.\"\n```\n\n**Sample Output:**\n```\n\"neutral\"\n```", "response": "```python\nfrom textblob import TextBlob\n\ndef classify_sentiment(text):\n    \"\"\"\n    Classifies the sentiment of a given text as positive, negative, or neutral.\n    \n    Parameters:\n    text (str): The text to analyze for sentiment.\n    \n    Returns:\n    str: The sentiment of the text, which can be \"positive\", \"negative\", or \"neutral\".\n    \"\"\"\n    blob = TextBlob(text)\n    sentiment_polarity = blob.sentiment.polarity\n    \n    if sentiment_polarity > 0:\n        return \"positive\"\n    elif sentiment_polarity < 0:\n        return \"negative\"\n    else:\n        return \"neutral\"\n```"}
{"text": "Implement a Python class named `Book` with the following attributes: `title`, `author`, `publisher`, `year`, and `isbn`. The class should include an initializer method to set these attributes and a method `display_info` that prints the book's details in the specified format. Your program should also include a `main` function that creates an instance of the `Book` class using the provided sample input and calls the `display_info` method to display the book's information.\n\n**Sample Input:**\n- Title: \"The Great Gatsby\"\n- Author: \"F. Scott Fitzgerald\"\n- Publisher: \"Charles Scribner's Sons\"\n- Year: 1925\n- ISBN: \"9780743273565\"\n\n**Sample Output:**\n```\nTitle: The Great Gatsby\nAuthor: F. Scott Fitzgerald\nPublisher: Charles Scribner's Sons\nYear: 1925\nISBN: 9780743273565\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, publisher, year, isbn):\n        \"\"\"\n        Initializes a new instance of the Book class with the given attributes.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param publisher: The publisher of the book.\n        :param year: The year the book was published.\n        :param isbn: The ISBN number of the book.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.publisher = publisher\n        self.year = year\n        self.isbn = isbn\n\n    def display_info(self):\n        \"\"\"\n        Prints the book's information in a formatted manner.\n        \"\"\"\n        print(f\"Title: {self.title}\")\n        print(f\"Author: {self.author}\")\n        print(f\"Publisher: {self.publisher}\")\n        print(f\"Year: {self.year}\")\n        print(f\"ISBN: {self.isbn}\")\n\ndef main():\n    \"\"\"\n    Creates an instance of the Book class with sample data and displays its information.\n    \"\"\"\n    book = Book(\"The Great Gatsby\", \"F. Scott Fitzgerald\", \"Charles Scribner's Sons\", 1925, \"9780743273565\")\n    book.display_info()\n\nif __name__ == \"__main__\":\n    main()\n```"}
{"text": "You are tasked with writing a Python script that processes a CSV file containing employee data. The CSV file has the following structure: `Employee ID,Employee Name,Department,Salary`. Your script should read this file and output a formatted table with the following columns: `Employee Name`, `Department`, and `Salary`. The script should prompt the user to input the path to the CSV file. If the file does not exist, the script should output an error message and terminate.\n\n**Sample Input:**\n```\nPlease enter the path to the CSV file: employees.csv\n```\n\n**Sample CSV File (`employees.csv`):**\n```\nEmployee ID,Employee Name,Department,Salary\n1,John Doe,Engineering,75000\n2,Jane Smith,Marketing,65000\n3,Bob Johnson,Sales,60000\n```\n\n**Sample Output:**\n```\nEmployee Name        Department         Salary  \n==================================================\nJohn Doe             Engineering        75000   \nJane Smith           Marketing          65000   \nBob Johnson          Sales              60000   \n```\n\n**Error Case Sample Input:**\n```\nPlease enter the path to the CSV file: non_existent_file.csv\n```\n\n**Error Case Sample Output:**\n```\nError: The file was not found.\n```", "response": "```python\nimport csv\nimport os\n\ndef print_employee_data(file_path):\n    \"\"\"\n    Reads a CSV file and prints a formatted table of employee data.\n\n    Parameters:\n    file_path (str): The path to the CSV file containing employee data.\n    \"\"\"\n    try:\n        with open(file_path, mode='r', newline='') as file:\n            reader = csv.DictReader(file)\n            print(\"{:<20} {:<20} {:<10}\".format('Employee Name', 'Department', 'Salary'))\n            print(\"=\"*50)\n            for row in reader:\n                print(\"{:<20} {:<20} {:<10}\".format(row['Employee Name'], row['Department'], row['Salary']))\n    except FileNotFoundError:\n        print(\"Error: The file was not found.\")\n\ndef main():\n    \"\"\"\n    Prompts the user for the path to a CSV file and prints the employee data if the file exists.\n    \"\"\"\n    file_path = input(\"Please enter the path to the CSV file: \")\n    if not os.path.isfile(file_path):\n        print(\"Error: The file was not found.\")\n        return\n    print_employee_data(file_path)\n\nif __name__ == \"__main__\":\n    main()\n```"}
{"text": "You are given a list of strings `words`. For each string in the list, determine the longest substring that is a palindrome. A palindrome is a string that reads the same backward as forward. If there are multiple longest palindromic substrings of the same length, return any one of them. Your task is to return a list of tuples, where each tuple contains the original string and its longest palindromic substring.\n\n**Input:**\n- A list of strings `words` (1 ≤ len(words) ≤ 100), where each string consists of lowercase English letters and has a length between 1 and 1000.\n\n**Output:**\n- A list of tuples, where each tuple contains the original string and its longest palindromic substring.\n\n**Sample Input:**\n```python\n['racecar', 'banana', 'civic']\n```\n\n**Sample Output:**\n```python\n[('racecar', 'racecar'), ('banana', 'anana'), ('civic', 'civic')]\n```", "response": "```python\ndef longest_palindrome_substring(words):\n    \"\"\"\n    Finds the longest palindromic substring for each string in the list.\n\n    :param words: List of strings to process.\n    :return: List of tuples, each containing the original string and its longest palindromic substring.\n    \"\"\"\n    def expand_around_center(s, left, right):\n        \"\"\"\n        Expands around the center to find the longest palindrome centered at left and right.\n\n        :param s: The string to search within.\n        :param left: The left index of the center.\n        :param right: The right index of the center.\n        :return: The longest palindromic substring centered at left and right.\n        \"\"\"\n        while left >= 0 and right < len(s) and s[left] == s[right]:\n            left -= 1\n            right += 1\n        return s[left + 1:right]\n    \n    def find_longest_palindrome(s):\n        \"\"\"\n        Finds the longest palindromic substring in the given string.\n\n        :param s: The string to search within.\n        :return: The longest palindromic substring.\n        \"\"\"\n        longest = \"\"\n        for i in range(len(s)):\n            # Odd length palindromes\n            palindrome1 = expand_around_center(s, i, i)\n            # Even length palindromes\n            palindrome2 = expand_around_center(s, i, i + 1)\n            \n            # Update longest palindrome found\n            if len(palindrome1) > len(longest):\n                longest = palindrome1\n            if len(palindrome2) > len(longest):\n                longest = palindrome2\n        return longest\n    \n    return [(word, find_longest_palindrome(word)) for word in words]\n\n# Example usage\nwords = ['racecar', 'banana', 'civic']\nprint(longest_palindrome_substring(words))  # Output: [('racecar', 'racecar'), ('banana', 'anana'), ('civic', 'civic')]\n```"}
{"text": "You are tasked with implementing a function `calculate_net_income` that computes the net income after applying deductions and taxes based on specified tax brackets. The function takes three parameters:\n- `gross_income`: A float representing the total income.\n- `deductions`: A list of floats representing all the deductions.\n- `tax_brackets`: A list of tuples, where each tuple contains a tax rate (as a float) and the upper limit of the income bracket (as a float). If the upper limit is `None`, it indicates that the bracket applies to all income above the previous bracket's limit.\n\nYour function should return the net income after deductions and taxes have been applied.\n\n**Sample Input:**\n- `gross_income = 50000`\n- `deductions = [5000]`\n- `tax_brackets = [(0.1, 10000), (0.2, 30000), (0.3, None)]`\n\n**Sample Output:**\n- `38000.0`", "response": "```python\ndef calculate_net_income(gross_income, deductions, tax_brackets):\n    \"\"\"\n    Calculate the net income after applying deductions and taxes based on specified tax brackets.\n\n    Parameters:\n    gross_income (float): Total income.\n    deductions (list of float): List of deductions.\n    tax_brackets (list of tuple): List of tax brackets, each a tuple of (tax rate, upper limit).\n\n    Returns:\n    float: Net income after deductions and taxes.\n    \"\"\"\n    taxable_income = gross_income - sum(deductions)\n    tax_amount = 0.0\n    remaining_income = taxable_income\n\n    for rate, limit in tax_brackets:\n        if limit is None or remaining_income <= limit:\n            tax_amount += remaining_income * rate\n            break\n        else:\n            prev_limit = 0 if tax_brackets.index((rate, limit)) == 0 else tax_brackets[tax_brackets.index((rate, limit)) - 1][1]\n            tax_amount += (limit - prev_limit) * rate\n            remaining_income -= (limit - prev_limit)\n\n    net_income = taxable_income - tax_amount\n    return net_income\n\n# Example usage:\ngross_income = 50000\ndeductions = [5000]\ntax_brackets = [(0.1, 10000), (0.2, 30000), (0.3, None)]\nprint(calculate_net_income(gross_income, deductions, tax_brackets))  # Output: 38000.0\n```"}
{"text": "You are given a positive integer `n`. Your task is to write a function `sum_of_squares(n)` that computes the sum of the squares of all integers from 1 to `n` (inclusive). Implement this function using list comprehension. Your function should be efficient and concise.\n\n**Input:**\n- A single integer `n` (1 ≤ n ≤ 10^4).\n\n**Output:**\n- An integer representing the sum of squares from 1 to `n`.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef sum_of_squares(n):\n    \"\"\"\n    Calculate the sum of squares of all numbers from 1 to n (inclusive).\n\n    Parameters:\n    n (int): The upper limit integer up to which squares are summed.\n\n    Returns:\n    int: The sum of squares of all numbers from 1 to n.\n    \"\"\"\n    return sum([i**2 for i in range(1, n+1)])\n```"}
{"text": "You are given a text file containing lowercase words separated by spaces. Your task is to write a program that reads the file, counts the frequency of each word, and prints the words along with their frequencies in descending order of frequency. If two words have the same frequency, they should be printed in the order they first appear in the file.\n\n**Input:**\n- The first line of input is the path to the text file.\n\n**Output:**\n- For each unique word in the file, print the word followed by its frequency, separated by a colon and a space, in descending order of frequency.\n\n**Sample Input:**\n```\n/sample.txt\n```\n**Content of sample.txt:**\n```\napple banana apple orange banana apple\n```\n\n**Sample Output:**\n```\napple: 3\nbanana: 2\norange: 1\n```", "response": "```python\nfrom collections import Counter\n\ndef count_word_frequencies(file_path):\n    \"\"\"\n    Reads a text file, counts the frequency of each word, and prints the word frequencies\n    in descending order of frequency.\n\n    :param file_path: str, the path to the text file\n    \"\"\"\n    with open(file_path, 'r') as file:\n        text = file.read()\n    \n    words = text.split()\n    word_count = Counter(words)\n    \n    sorted_word_count = word_count.most_common()\n    \n    for word, count in sorted_word_count:\n        print(f'{word}: {count}')\n\n# Usage\ncount_word_frequencies('/sample.txt')\n```"}
{"text": "You are given a nested list structure containing integers and other lists. Your task is to write a function `flatten_list(nested_list)` that recursively flattens this structure into a single list of integers. The function should be able to handle lists of varying nesting levels.\n\n**Input:**\n- A nested list `nested_list` containing integers and other lists.\n\n**Output:**\n- A single flattened list of integers.\n\n**Sample Input:**\n```python\n[1, [2, [3, 4], 5], 6, [7, 8]]\n```\n\n**Sample Output:**\n```python\n[1, 2, 3, 4, 5, 6, 7, 8]\n```", "response": "```python\ndef flatten_list(nested_list):\n    \"\"\"\n    Recursively flattens a nested list into a single list of integers.\n    \n    Args:\n        nested_list (list): The nested list to be flattened.\n\n    Returns:\n        list: A single flattened list of integers.\n    \"\"\"\n    flattened = []\n    \n    for item in nested_list:\n        if isinstance(item, list):\n            flattened.extend(flatten_list(item))\n        else:\n            flattened.append(item)\n    \n    return flattened\n```"}
{"text": "You are given a list of integers. Your task is to write a function `square_numbers` that takes this list as input and returns a new list containing the squares of the original integers. You must implement this function using a list comprehension.\n\n**Sample Input:**\n```python\n[1, 2, 3, 4, 5]\n```\n\n**Sample Output:**\n```python\n[1, 4, 9, 16, 25]\n```", "response": "```python\ndef square_numbers(numbers):\n    \"\"\"\n    Returns a list of squares of the given list of integers.\n\n    :param numbers: List of integers\n    :return: List of integers where each integer is the square of the corresponding integer in the input list\n    \"\"\"\n    return [number ** 2 for number in numbers]\n```"}
{"text": "In a graphics programming competition, you are tasked with creating a function to generate random colors for a digital art project. Implement a Python function `generate_random_color` that returns a random color in the RGB color model as a tuple of three integers, each ranging from 0 to 255. Use the `random` module to generate these integers. Your function should be able to produce different colors each time it is called.\n\n**Sample Input:**\n```\n# No input is required for this function.\n```\n\n**Sample Output:**\n```\n(123, 45, 67)  # Example output; actual output may vary.\n```", "response": "```python\nimport random\n\ndef generate_random_color():\n    \"\"\"\n    Generates a random color in the RGB color model.\n\n    Returns:\n        tuple: A tuple of three integers representing the RGB values, each ranging from 0 to 255.\n    \"\"\"\n    red = random.randint(0, 255)\n    green = random.randint(0, 255)\n    blue = random.randint(0, 255)\n    return (red, green, blue)\n```"}
{"text": "You are given a binary tree. Your task is to perform a level-order traversal (breadth-first traversal) of the tree and return the result as a list of lists. Each inner list should contain the values of the nodes at that level of the tree.\n\n**Input:**\n- The input is a binary tree represented by its root node. Each node in the tree is defined by its value and pointers to its left and right children.\n\n**Output:**\n- Return a list of lists, where each inner list contains the values of the nodes at that level of the tree.\n\n**Sample Input:**\n```\n    3\n   / \\\n  9  20\n    /  \\\n   15   7\n```\n\n**Sample Output:**\n```\n[\n  [3],\n  [9, 20],\n  [15, 7]\n]\n```", "response": "```python\nfrom collections import deque\n\nclass TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\ndef level_order_traversal(root):\n    \"\"\"\n    Perform a level-order traversal of a binary tree and return the result as a list of lists.\n    \n    :param root: TreeNode, the root of the binary tree\n    :return: List[List[int]], a list of lists where each inner list contains the values of the nodes at that level\n    \"\"\"\n    if not root:\n        return []\n    \n    result = []\n    queue = deque([root])\n    \n    while queue:\n        level_size = len(queue)\n        current_level = []\n        \n        for _ in range(level_size):\n            node = queue.popleft()\n            current_level.append(node.val)\n            \n            if node.left:\n                queue.append(node.left)\n            if node.right:\n                queue.append(node.right)\n                \n        result.append(current_level)\n    \n    return result\n```"}
{"text": "You are given a string `s`. Your task is to implement a function `check_palindrome` that determines whether the string is a palindrome, ignoring spaces and case sensitivity. A string is considered a palindrome if it reads the same forwards and backwards. Your function should return `True` if the string is a palindrome and `False` otherwise.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 1000), consisting of uppercase and lowercase letters and spaces.\n\n**Output:**\n- Return `True` if the string is a palindrome, `False` otherwise.\n\n**Sample Input 1:**\n```\nA man a plan a canal Panama\n```\n**Sample Output 1:**\n```\nTrue\n```\n\n**Sample Input 2:**\n```\nWas it a car or a cat I saw\n```\n**Sample Output 2:**\n```\nTrue\n```\n\n**Sample Input 3:**\n```\nHello World\n```\n**Sample Output 3:**\n```\nFalse\n```", "response": "```python\ndef check_palindrome(s):\n    \"\"\"\n    Determines if the given string is a palindrome, ignoring spaces and case sensitivity.\n\n    :param s: The input string to check.\n    :return: True if the string is a palindrome, False otherwise.\n    \"\"\"\n    # Remove spaces and convert to lowercase\n    cleaned_string = s.replace(\" \", \"\").lower()\n    \n    # Check if the cleaned string is equal to its reverse\n    return cleaned_string == cleaned_string[::-1]\n```"}
{"text": "You are given a list of dictionaries and a key. Your task is to implement a function `sort_by_key` that sorts the list of dictionaries based on the values associated with the given key. If a dictionary does not contain the key, it should be treated as having a value of `None`. In cases where the values for the key are of mixed types (e.g., integers and strings), convert all values to strings before sorting. The function should return a new list of dictionaries sorted by the specified key.\n\n**Input:**\n- A list of dictionaries `dict_list`.\n- A string `key` representing the key to sort by.\n\n**Output:**\n- A new list of dictionaries sorted by the specified key.\n\n**Sample Input:**\n```python\ndict_list = [{'name': 'Alice', 'age': 30}, {'name': 'Bob'}, {'name': 'Charlie', 'age': 25}]\nkey = 'age'\n```\n\n**Sample Output:**\n```python\n[{'name': 'Bob'}, {'name': 'Charlie', 'age': 25}, {'name': 'Alice', 'age': 30}]\n```", "response": "```python\ndef sort_by_key(dict_list, key):\n    \"\"\"\n    Sorts a list of dictionaries by a specified key. If the key does not exist in a dictionary,\n    it is treated as having a value of None. Values are converted to strings before sorting.\n\n    :param dict_list: List of dictionaries to sort.\n    :param key: The key to sort the dictionaries by.\n    :return: A new list of dictionaries sorted by the specified key.\n    \"\"\"\n    return sorted(dict_list, key=lambda x: str(x.get(key, None)))\n```"}
{"text": "You are given a positive integer `n`. Your task is to write a function that generates the first `n` terms of the Fibonacci sequence. The Fibonacci sequence is defined as follows: the first term is 0, the second term is 1, and each subsequent term is the sum of the two preceding ones. Your function should return the sequence as a list.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 50)\n\n**Output:**\n- A list containing the first `n` terms of the Fibonacci sequence.\n\n**Sample Input:**\n```\n7\n```\n\n**Sample Output:**\n```\n[0, 1, 1, 2, 3, 5, 8]\n```", "response": "```python\ndef generate_fibonacci(n_terms):\n    \"\"\"\n    Generate the first n_terms of the Fibonacci sequence.\n\n    Parameters:\n    n_terms (int): The number of terms in the Fibonacci sequence to generate.\n\n    Returns:\n    list: A list containing the first n_terms of the Fibonacci sequence.\n    \"\"\"\n    if n_terms <= 0:\n        return []\n    elif n_terms == 1:\n        return [0]\n    elif n_terms == 2:\n        return [0, 1]\n    \n    fib_sequence = [0, 1]\n    for _ in range(2, n_terms):\n        next_term = fib_sequence[-1] + fib_sequence[-2]\n        fib_sequence.append(next_term)\n    \n    return fib_sequence\n\n# Example usage:\n# print(generate_fibonacci(7))  # Output: [0, 1, 1, 2, 3, 5, 8]\n```"}
{"text": "You are given a list of strings representing email addresses. Your task is to implement a function `filter_emails` that filters out the invalid email addresses from the list. An email address is considered valid if it adheres to the following format: `local-part@domain`. The `local-part` and `domain` must consist solely of alphanumeric characters, dots, hyphens, and underscores. Additionally, the `domain` must contain at least one dot, and the top-level domain must be at least two characters long.\n\n**Input:**\n- A list of strings, where each string is an email address.\n\n**Output:**\n- A list of strings, containing only the valid email addresses from the input list.\n\n**Sample Input:**\n```python\n[\"example@test.com\", \"invalid-email@com\", \"user@domain.co\", \"user.name+tag+sorting@example.com\", \"user@domain..com\", \"user@domain.c\"]\n```\n\n**Sample Output:**\n```python\n[\"example@test.com\", \"user@domain.co\"]\n```", "response": "```python\nimport re\n\ndef filter_emails(email_list):\n    \"\"\"\n    Filters out invalid email addresses from the given list.\n    \n    Parameters:\n    email_list (list of str): A list of email addresses.\n    \n    Returns:\n    list of str: A list containing only the valid email addresses.\n    \"\"\"\n    # Regular expression for validating an email\n    email_pattern = re.compile(\n        r\"^[a-zA-Z0-9._-]+\"  # local part: alphanumeric, dots, hyphens, and underscores\n        r\"@\"                # the \"@\" symbol\n        r\"[a-zA-Z0-9.-]+\"   # domain: alphanumeric, dots, and hyphens\n        r\"\\.\"               # the dot before the top-level domain\n        r\"[a-zA-Z]{2,}$\"    # top-level domain: at least two characters long\n    )\n    \n    # Filter the list of emails using the pattern\n    valid_emails = [email for email in email_list if email_pattern.match(email)]\n    \n    return valid_emails\n\n# Test the function with the provided list\nemails = [\"example@test.com\", \"invalid-email@com\", \"user@domain.co\", \"user.name+tag+sorting@example.com\", \"user@domain..com\", \"user@domain.c\"]\nprint(filter_emails(emails))\n```"}
{"text": "You are given a CSV file named `students.csv` that contains information about students, including their names, grades, and attendance records. Your task is to write a Python program that calculates the average grade for each student and outputs the results in a new CSV file named `averages.csv`. The input CSV file has the following columns: `Name`, `Grade1`, `Grade2`, `Grade3`, and `Attendance`. The output CSV file should have two columns: `Name` and `AverageGrade`.\n\n**Sample Input (students.csv):**\n```\nName,Grade1,Grade2,Grade3,Attendance\nAlice,85,90,88,95%\nBob,78,82,80,90%\nCharlie,92,95,91,98%\n```\n\n**Sample Output (averages.csv):**\n```\nName,AverageGrade\nAlice,87.66666666666667\nBob,80.0\nCharlie,92.66666666666667\n```", "response": "```python\nimport csv\n\ndef calculate_average_grades(input_filename, output_filename):\n    \"\"\"\n    Reads a CSV file containing student grades, calculates the average grade for each student,\n    and writes the results to a new CSV file.\n\n    :param input_filename: str, the name of the input CSV file.\n    :param output_filename: str, the name of the output CSV file.\n    \"\"\"\n    student_grades = {}\n\n    with open(input_filename, newline='') as csvfile:\n        reader = csv.DictReader(csvfile)\n        for row in reader:\n            name = row['Name']\n            grades = [float(row['Grade1']), float(row['Grade2']), float(row['Grade3'])]\n            average_grade = sum(grades) / len(grades)\n            student_grades[name] = average_grade\n\n    with open(output_filename, 'w', newline='') as csvfile:\n        fieldnames = ['Name', 'AverageGrade']\n        writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n        writer.writeheader()\n        for name, average_grade in student_grades.items():\n            writer.writerow({'Name': name, 'AverageGrade': average_grade})\n\n# Example usage:\n# Assuming students.csv has the required data\ncalculate_average_grades('students.csv', 'averages.csv')\n```"}
{"text": "You are given an array `prices` of length `n`, where `prices[i]` is the price of a given stock on the `i-th` day. You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock. Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.\n\n**Constraints:**\n- `1 <= n <= 10^5`\n- `0 <= prices[i] <= 10^4`\n\n**Sample Input:**\n```\n[7, 1, 5, 3, 6, 4]\n```\n\n**Sample Output:**\n```\n5\n```\n\n**Explanation:**\nBuy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.", "response": "```python\ndef max_profit(prices):\n    \"\"\"\n    Calculate the maximum profit from a single buy and sell transaction.\n\n    :param prices: List[int] - A list of integers representing the stock prices.\n    :return: int - The maximum profit that can be achieved.\n    \"\"\"\n    if not prices:\n        return 0\n    \n    min_price = prices[0]\n    max_profit = 0\n    \n    for price in prices:\n        if price < min_price:\n            min_price = price\n        else:\n            potential_profit = price - min_price\n            if potential_profit > max_profit:\n                max_profit = potential_profit\n                \n    return max_profit\n```"}
{"text": "You are given an undirected graph represented as an adjacency list. Your task is to determine if the graph is bipartite. A graph is bipartite if its vertices can be divided into two disjoint sets such that no two graph vertices within the same set are adjacent. Implement a function `is_bipartite_dfs` that uses Depth First Search (DFS) to check if the graph is bipartite. If the graph is bipartite, return a tuple containing `True` and the two sets of nodes forming the bipartition. If the graph is not bipartite, return a tuple containing `False` and two empty sets.\n\n**Input:**\n- The function takes a single argument `graph`, which is a list of lists. The `i`-th list contains all the vertices adjacent to vertex `i`.\n\n**Output:**\n- A tuple `(is_bipartite, set1, set2)` where `is_bipartite` is a boolean indicating whether the graph is bipartite. If `is_bipartite` is `True`, `set1` and `set2` are the two sets of nodes forming the bipartition. If `is_bipartite` is `False`, `set1` and `set2` are both empty sets.\n\n**Sample Input:**\n```python\ngraph = [[1, 3], [0, 2], [1, 3], [0, 2]]\n```\n\n**Sample Output:**\n```python\n(True, {0, 2}, {1, 3})\n```", "response": "```python\ndef is_bipartite_dfs(graph):\n    \"\"\"\n    Determines if a given graph (in form of an adjacency list) is bipartite using DFS.\n    \n    :param graph: List of lists representing an adjacency list of the graph.\n    :return: A tuple (boolean, set1, set2) where boolean is True if the graph is bipartite and False otherwise.\n             set1 and set2 are the two sets of nodes forming the bipartition if the graph is bipartite.\n    \"\"\"\n    def dfs(node, color):\n        colors[node] = color\n        current_set = set1 if color == 0 else set2\n        current_set.add(node)\n        for neighbor in graph[node]:\n            if colors[neighbor] == -1:  # Not visited.\n                if not dfs(neighbor, 1 - color):  # Alternate color.\n                    return False\n            elif colors[neighbor] == color:  # Same color?\n                return False\n        return True\n\n    set1, set2 = set(), set()\n    colors = [-1] * len(graph)  # -1 = not colored, 0 = color1, 1 = color2.\n    for node in range(len(graph)):\n        if colors[node] == -1:  # If not colored.\n            if not dfs(node, 0):  # Start coloring with color 0.\n                return False, set(), set()\n    return True, set1, set2\n```"}
{"text": "You are given a list of integers. Your task is to sort this list in ascending order based on the frequency of each integer's occurrence. If two integers have the same frequency, they should be sorted in ascending numerical order. \n\n**Input:**\n- A list of integers `nums` (1 ≤ len(nums) ≤ 10^4), where each integer is in the range [-10^4, 10^4].\n\n**Output:**\n- A list of integers sorted according to the specified criteria.\n\n**Sample Input:**\n```\n[4, 5, 6, 5, 4, 3]\n```\n\n**Sample Output:**\n```\n[3, 6, 4, 4, 5, 5]\n```", "response": "```python\nfrom typing import List\nfrom collections import Counter\n\ndef sort_by_frequency(nums: List[int]) -> List[int]:\n    \"\"\"\n    Sorts a list of integers in ascending order based on their frequency of occurrence.\n    If two numbers have the same frequency, they are sorted in ascending numerical order.\n    \n    :param nums: List of integers to be sorted.\n    :return: Sorted list of integers.\n    \"\"\"\n    frequency = Counter(nums)\n    sorted_nums = sorted(nums, key=lambda num: (frequency[num], num))\n    return sorted_nums\n```"}
{"text": "You are given two lists of integers, `list1` and `list2`. Your task is to implement a function `find_common_elements` that returns a list of integers representing the common elements between the two input lists. The function should handle edge cases, such as when one or both lists are empty, by returning an empty list. The solution should be efficient and avoid unnecessary computations.\n\n**Input:**\n- Two lists of integers, `list1` and `list2`.\n\n**Output:**\n- A list of integers representing the common elements between `list1` and `list2`.\n\n**Sample Input:**\n- `list1 = [1, 2, 3, 4]`\n- `list2 = [3, 4, 5, 6]`\n\n**Sample Output:**\n- `[3, 4]`\n\n**Constraints:**\n- The lists can contain up to 10^5 integers.\n- Each integer in the lists can range from -10^9 to 10^9.", "response": "```python\ndef find_common_elements(list1, list2):\n    \"\"\"\n    Returns a list of integers representing the common elements between two input lists.\n    \n    :param list1: List of integers.\n    :param list2: List of integers.\n    :return: List of integers representing the common elements.\n    \"\"\"\n    set1 = set(list1)\n    set2 = set(list2)\n    common_elements = set1.intersection(set2)\n    return list(common_elements)\n```"}
{"text": "You are given a list of integers `numbers`. Your task is to implement a function `find_median` that correctly computes the median of the list. The median is the middle value in a list when the list is sorted. If the list has an even number of elements, the median is the average of the two middle numbers. Your function should handle both odd and even lengths of the input list.\n\n**Sample Input:**\n```\nnumbers = [3, 1, 4, 1, 5, 9, 2]\n```\n\n**Sample Output:**\n```\n3\n```\n\n**Sample Input:**\n```\nnumbers = [3, 1, 4, 1, 5, 9]\n```\n\n**Sample Output:**\n```\n3.5\n```", "response": "```python\ndef find_median(numbers):\n    \"\"\"\n    Computes the median of a list of numbers.\n    \n    Parameters:\n    numbers (list of int): The list of numbers to find the median of.\n    \n    Returns:\n    float: The median of the list.\n    \"\"\"\n    sorted_numbers = sorted(numbers)\n    mid = len(sorted_numbers) // 2\n    if len(sorted_numbers) % 2 == 0:\n        return (sorted_numbers[mid - 1] + sorted_numbers[mid]) / 2\n    else:\n        return sorted_numbers[mid]\n```"}
{"text": "You are tasked with implementing a binary search tree (BST) class named `BinaryTree` that supports the following operations:\n- Insert a new integer value into the tree.\n- Perform an in-order traversal of the tree and return the values in a list.\n- Find and return the minimum value in the tree.\n\nYour implementation should be efficient and handle edge cases such as inserting duplicate values or finding the minimum in an empty tree.\n\n**Input:**\n- The `main` function will create a `BinaryTree` instance, insert a series of integers, and then perform the in-order traversal and find the minimum value.\n\n**Output:**\n- The in-order traversal of the tree as a list of integers.\n- The minimum value in the tree.\n\n**Sample Input:**\n- Insert values: `[5, 3, 7, 2, 4, 6, 8]`\n\n**Sample Output:**\n- In-order traversal: `[2, 3, 4, 5, 6, 7, 8]`\n- Minimum value: `2`", "response": "```python\nclass TreeNode:\n    def __init__(self, value):\n        self.value = value\n        self.left = None\n        self.right = None\n\nclass BinaryTree:\n    def __init__(self):\n        self.root = None\n\n    def insert(self, value):\n        \"\"\"Inserts a new value into the binary search tree.\"\"\"\n        if not self.root:\n            self.root = TreeNode(value)\n        else:\n            self._insert_recursively(self.root, value)\n\n    def _insert_recursively(self, node, value):\n        \"\"\"Helper method to insert a value recursively.\"\"\"\n        if value < node.value:\n            if node.left is None:\n                node.left = TreeNode(value)\n            else:\n                self._insert_recursively(node.left, value)\n        else:\n            if node.right is None:\n                node.right = TreeNode(value)\n            else:\n                self._insert_recursively(node.right, value)\n\n    def in_order_traversal(self):\n        \"\"\"Performs an in-order traversal of the tree and returns the values in a list.\"\"\"\n        elements = []\n        self._in_order_traversal_recursively(self.root, elements)\n        return elements\n\n    def _in_order_traversal_recursively(self, node, elements):\n        \"\"\"Helper method to perform in-order traversal recursively.\"\"\"\n        if node:\n            self._in_order_traversal_recursively(node.left, elements)\n            elements.append(node.value)\n            self._in_order_traversal_recursively(node.right, elements)\n\n    def find_minimum(self):\n        \"\"\"Finds and returns the minimum value in the tree.\"\"\"\n        if not self.root:\n            return None\n        current = self.root\n        while current.left:\n            current = current.left\n        return current.value\n\ndef main():\n    # Create a binary tree and insert some values\n    binary_tree = BinaryTree()\n    values = [5, 3, 7, 2, 4, 6, 8]\n    for value in values:\n        binary_tree.insert(value)\n\n    # Perform in-order traversal\n    print(\"In-order traversal of the binary tree:\", binary_tree.in_order_traversal())\n\n    # Find the minimum value in the binary tree\n    print(\"Minimum value in the binary tree:\", binary_tree.find_minimum())\n\nif __name__ == \"__main__\":\n    main()\n```"}
{"text": "You are given a list of sentences, where each sentence is a string. Your task is to write a Python function that processes this list and returns a dictionary. The keys of the dictionary should be the original sentences, and the values should be the sentences with their words sorted in alphabetical order, while preserving the original case of the words. \n\n**Input:**\n- A list of strings, where each string is a sentence.\n\n**Output:**\n- A dictionary with sentences as keys and their words sorted alphabetically as values.\n\n**Sample Input:**\n```python\n[\"Hello world\", \"hello Python\", \"Hi there\"]\n```\n\n**Sample Output:**\n```python\n{\"Hello world\": \"Hello world\", \"hello Python\": \"hello Pnyhto\", \"Hi there\": \"Hi ehrt\"}\n```", "response": "```python\ndef sort_sentences(sentences):\n    \"\"\"\n    Sorts the words in each sentence alphabetically while preserving the original case.\n\n    Parameters:\n    sentences (list of str): A list of sentences.\n\n    Returns:\n    dict: A dictionary with original sentences as keys and sentences with sorted words as values.\n    \"\"\"\n    return {sentence: ' '.join(sorted(sentence.split(), key=lambda x: x.lower())) for sentence in sentences}\n\n# Test the function\ninput_sentences = [\"Hello world\", \"hello Python\", \"Hi there\"]\noutput = sort_sentences(input_sentences)\nprint(output)\n```"}
{"text": "You are tasked with implementing a function `optimize_function_performance` that enhances the performance of a given function by caching its results. This technique is known as memoization. Your function should accept another function as an argument and return a new function that utilizes caching to avoid redundant computations.\n\n**Function Signature:**\n```python\ndef optimize_function_performance(func: callable) -> callable:\n```\n\n**Constraints:**\n- The input function `func` can take any number of arguments.\n- The arguments passed to `func` will be hashable.\n- The input function `func` will always return a value that can be stored in a dictionary.\n\n**Sample Input/Output:**\n```python\ndef sample_function(x):\n    return x * x\n\noptimized_sample_function = optimize_function_performance(sample_function)\n\n# First call, computes the result\nprint(optimized_sample_function(4))  # Output: 16\n\n# Second call, retrieves result from cache\nprint(optimized_sample_function(4))  # Output: 16\n```", "response": "```python\ndef optimize_function_performance(func: callable) -> callable:\n    \"\"\"\n    Returns a memoized version of the input function.\n    \n    Args:\n        func (callable): The function to be memoized.\n    \n    Returns:\n        callable: A new function that caches the results of the input function.\n    \"\"\"\n    cache = {}  # Cache to store results of function calls\n\n    def memoized_func(*args):\n        \"\"\"\n        Memoized version of the input function.\n        \n        Args:\n            *args: Arguments to be passed to the input function.\n        \n        Returns:\n            The result of the function call, retrieved from cache if available.\n        \"\"\"\n        if args in cache:\n            return cache[args]  # Return cached result if available\n        result = func(*args)\n        cache[args] = result  # Store the result in cache for future calls\n        return result\n\n    return memoized_func\n```"}
{"text": "You are tasked with implementing a class `Employee` in Python. The class should have the following attributes: `name`, `employee_id`, and `department`. Your class should include a method `transfer_department(new_department)` that updates the employee's department to `new_department`. Ensure that the method raises a `ValueError` with the message \"Department name cannot be an empty string.\" if `new_department` is an empty string.\n\n**Sample Input:**\n```python\nemployee = Employee(\"John Doe\", 12345, \"Finance\")\nemployee.transfer_department(\"Marketing\")\nprint(employee.department)  # Output: Marketing\n\nemployee.transfer_department(\"\")  # Raises ValueError: Department name cannot be an empty string.\n```\n\n**Sample Output:**\n```\nMarketing\n```", "response": "```python\nclass Employee:\n    def __init__(self, name, employee_id, department):\n        \"\"\"\n        Initialize an Employee object with a name, employee_id, and department.\n\n        :param name: str - The name of the employee.\n        :param employee_id: int - The unique identifier for the employee.\n        :param department: str - The department where the employee works.\n        \"\"\"\n        self.name = name\n        self.employee_id = employee_id\n        self.department = department\n\n    def transfer_department(self, new_department):\n        \"\"\"\n        Transfer the employee to a new department.\n\n        :param new_department: str - The name of the new department.\n        :raises ValueError: If new_department is an empty string.\n        \"\"\"\n        if not new_department:\n            raise ValueError(\"Department name cannot be an empty string.\")\n        self.department = new_department\n```"}
{"text": "You are given a list of `n` tasks, each represented as a tuple `(start, end)`, indicating the start and end times of the task. The tasks are sorted by their start times. Your goal is to determine the maximum number of non-overlapping tasks that can be selected. Two tasks are considered non-overlapping if the start time of one task is greater than or equal to the end time of the other.\n\n**Input:**\n- An integer `n` representing the number of tasks.\n- A list of `n` tuples, where each tuple `(start, end)` represents the start and end times of a task.\n\n**Output:**\n- An integer representing the maximum number of non-overlapping tasks that can be selected.\n\n**Constraints:**\n- `1 <= n <= 10^5`\n- `0 <= start < end <= 10^9`\n\n**Sample Input:**\n```\n3\n1 3\n2 5\n4 6\n```\n\n**Sample Output:**\n```\n2\n```", "response": "```python\ndef max_non_overlapping_tasks(tasks):\n    \"\"\"\n    Returns the maximum number of non-overlapping tasks that can be selected from a list of tasks.\n    \n    :param tasks: List of tuples, where each tuple (start, end) represents the start and end times of a task.\n    :return: Integer representing the maximum number of non-overlapping tasks.\n    \"\"\"\n    if not tasks:\n        return 0\n\n    count = 1\n    last_end = tasks[0][1]\n\n    for i in range(1, len(tasks)):\n        current_start, current_end = tasks[i]\n        if current_start >= last_end:\n            count += 1\n            last_end = current_end\n\n    return count\n```"}
{"text": "You are given a list of integers. Your task is to identify and return a list of all duplicate integers present in the input list. The order of elements in the output list does not matter. Optimize your solution to minimize the time complexity.\n\n**Sample Input:**\n```\n[1, 2, 3, 4, 5, 3, 2, 6, 7, 8, 8]\n```\n\n**Sample Output:**\n```\n[2, 3, 8]\n```", "response": "```python\ndef find_duplicates(input_list):\n    \"\"\"\n    Returns a list of duplicate integers from the input list.\n    \n    :param input_list: List of integers\n    :return: List of duplicate integers\n    \"\"\"\n    seen = set()\n    duplicates = set()\n    for item in input_list:\n        if item in seen:\n            duplicates.add(item)\n        else:\n            seen.add(item)\n    return list(duplicates)\n```"}
{"text": "You are given a string `text` and a set of stop words `stop_words`. Your task is to remove all the stop words from the string while maintaining the order of the remaining words. The comparison of words should be case-insensitive. Return the modified string.\n\n**Input:**\n- The first line contains the string `text`.\n- The second line contains a space-separated list of stop words.\n\n**Output:**\n- A single line containing the modified string with stop words removed.\n\n**Sample Input:**\n```\nThe quick brown fox jumps over the lazy dog.\nthe over\n```\n\n**Sample Output:**\n```\nquick brown fox jumps lazy dog.\n```", "response": "```python\ndef remove_stop_words(text, stop_words):\n    \"\"\"\n    Removes all stop words from the given text while maintaining the order of the remaining words.\n    \n    :param text: The input string from which stop words need to be removed.\n    :param stop_words: A set of stop words to be removed from the text.\n    :return: A string with the stop words removed.\n    \"\"\"\n    words = text.split()\n    filtered_words = [word for word in words if word.lower() not in stop_words]\n    result = ' '.join(filtered_words)\n    return result\n\n# Example usage\ntext = \"Python is a high-level programming language.\"\nstop_words = {\"is\", \"a\", \"high-level\", \"language\"}\nprint(remove_stop_words(text, stop_words))\n```"}
{"text": "You are given a list of integers. Your task is to determine the minimum number of operations required to make all elements in the list equal. In one operation, you can either increment or decrement any element by 1. For example, given the list `[1, 5, 3]`, the minimum number of operations needed is `3` because you can change `1` to `3` and `5` to `3`.\n\n**Input:**\n- A list of integers `nums` (1 ≤ len(nums) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- An integer representing the minimum number of operations required.\n\n**Sample Input:**\n```\n[1, 5, 3]\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\ndef minimize_operations(nums):\n    \"\"\"\n    Calculate the minimum number of operations required to make all elements in the list equal.\n    \n    :param nums: List of integers\n    :return: Minimum number of operations\n    \"\"\"\n    def find_median(nums):\n        \"\"\"\n        Find the median of a list of numbers.\n        \n        :param nums: List of integers\n        :return: Median value\n        \"\"\"\n        nums.sort()\n        n = len(nums)\n        return nums[n // 2] if n % 2 == 1 else nums[n // 2 - 1]\n\n    median = find_median(nums)\n    return sum(abs(num - median) for num in nums)\n\n# Example usage:\n# nums = [1, 5, 3]\n# print(minimize_operations(nums))  # Output: 3\n```"}
{"text": "You are given a CSV file named `students_grades.csv` containing the grades of students across various subjects. Each row in the CSV file consists of three fields: `student_name`, `subject`, and `grade`. The `grade` is an integer between 0 and 100. Your task is to compute the average grade for each student and output the results in the format `Student Name: Average Grade`.\n\n**Input Format:**\n- The CSV file `students_grades.csv` is formatted as follows:\n  - The first row contains the headers: `student_name`, `subject`, `grade`.\n  - Each subsequent row contains the data for one student's grade in a particular subject.\n\n**Output Format:**\n- For each student, output a line in the format `Student Name: Average Grade`, where `Average Grade` is rounded to two decimal places.\n\n**Sample Input:**\n```\nstudent_name,subject,grade\nAlice,Math,88\nBob,Science,92\nAlice,Science,90\nBob,Math,85\n```\n\n**Sample Output:**\n```\nAlice: 89.00\nBob: 88.50\n```", "response": "```python\nimport csv\nfrom collections import defaultdict\n\ndef calculate_average_grades(csv_filename):\n    \"\"\"\n    Calculate the average grade for each student from a CSV file.\n\n    :param csv_filename: str, the name of the CSV file containing student grades.\n    \"\"\"\n    student_grades = defaultdict(list)\n    \n    with open(csv_filename, mode='r') as file:\n        csv_reader = csv.DictReader(file)\n        for row in csv_reader:\n            student_name = row['student_name']\n            grade = int(row['grade'])\n            student_grades[student_name].append(grade)\n    \n    for student, grades in student_grades.items():\n        average_grade = sum(grades) / len(grades)\n        print(f\"{student}: {average_grade:.2f}\")\n\ncalculate_average_grades('students_grades.csv')\n```"}
{"text": "You are given a dataset of customer reviews represented as a list of dictionaries. Each dictionary contains three keys: `customer_id`, `review_text`, and `sentiment`. The `customer_id` is an integer, `review_text` is a string, and `sentiment` is a string with possible values \"positive\", \"negative\", or \"neutral\". Your task is to preprocess the text data by removing stop words and performing stemming using the NLTK library. After preprocessing, classify each review's sentiment using a Naive Bayes classifier trained on the preprocessed data. Implement a function `classify_reviews` that takes the dataset as input and returns a list of predicted sentiments.\n\n**Sample Input:**\n```python\n[\n    {\"customer_id\": 1, \"review_text\": \"The product is amazing!\", \"sentiment\": \"positive\"},\n    {\"customer_id\": 2, \"review_text\": \"Terrible experience with the delivery.\", \"sentiment\": \"negative\"},\n    {\"customer_id\": 3, \"review_text\": \"It's okay, not great but not bad.\", \"sentiment\": \"neutral\"}\n]\n```\n\n**Sample Output:**\n```python\n['positive', 'negative', 'neutral']\n```", "response": "```python\nimport nltk\nfrom nltk.corpus import stopwords\nfrom nltk.stem import PorterStemmer\nfrom nltk.tokenize import word_tokenize\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.pipeline import make_pipeline\n\n# Ensure the necessary NLTK data files are downloaded\nnltk.download('punkt')\nnltk.download('stopwords')\n\ndef preprocess_text(text):\n    \"\"\"\n    Preprocesses the given text by tokenizing, removing stop words, and performing stemming.\n    \n    Parameters:\n    text (str): The text to preprocess.\n    \n    Returns:\n    str: The preprocessed text.\n    \"\"\"\n    # Tokenize the text\n    tokens = word_tokenize(text.lower())\n    # Remove stop words\n    filtered_tokens = [word for word in tokens if word.isalpha() and word not in stopwords.words('english')]\n    # Perform stemming\n    stemmer = PorterStemmer()\n    stemmed_tokens = [stemmer.stem(word) for word in filtered_tokens]\n    # Join the tokens back into a string\n    return ' '.join(stemmed_tokens)\n\ndef classify_reviews(data):\n    \"\"\"\n    Classifies the sentiment of each review in the dataset using a Naive Bayes classifier.\n    \n    Parameters:\n    data (list of dict): The dataset containing customer reviews.\n    \n    Returns:\n    list of str: The predicted sentiments for each review.\n    \"\"\"\n    # Preprocess the review texts\n    preprocessed_texts = [preprocess_text(review['review_text']) for review in data]\n    \n    # Split the data into features and labels\n    X = preprocessed_texts\n    y = [review['sentiment'] for review in data]\n    \n    if len(data) > 1:\n        # Split the data into training and test sets\n        X_train, X_test, y_train, _ = train_test_split(X, y, test_size=0.2, random_state=42)\n    else:\n        # If there's only one sample, use it as both training and test to avoid errors\n        X_train, X_test, y_train, _ = X, X, y, y\n\n    # Create a pipeline that combines the CountVectorizer and MultinomialNB\n    model = make_pipeline(CountVectorizer(), MultinomialNB())\n    # Fit the model on the training set\n    model.fit(X_train, y_train)\n\n    # Predict sentiment for the test set\n    predicted_sentiments = model.predict(X_test)\n\n    return predicted_sentiments\n\n# Example usage\ndataset = [\n    {\"customer_id\": 1, \"review_text\": \"The product is amazing!\", \"sentiment\": \"positive\"},\n    {\"customer_id\": 2, \"review_text\": \"Terrible experience with the delivery.\", \"sentiment\": \"negative\"},\n    {\"customer_id\": 3, \"review_text\": \"It's okay, not great but not bad.\", \"sentiment\": \"neutral\"}\n]\n\npredicted = classify_reviews(dataset)\nprint(predicted)\n```"}
{"text": "Implement a Python class `Car` that simulates a car with the following attributes: make, model, year, and mileage. The class should include methods to update the mileage and simulate driving the car. The mileage should not be allowed to decrease. The `drive` method should only accept positive values for miles driven. The `__str__` method should return a string representation of the car in the format: \"{year} {make} {model} with {mileage} miles.\"\n\n**Sample Input:**\n```\ncar = Car(\"Toyota\", \"Corolla\", 2020)\nprint(car)\ncar.update_mileage(1500)\nprint(car)\ncar.drive(100)\nprint(car)\ncar.update_mileage(1000)\ncar.drive(-50)\n```\n\n**Sample Output:**\n```\n2020 Toyota Corolla with 0 miles.\n2020 Toyota Corolla with 1500 miles.\nYou drove 100 miles. Total mileage is now 1600 miles.\n2020 Toyota Corolla with 1600 miles.\nYou can't roll back the mileage!\nMiles driven must be greater than 0.\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, mileage=0):\n        \"\"\"\n        Initialize a new Car instance.\n\n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        :param mileage: The initial mileage of the car, default is 0.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.mileage = mileage\n\n    def update_mileage(self, mileage):\n        \"\"\"\n        Update the mileage of the car.\n\n        :param mileage: The new mileage value.\n        \"\"\"\n        if mileage >= self.mileage:\n            self.mileage = mileage\n        else:\n            print(\"You can't roll back the mileage!\")\n\n    def drive(self, miles):\n        \"\"\"\n        Simulate driving the car.\n\n        :param miles: The number of miles driven.\n        \"\"\"\n        if miles > 0:\n            self.mileage += miles\n            print(f\"You drove {miles} miles. Total mileage is now {self.mileage} miles.\")\n        else:\n            print(\"Miles driven must be greater than 0.\")\n\n    def __str__(self):\n        \"\"\"\n        Return a string representation of the car.\n\n        :return: A string in the format \"{year} {make} {model} with {mileage} miles.\"\n        \"\"\"\n        return f\"{self.year} {self.make} {self.model} with {self.mileage} miles.\"\n```"}
{"text": "You are given a list of strings. Your task is to write a function that removes all duplicate strings from the list while maintaining the original order of the first occurrence of each string.\n\n**Input:**\n- A list of strings, `strings`, where each string consists of lowercase English letters and the length of the list is between 1 and 1000.\n\n**Output:**\n- A list of strings with duplicates removed, preserving the order of their first occurrence.\n\n**Sample Input:**\n```python\n[\"apple\", \"banana\", \"cherry\", \"apple\", \"date\", \"banana\", \"fig\"]\n```\n\n**Sample Output:**\n```python\n[\"apple\", \"banana\", \"cherry\", \"date\", \"fig\"]\n```", "response": "```python\ndef remove_duplicates(strings):\n    \"\"\"\n    Removes all duplicate strings from the list while maintaining the original order\n    of the first occurrence of each string.\n\n    :param strings: List of strings with possible duplicates.\n    :return: List of strings with duplicates removed.\n    \"\"\"\n    seen = set()\n    result = []\n    for s in strings:\n        if s not in seen:\n            seen.add(s)\n            result.append(s)\n    return result\n\ninput_list = [\"apple\", \"banana\", \"cherry\", \"apple\", \"date\", \"banana\", \"fig\"]\noutput_list = remove_duplicates(input_list)\nprint(output_list)\n```"}
{"text": "You are given a binary matrix of size `n x m` where each cell contains either `0` or `1`. An island is defined as a group of adjacent cells with a value of `1`, where adjacency is determined by sharing an edge or a corner. Your task is to write a function that counts the number of islands in the matrix.\n\n**Input:**\n- The first line contains two integers `n` and `m` (1 ≤ n, m ≤ 100) representing the dimensions of the matrix.\n- The next `n` lines contain `m` integers each, either `0` or `1`, representing the matrix.\n\n**Output:**\n- Print a single integer representing the number of islands in the matrix.\n\n**Sample Input:**\n```\n4 5\n1 1 0 0 0\n0 0 0 1 0\n0 1 1 0 0\n0 0 0 1 1\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\ndef count_islands(matrix):\n    \"\"\"\n    Counts the number of islands in a binary matrix.\n    \n    :param matrix: List[List[int]] - A binary matrix where 1 represents land and 0 represents water.\n    :return: int - The number of islands in the matrix.\n    \"\"\"\n    def dfs(matrix, i, j, visited, n_rows, n_cols):\n        \"\"\"\n        Performs a depth-first search to mark all cells of an island.\n        \n        :param matrix: List[List[int]] - The binary matrix.\n        :param i: int - The row index of the current cell.\n        :param j: int - The column index of the current cell.\n        :param visited: Set[Tuple[int, int]] - A set of visited cells.\n        :param n_rows: int - The number of rows in the matrix.\n        :param n_cols: int - The number of columns in the matrix.\n        \"\"\"\n        stack = [(i, j)]\n        while stack:\n            x, y = stack.pop()\n            if (0 <= x < n_rows and 0 <= y < n_cols and matrix[x][y] == 1 and (x, y) not in visited):\n                visited.add((x, y))\n                for dx in range(-1, 2):\n                    for dy in range(-1, 2):\n                        stack.append((x + dx, y + dy))\n\n    n_rows = len(matrix)\n    if n_rows == 0:\n        return 0\n    n_cols = len(matrix[0])\n    visited = set()\n    count = 0\n\n    for i in range(n_rows):\n        for j in range(n_cols):\n            if matrix[i][j] == 1 and (i, j) not in visited:\n                dfs(matrix, i, j, visited, n_rows, n_cols)\n                count += 1\n    return count\n\n# Example usage:\nmatrix = [\n    [1, 1, 0, 0, 0],\n    [0, 0, 0, 1, 0],\n    [0, 1, 1, 0, 0],\n    [0, 0, 0, 1, 1]\n]\n\nprint(count_islands(matrix))  # Output: 3\n```"}
{"text": "You are given a CSV file named `grades.csv` with the following format: the first row contains the column headers \"StudentName\" and \"Grade\". Each subsequent row contains a student's name and their grade. Your task is to write a Python script that reads this CSV file, calculates the average grade for each student, and writes the results to a new CSV file named `average_grades.csv`. The output CSV file should have the headers \"StudentName\" and \"AverageGrade\", followed by rows containing each student's name and their calculated average grade.\n\n**Sample Input (grades.csv):**\n```\nStudentName,Grade\nAlice,85\nBob,90\nAlice,95\nBob,80\nCharlie,78\n```\n\n**Sample Output (average_grades.csv):**\n```\nStudentName,AverageGrade\nAlice,90.0\nBob,85.0\nCharlie,78.0\n```", "response": "```python\nimport csv\nfrom collections import defaultdict\n\ndef read_grades_from_csv(input_file_path):\n    \"\"\"\n    Reads grades from a CSV file and returns a dictionary mapping each student's name to a list of their grades.\n    \n    :param input_file_path: Path to the input CSV file.\n    :return: Dictionary with student names as keys and lists of grades as values.\n    \"\"\"\n    student_grades = defaultdict(list)\n    \n    with open(input_file_path, mode='r') as file:\n        csv_reader = csv.DictReader(file)\n        for row in csv_reader:\n            student_name = row[\"StudentName\"]\n            grade = float(row[\"Grade\"])\n            student_grades[student_name].append(grade)\n    \n    return student_grades\n\ndef write_average_grades_to_csv(student_grades, output_file_path):\n    \"\"\"\n    Writes the average grades of students to a new CSV file.\n    \n    :param student_grades: Dictionary with student names as keys and lists of grades as values.\n    :param output_file_path: Path to the output CSV file.\n    \"\"\"\n    with open(output_file_path, mode='w', newline='') as file:\n        csv_writer = csv.writer(file)\n        csv_writer.writerow([\"StudentName\", \"AverageGrade\"])\n        \n        for student_name, grades in student_grades.items():\n            average_grade = sum(grades) / len(grades)\n            csv_writer.writerow([student_name, average_grade])\n\ndef main():\n    input_csv_path = 'grades.csv'\n    output_csv_path = 'average_grades.csv'\n    \n    student_grades = read_grades_from_csv(input_csv_path)\n    write_average_grades_to_csv(student_grades, output_csv_path)\n\nif __name__ == \"__main__\":\n    main()\n```"}
{"text": "In a health monitoring application, you need to implement a function to compute the Body Mass Index (BMI) of individuals. The function should accept two parameters: `weight` in kilograms and `height` in meters. It should return the BMI as a floating-point number. The BMI is calculated using the formula: BMI = weight / (height^2). If either `weight` or `height` is non-positive, the function should raise a `ValueError` with the message \"Weight and height must be positive numbers.\"\n\n**Sample Input:**\n- `calculate_bmi(70, 1.75)`\n- `calculate_bmi(-50, 1.80)`\n\n**Sample Output:**\n- `22.857142857142858`\n- Raises `ValueError: Weight and height must be positive numbers.`", "response": "```python\ndef calculate_bmi(weight, height):\n    \"\"\"\n    Calculate the Body Mass Index (BMI) given weight in kilograms and height in meters.\n    \n    Parameters:\n    weight (float): Weight in kilograms.\n    height (float): Height in meters.\n    \n    Returns:\n    float: Calculated BMI.\n    \n    Raises:\n    ValueError: If weight or height is not positive.\n    \"\"\"\n    if weight <= 0 or height <= 0:\n        raise ValueError(\"Weight and height must be positive numbers.\")\n    return weight / (height ** 2)\n```"}
{"text": "You are tasked with writing a function `find_nth_prime` that computes the `n`-th prime number efficiently. Your solution should not use trial division. Instead, implement an algorithm that can handle larger values of `n` within reasonable time constraints.\n\n**Input:**\n- A single integer `n` (1 ≤ n ≤ 10^4), representing the position of the prime number to find.\n\n**Output:**\n- A single integer, the `n`-th prime number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n29\n```", "response": "```python\ndef find_nth_prime(n):\n    \"\"\"\n    Returns the n-th prime number using the Sieve of Eratosthenes algorithm.\n    \n    Parameters:\n    n (int): The position of the prime number to find (1 ≤ n ≤ 10^4).\n    \n    Returns:\n    int: The n-th prime number.\n    \n    Raises:\n    ValueError: If n is less than 1.\n    RuntimeError: If the estimated upper bound is too small.\n    \"\"\"\n    if n < 1:\n        raise ValueError(\"n must be a positive integer\")\n    \n    import math\n    if n < 6:\n        upper_bound = 15\n    else:\n        upper_bound = int(n * (math.log(n) + math.log(math.log(n))))\n    \n    sieve = [True] * (upper_bound + 1)\n    sieve[0] = sieve[1] = False\n    \n    p = 2\n    while p * p <= upper_bound:\n        if sieve[p]:\n            for i in range(p * p, upper_bound + 1, p):\n                sieve[i] = False\n        p += 1\n    \n    primes = [num for num, is_prime in enumerate(sieve) if is_prime]\n    \n    if len(primes) < n:\n        raise RuntimeError(\"Estimated upper bound was too small.\")\n    \n    return primes[n - 1]\n```"}
{"text": "You are given a CSV file named `data.csv`. Your task is to write a Python script that reads this file and calculates the average value of a specified column. The script should prompt the user to enter the name of the column for which they want to calculate the average. The script must handle potential errors such as missing files, invalid column names, or non-numeric values in the column. Your program should output the average value rounded to two decimal places. If an error occurs, print an appropriate error message.\n\n**Sample Input:**\n```\ndata.csv contents:\nName,Age,Score\nAlice,25,88.5\nBob,30,92\nCharlie,22,75.5\nDavid,28,89\n\nUser Input:\nScore\n```\n\n**Sample Output:**\n```\nThe average value in column 'Score' is: 86.38\n```\n\n**Sample Input:**\n```\ndata.csv contents:\nName,Age,Score\nAlice,25,88.5\nBob,30,abc\nCharlie,22,75.5\nDavid,28,89\n\nUser Input:\nScore\n```\n\n**Sample Output:**\n```\nWarning: Non-numeric value 'abc' in column 'Score' ignored.\nThe average value in column 'Score' is: 84.33\n```\n\n**Sample Input:**\n```\nUser Input:\nHeight\n```\n\n**Sample Output:**\n```\nAn error occurred: The column 'Height' does not exist in the CSV file.\n```", "response": "```python\nimport csv\n\ndef calculate_average_from_csv(file_path, column_name):\n    \"\"\"\n    Reads the CSV file and calculates the average of the specified column.\n\n    :param file_path: Path to the CSV file.\n    :param column_name: The column name for which we want to calculate the average.\n    :return: Average value of the column.\n    \"\"\"\n    try:\n        with open(file_path, mode='r', newline='', encoding='utf-8') as file:\n            reader = csv.DictReader(file)\n            total_sum = 0\n            count = 0\n\n            for row in reader:\n                try:\n                    value = float(row[column_name])\n                    total_sum += value\n                    count += 1\n                except ValueError:\n                    print(f\"Warning: Non-numeric value '{row[column_name]}' in column '{column_name}' ignored.\")\n            \n            if count == 0:\n                raise ValueError(f\"No numeric values found in column '{column_name}'.\")\n            \n            average = total_sum / count\n            return average\n\n    except FileNotFoundError:\n        raise FileNotFoundError(f\"The file at path '{file_path}' was not found.\")\n    except KeyError:\n        raise KeyError(f\"The column '{column_name}' does not exist in the CSV file.\")\n\nif __name__ == '__main__':\n    file_path = 'data.csv'\n    print(\"CSV file to be used:\", file_path)\n    column_name = input(\"Enter the name of the column to calculate the average for: \")\n\n    try:\n        average_value = calculate_average_from_csv(file_path, column_name)\n        print(f\"The average value in column '{column_name}' is: {average_value:.2f}\")\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `find_most_common_element` that returns the most frequently occurring element in the list. If there are multiple elements with the same highest frequency, return the one that appears first in the list.\n\n**Input:**\n- A list of integers `lst` (1 ≤ len(lst) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- An integer representing the most common element in the list.\n\n**Sample Input:**\n```\n[1, 2, 2, 3, 3, 3, 4, 4, 4, 4]\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef find_most_common_element(lst):\n    \"\"\"\n    Returns the most common element in the list. If there are multiple elements\n    with the same highest frequency, returns the one that appears first in the list.\n    \n    :param lst: List of integers\n    :return: The most common element in the list\n    \"\"\"\n    frequency_dict = {}\n    for element in lst:\n        if element in frequency_dict:\n            frequency_dict[element] += 1\n        else:\n            frequency_dict[element] = 1\n\n    max_frequency = 0\n    most_common_element = None\n    for element in lst:\n        if frequency_dict[element] > max_frequency:\n            max_frequency = frequency_dict[element]\n            most_common_element = element\n\n    return most_common_element\n\n# Example usage:\nprint(find_most_common_element([1, 2, 2, 3, 3, 3, 4, 4, 4, 4]))  # Output: 4\n```"}
{"text": "You are tasked with writing a Python script to process a CSV file named \"sales_data.csv\" and compute the total revenue for each product. The CSV file contains the following columns:\n\n- **Product**: The name of the product.\n- **Quantity**: The quantity of the product sold.\n- **Price**: The price per unit of the product.\n\nYour script should read the CSV file, calculate the total revenue for each product, and print the results in the format: \"Product: <product_name>, Total Revenue: $<total_revenue>\". The script must handle potential errors, such as missing files or incorrect data formats.\n\n**Sample Input (sales_data.csv):**\n```\nProduct,Quantity,Price\nLaptop,10,999.99\nSmartphone,20,499.99\nLaptop,5,999.99\nTablet,15,299.99\nSmartphone,10,499.99\n```\n\n**Sample Output:**\n```\nProduct: Laptop, Total Revenue: $149998.50\nProduct: Smartphone, Total Revenue: $149997.00\nProduct: Tablet, Total Revenue: $4499.85\n```", "response": "```python\nimport csv\n\ndef calculate_total_revenue():\n    \"\"\"\n    Reads a CSV file named 'sales_data.csv', calculates the total revenue for each product,\n    and prints the results. Handles errors such as missing files or incorrect data formats.\n    \"\"\"\n    try:\n        with open('sales_data.csv', 'r') as csvfile:\n            reader = csv.DictReader(csvfile)\n            revenue_by_product = {}\n            for row in reader:\n                try:\n                    product = row['Product']\n                    quantity = float(row['Quantity'])\n                    price = float(row['Price'])\n                    revenue = quantity * price\n                    if product in revenue_by_product:\n                        revenue_by_product[product] += revenue\n                    else:\n                        revenue_by_product[product] = revenue\n                except ValueError:\n                    print(f\"Skipping row with incorrect data format: {row}\")\n                except KeyError:\n                    print(f\"Skipping row with missing column: {row}\")\n            for product, total_revenue in revenue_by_product.items():\n                print(f\"Product: {product}, Total Revenue: ${total_revenue:.2f}\")\n    except FileNotFoundError:\n        print(\"The file sales_data.csv was not found.\")\n    except Exception as e:\n        print(f\"An error occurred while reading the CSV file: {e}\")\n\ncalculate_total_revenue()\n```"}
{"text": "You are given two integers. Your task is to write a function that calculates and returns their sum. Ensure your code adheres to Python conventions, including meaningful variable names, proper indentation, and appropriate use of whitespace. The function should not alter the original functionality.\n\n**Sample Input:**\n```\n5, 7\n```\n\n**Sample Output:**\n```\n12\n```", "response": "```python\ndef calculate_sum(first_operand, second_operand):\n    \"\"\"\n    Calculate the sum of two integers.\n\n    Parameters:\n    first_operand (int): The first integer.\n    second_operand (int): The second integer.\n\n    Returns:\n    int: The sum of the two integers.\n    \"\"\"\n    result = first_operand + second_operand\n    return result\n```"}
{"text": "You are tasked with writing a Python script that processes a CSV file by normalizing its numerical columns. The script should read the CSV file, apply normalization to each numerical column, and then write the normalized data back to a new CSV file. Normalization is defined as subtracting the minimum value of the column and then dividing by the range (max - min). Your script should handle potential errors, such as the CSV file not existing or containing non-numeric data in a numeric column. The script should also include appropriate comments and docstrings.\n\n**Input:**\n- A CSV file path as a string.\n- The CSV file may contain both numerical and non-numerical columns.\n- The CSV file may be empty or contain parsing errors.\n\n**Output:**\n- A new CSV file with the same structure as the input file, but with numerical columns normalized.\n- If an error occurs, print an appropriate error message.\n\n**Sample Input:**\n```\ninput.csv\nid,name,age,score\n1,Alice,25,88\n2,Bob,30,92\n3,Charlie,22,78\n```\n\n**Sample Output:**\n```\noutput.csv\nid,name,age,score\n1,Alice,0.5,0.3333333333333333\n2,Bob,1.0,1.0\n3,Charlie,0.0,0.0\n```", "response": "```python\nimport pandas as pd\nimport os\n\ndef read_csv_file(file_path):\n    \"\"\"Read CSV file from the given file path.\n\n    Args:\n        file_path (str): The path of the CSV file.\n\n    Returns:\n        pd.DataFrame: The data from the CSV file read into a DataFrame.\n\n    Raises:\n        FileNotFoundError: If the file does not exist.\n        pd.errors.EmptyDataError: If the file is empty.\n        pd.errors.ParserError: If there are issues parsing the file.\n    \"\"\"\n    if not os.path.exists(file_path):\n        raise FileNotFoundError(f\"The file {file_path} does not exist.\")\n    \n    try:\n        data = pd.read_csv(file_path)\n    except pd.errors.EmptyDataError:\n        raise pd.errors.EmptyDataError(f\"The file {file_path} is empty.\")\n    except pd.errors.ParserError as e:\n        raise pd.errors.ParserError(f\"Error parsing the file {file_path}: {e}\")\n\n    return data\n\ndef normalize_data(data):\n    \"\"\"Normalize the numerical columns of a given DataFrame.\n\n    For each numerical column, subtract the column's minimum value and divide by the column's range (max - min).\n\n    Args:\n        data (pd.DataFrame): The input DataFrame with numerical columns to normalize.\n\n    Returns:\n        pd.DataFrame: The DataFrame with normalized numerical columns.\n\n    Raises:\n        ValueError: If no numeric columns are found in the DataFrame.\n    \"\"\"\n    numeric_data = data.select_dtypes(include=[float, int])\n\n    if numeric_data.empty:\n        raise ValueError(\"No numeric columns found in the DataFrame for normalization.\")\n\n    normalized_data = (numeric_data - numeric_data.min()) / (numeric_data.max() - numeric_data.min())\n\n    # Reattach non-numeric columns to the normalized data\n    for col in data.select_dtypes(exclude=[float, int]):\n        normalized_data[col] = data[col]\n\n    return normalized_data\n\ndef save_normalized_file(normalized_data, file_path):\n    \"\"\"Write the normalized DataFrame back to a CSV file.\n\n    Args:\n        normalized_data (pd.DataFrame): The DataFrame with normalized data.\n        file_path (str): The file path to save the normalized CSV file.\n    \"\"\"\n    normalized_data.to_csv(file_path, index=False)\n\ndef main(input_file_path, output_file_path):\n    \"\"\"Main function to read a CSV file, normalize its numerical columns, and write the normalized data to a new CSV file.\n\n    Args:\n        input_file_path (str): Path of the input CSV file.\n        output_file_path (str): Path of the output CSV file with normalized data.\n    \"\"\"\n    try:\n        # Read the input CSV file into a DataFrame\n        data = read_csv_file(input_file_path)\n        \n        # Normalize the numerical columns of the DataFrame\n        normalized_data = normalize_data(data)\n        \n        # Write the normalized DataFrame to a new CSV file\n        save_normalized_file(normalized_data, output_file_path)\n        print(f\"Normalized data has been written to {output_file_path}.\")\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n\nif __name__ == \"__main__\":\n    # Example usage\n    main(\"input.csv\", \"output.csv\")\n```"}
{"text": "You are tasked with designing a `Book` class that encapsulates the details of a book. The class should have the following functionalities:\n\n- A constructor that initializes the book's title, author, publication year, and genre.\n- A method to return a string representation of the book in the format: `\"Title: <title>, Author: <author>, Year: <year>, Genre: <genre>\"`.\n- A method to return a summary of the book in the format: `\"This book titled <title> was written by <author> in <year>. It belongs to the genre of <genre>.\"`.\n\n**Sample Input:**\n```python\nbook = Book(\"1984\", \"George Orwell\", 1949, \"Dystopian\")\nprint(book)\nprint(book.summary())\n```\n\n**Sample Output:**\n```\nTitle: 1984, Author: George Orwell, Year: 1949, Genre: Dystopian\nThis book titled 1984 was written by George Orwell in 1949. It belongs to the genre of Dystopian.\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, year, genre):\n        \"\"\"\n        Initializes a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param year: The year the book was published.\n        :param genre: The genre of the book.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.year = year\n        self.genre = genre\n\n    def __str__(self):\n        \"\"\"\n        Returns a string representation of the book.\n\n        :return: A string in the format \"Title: <title>, Author: <author>, Year: <year>, Genre: <genre>\".\n        \"\"\"\n        return f\"Title: {self.title}, Author: {self.author}, Year: {self.year}, Genre: {self.genre}\"\n\n    def summary(self):\n        \"\"\"\n        Returns a summary of the book.\n\n        :return: A string summarizing the book in the format \"This book titled <title> was written by <author> in <year>. It belongs to the genre of <genre>.\".\n        \"\"\"\n        return f\"This book titled {self.title} was written by {self.author} in {self.year}. It belongs to the genre of {self.genre}.\"\n```"}
