{"text": "User: Scrape git hub for the best combination of a recognition and allocation model with a chatbot", "response": "Scraping GitHub for the best combination of a recognition and allocation model with a chatbot could involve several steps:\n\n1.   Identifying relevant GitHub repositories: You can use GitHub's search feature or GitHub's GraphQL API to search for repositories that contain the keywords \"recognition\" and \"allocation\" and \"chatbot\".\n2.   Analysis of the repositories: Once you have identified relevant repositories, you can analyze them to find the best combination of a recognition and allocation model and a chatbot. This could involve examining the code, documentation, and project descriptions of the repositories.\n3.   Documenting the findings: After analyzing the repositories, you can create a documentation of your findings, including the best practices and recommendations for integrating a recognition and allocation model with a chatbot.\n4.   Sharing the findings: Finally, you can share the documentation with the broader community, including on GitHub, through social media, or through other channels.\n\nIt's worth noting that scraping GitHub repositories is not a trivial task and it requires a good knowledge of web scraping, programming, and the specific APIs and tools used in the repositories. Also, it's important to check the terms of use of the repositories you are scraping, as some may have specific instructions or restrictions on how their code can be used."}
{"text": "User: Scrape git hub for the best combination of a recognition and allocation model with a chatbot\nAssistant: Scraping GitHub for the best combination of a recognition and allocation model with a chatbot could involve several steps:\n\n1.   Identifying relevant GitHub repositories: You can use GitHub's search feature or GitHub's GraphQL API to search for repositories that contain the keywords \"recognition\" and \"allocation\" and \"chatbot\".\n2.   Analysis of the repositories: Once you have identified relevant repositories, you can analyze them to find the best combination of a recognition and allocation model and a chatbot. This could involve examining the code, documentation, and project descriptions of the repositories.\n3.   Documenting the findings: After analyzing the repositories, you can create a documentation of your findings, including the best practices and recommendations for integrating a recognition and allocation model with a chatbot.\n4.   Sharing the findings: Finally, you can share the documentation with the broader community, including on GitHub, through social media, or through other channels.\n\nIt's worth noting that scraping GitHub repositories is not a trivial task and it requires a good knowledge of web scraping, programming, and the specific APIs and tools used in the repositories. Also, it's important to check the terms of use of the repositories you are scraping, as some may have specific instructions or restrictions on how their code can be used.\nUser: Show me the beat open source developers", "response": "Showing a list of the best open-source developers is subjective and can depend on different factors such as the specific programming language, type of project, and the developer's personal preferences. However, here are some popular and well-known open-source developers:\n\n1.   NAME_1 - Creator of the Linux kernel and known for his contributions to open-source software development.\n2.   NAME_2 - Founder of the Free Software Foundation and creator of the GPL license, which is one of the most popular open-source licenses.\n3.   NAME_3 - Creator of the Python programming language and the Benevolent Dictator of the Python community.\n4.   NAME_4 - Known for his work on the SageMaker framework, a machine learning platform for Google Cloud.\n5.   NAME_5 - Known for his work on the Samba project, which provides networking services for Unix-like systems.\n6.   NAME_6 - Creator of the Hibernate ORM (Object-Relational Mapping) tool for NAME_7 and founder of the JBoss project.\n7.   NAME_8 - Founder of the Mozilla project and advocate for open-source software.\n8.   NAME_9 - Known for his work on the Haskell programming language and his contributions to the theory of programming language design.\n9.   Chromatic - Known for his work on the Git version control system and his contributions to the open-source software community.\n10.   The Rust programming language team - The team behind the Rust programming language, which is known for its strong focus on safety, concurrent programming, and performance.\n\nIt's worth noting that there are many other open-source developers who are not listed here, and that this is not an exhaustive list."}
{"text": "User: Scrape git hub for the best combination of a recognition and allocation model with a chatbot\nAssistant: Scraping GitHub for the best combination of a recognition and allocation model with a chatbot could involve several steps:\n\n1.   Identifying relevant GitHub repositories: You can use GitHub's search feature or GitHub's GraphQL API to search for repositories that contain the keywords \"recognition\" and \"allocation\" and \"chatbot\".\n2.   Analysis of the repositories: Once you have identified relevant repositories, you can analyze them to find the best combination of a recognition and allocation model and a chatbot. This could involve examining the code, documentation, and project descriptions of the repositories.\n3.   Documenting the findings: After analyzing the repositories, you can create a documentation of your findings, including the best practices and recommendations for integrating a recognition and allocation model with a chatbot.\n4.   Sharing the findings: Finally, you can share the documentation with the broader community, including on GitHub, through social media, or through other channels.\n\nIt's worth noting that scraping GitHub repositories is not a trivial task and it requires a good knowledge of web scraping, programming, and the specific APIs and tools used in the repositories. Also, it's important to check the terms of use of the repositories you are scraping, as some may have specific instructions or restrictions on how their code can be used.\nUser: Show me the beat open source developers\nAssistant: Showing a list of the best open-source developers is subjective and can depend on different factors such as the specific programming language, type of project, and the developer's personal preferences. However, here are some popular and well-known open-source developers:\n\n1.   NAME_1 - Creator of the Linux kernel and known for his contributions to open-source software development.\n2.   NAME_2 - Founder of the Free Software Foundation and creator of the GPL license, which is one of the most popular open-source licenses.\n3.   NAME_3 - Creator of the Python programming language and the Benevolent Dictator of the Python community.\n4.   NAME_4 - Known for his work on the SageMaker framework, a machine learning platform for Google Cloud.\n5.   NAME_5 - Known for his work on the Samba project, which provides networking services for Unix-like systems.\n6.   NAME_6 - Creator of the Hibernate ORM (Object-Relational Mapping) tool for NAME_7 and founder of the JBoss project.\n7.   NAME_8 - Founder of the Mozilla project and advocate for open-source software.\n8.   NAME_9 - Known for his work on the Haskell programming language and his contributions to the theory of programming language design.\n9.   Chromatic - Known for his work on the Git version control system and his contributions to the open-source software community.\n10.   The Rust programming language team - The team behind the Rust programming language, which is known for its strong focus on safety, concurrent programming, and performance.\n\nIt's worth noting that there are many other open-source developers who are not listed here, and that this is not an exhaustive list.\nUser: Any specialized in education?", "response": "Yes, there are many open-source developers who are specialized in education. Here are a few examples:\n\n1.   Moodle - This is an open-source learning management system that is used by many educational institutions. It provides a range of features including course management, quizzes, forums, and multimedia resources.\n2.   Edubuntu - This is a version of the Ubuntu operating system that is designed specifically for educational use. It includes a range of educational software and tools, including the GNOME and KDE desktop environments, as well as the Thunderbird email client and the Firefox web browser.\n3.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n4.   OpenOLAT - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n5.   OpenOLAT LMS - This is a version of the OpenOLAT learning management system that is designed specifically for use in higher education.\n6.   Sakai - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n7.   SCORE - This is an open-source project that aims to provide a platform for educational research and evaluation.\n8.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n9.   OpenKnowledge - This is a platform that provides a wide range of open educational resources, including textbooks, images, videos, and more.\n\nIt▌"}
{"text": "User: Scrape git hub for the best combination of a recognition and allocation model with a chatbot\nAssistant: Scraping GitHub for the best combination of a recognition and allocation model with a chatbot could involve several steps:\n\n1.   Identifying relevant GitHub repositories: You can use GitHub's search feature or GitHub's GraphQL API to search for repositories that contain the keywords \"recognition\" and \"allocation\" and \"chatbot\".\n2.   Analysis of the repositories: Once you have identified relevant repositories, you can analyze them to find the best combination of a recognition and allocation model and a chatbot. This could involve examining the code, documentation, and project descriptions of the repositories.\n3.   Documenting the findings: After analyzing the repositories, you can create a documentation of your findings, including the best practices and recommendations for integrating a recognition and allocation model with a chatbot.\n4.   Sharing the findings: Finally, you can share the documentation with the broader community, including on GitHub, through social media, or through other channels.\n\nIt's worth noting that scraping GitHub repositories is not a trivial task and it requires a good knowledge of web scraping, programming, and the specific APIs and tools used in the repositories. Also, it's important to check the terms of use of the repositories you are scraping, as some may have specific instructions or restrictions on how their code can be used.\nUser: Show me the beat open source developers\nAssistant: Showing a list of the best open-source developers is subjective and can depend on different factors such as the specific programming language, type of project, and the developer's personal preferences. However, here are some popular and well-known open-source developers:\n\n1.   NAME_1 - Creator of the Linux kernel and known for his contributions to open-source software development.\n2.   NAME_2 - Founder of the Free Software Foundation and creator of the GPL license, which is one of the most popular open-source licenses.\n3.   NAME_3 - Creator of the Python programming language and the Benevolent Dictator of the Python community.\n4.   NAME_4 - Known for his work on the SageMaker framework, a machine learning platform for Google Cloud.\n5.   NAME_5 - Known for his work on the Samba project, which provides networking services for Unix-like systems.\n6.   NAME_6 - Creator of the Hibernate ORM (Object-Relational Mapping) tool for NAME_7 and founder of the JBoss project.\n7.   NAME_8 - Founder of the Mozilla project and advocate for open-source software.\n8.   NAME_9 - Known for his work on the Haskell programming language and his contributions to the theory of programming language design.\n9.   Chromatic - Known for his work on the Git version control system and his contributions to the open-source software community.\n10.   The Rust programming language team - The team behind the Rust programming language, which is known for its strong focus on safety, concurrent programming, and performance.\n\nIt's worth noting that there are many other open-source developers who are not listed here, and that this is not an exhaustive list.\nUser: Any specialized in education?\nAssistant: Yes, there are many open-source developers who are specialized in education. Here are a few examples:\n\n1.   Moodle - This is an open-source learning management system that is used by many educational institutions. It provides a range of features including course management, quizzes, forums, and multimedia resources.\n2.   Edubuntu - This is a version of the Ubuntu operating system that is designed specifically for educational use. It includes a range of educational software and tools, including the GNOME and KDE desktop environments, as well as the Thunderbird email client and the Firefox web browser.\n3.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n4.   OpenOLAT - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n5.   OpenOLAT LMS - This is a version of the OpenOLAT learning management system that is designed specifically for use in higher education.\n6.   Sakai - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n7.   SCORE - This is an open-source project that aims to provide a platform for educational research and evaluation.\n8.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n9.   OpenKnowledge - This is a platform that provides a wide range of open educational resources, including textbooks, images, videos, and more.\n\nIt▌\nUser: Decentralized?", "response": "Yes, there are many open-source developers who are specialized in education. Here are a few examples:\n\n1.   Moodle - This is an open-source learning management system that is used by many educational institutions. It provides a range of features including course management, quizzes, forums, and multimedia resources.\n2.   Edubuntu - This is a version of the Ubuntu operating system that is designed specifically for educational use. It includes a range of educational software and tools, including the GNOME and KDE desktop environments, as well as the Thunderbird email client and the Firefox web browser.\n3.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n4.   OpenOLAT - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n5.   OpenOLAT LMS - This is a version of the OpenOLAT learning management system that is designed specifically for use in higher education.\n6.   Sakai - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n7.   SCORE - This is an open-source project that aims to provide a platform for educational research and evaluation.\n8.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n9.   OpenKnowledge - This is a platform that provides a wide range of open educational resources, including textbooks, images, videos, and more.\n\nIt's worth noting that there are many other open-source developers who are specialized in education, and that this is not an exhaustive list."}
{"text": "User: Scrape git hub for the best combination of a recognition and allocation model with a chatbot\nAssistant: Scraping GitHub for the best combination of a recognition and allocation model with a chatbot could involve several steps:\n\n1.   Identifying relevant GitHub repositories: You can use GitHub's search feature or GitHub's GraphQL API to search for repositories that contain the keywords \"recognition\" and \"allocation\" and \"chatbot\".\n2.   Analysis of the repositories: Once you have identified relevant repositories, you can analyze them to find the best combination of a recognition and allocation model and a chatbot. This could involve examining the code, documentation, and project descriptions of the repositories.\n3.   Documenting the findings: After analyzing the repositories, you can create a documentation of your findings, including the best practices and recommendations for integrating a recognition and allocation model with a chatbot.\n4.   Sharing the findings: Finally, you can share the documentation with the broader community, including on GitHub, through social media, or through other channels.\n\nIt's worth noting that scraping GitHub repositories is not a trivial task and it requires a good knowledge of web scraping, programming, and the specific APIs and tools used in the repositories. Also, it's important to check the terms of use of the repositories you are scraping, as some may have specific instructions or restrictions on how their code can be used.\nUser: Show me the beat open source developers\nAssistant: Showing a list of the best open-source developers is subjective and can depend on different factors such as the specific programming language, type of project, and the developer's personal preferences. However, here are some popular and well-known open-source developers:\n\n1.   NAME_1 - Creator of the Linux kernel and known for his contributions to open-source software development.\n2.   NAME_2 - Founder of the Free Software Foundation and creator of the GPL license, which is one of the most popular open-source licenses.\n3.   NAME_3 - Creator of the Python programming language and the Benevolent Dictator of the Python community.\n4.   NAME_4 - Known for his work on the SageMaker framework, a machine learning platform for Google Cloud.\n5.   NAME_5 - Known for his work on the Samba project, which provides networking services for Unix-like systems.\n6.   NAME_6 - Creator of the Hibernate ORM (Object-Relational Mapping) tool for NAME_7 and founder of the JBoss project.\n7.   NAME_8 - Founder of the Mozilla project and advocate for open-source software.\n8.   NAME_9 - Known for his work on the Haskell programming language and his contributions to the theory of programming language design.\n9.   Chromatic - Known for his work on the Git version control system and his contributions to the open-source software community.\n10.   The Rust programming language team - The team behind the Rust programming language, which is known for its strong focus on safety, concurrent programming, and performance.\n\nIt's worth noting that there are many other open-source developers who are not listed here, and that this is not an exhaustive list.\nUser: Any specialized in education?\nAssistant: Yes, there are many open-source developers who are specialized in education. Here are a few examples:\n\n1.   Moodle - This is an open-source learning management system that is used by many educational institutions. It provides a range of features including course management, quizzes, forums, and multimedia resources.\n2.   Edubuntu - This is a version of the Ubuntu operating system that is designed specifically for educational use. It includes a range of educational software and tools, including the GNOME and KDE desktop environments, as well as the Thunderbird email client and the Firefox web browser.\n3.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n4.   OpenOLAT - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n5.   OpenOLAT LMS - This is a version of the OpenOLAT learning management system that is designed specifically for use in higher education.\n6.   Sakai - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n7.   SCORE - This is an open-source project that aims to provide a platform for educational research and evaluation.\n8.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n9.   OpenKnowledge - This is a platform that provides a wide range of open educational resources, including textbooks, images, videos, and more.\n\nIt▌\nUser: Decentralized?\nAssistant: Yes, there are many open-source developers who are specialized in education. Here are a few examples:\n\n1.   Moodle - This is an open-source learning management system that is used by many educational institutions. It provides a range of features including course management, quizzes, forums, and multimedia resources.\n2.   Edubuntu - This is a version of the Ubuntu operating system that is designed specifically for educational use. It includes a range of educational software and tools, including the GNOME and KDE desktop environments, as well as the Thunderbird email client and the Firefox web browser.\n3.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n4.   OpenOLAT - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n5.   OpenOLAT LMS - This is a version of the OpenOLAT learning management system that is designed specifically for use in higher education.\n6.   Sakai - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n7.   SCORE - This is an open-source project that aims to provide a platform for educational research and evaluation.\n8.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n9.   OpenKnowledge - This is a platform that provides a wide range of open educational resources, including textbooks, images, videos, and more.\n\nIt's worth noting that there are many other open-source developers who are specialized in education, and that this is not an exhaustive list.\nUser: Decentralized?", "response": "imedia resources.\n2.   Edubuntu - This is a version of the Ubuntu operating system that is designed specifically for educational use. It includes a range of educational software and tools, including the GNOME and KDE desktop environments, as well as the Thunderbird email client and the Firefox web browser.\n3.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n4.   OpenOLAT - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n5.   OpenOLAT LMS - This is a version of the OpenOLAT learning management system that is designed specifically for use in higher education.\n6.   Sakai - This is an open-source learning management system that provides a range of features including course management, quizzes, forums, and multimedia resources.\n7.   SCORE - This is an open-source project that aims to provide a platform for educational research and evaluation.\n8.   Khan Academy - This is an online educational platform that provides a wide range of educational resources, including videos, exercises, and quizzes, on topics such as mathematics, science, and history.\n9.   OpenKnowledge - This is a platform that provides a wide range of open educational resources, including textbooks, images, videos, and more.\n\nIt's worth noting that there are many other open-source developers who are specialized in education, and that this is not an exhaustive list."}
{"text": "You are given a dictionary `data` where each key is a string representing a date in the format \"YYYY-MM-DD\" and each value is an integer representing the sales amount for that date. Your task is to write a function `aggregate_sales` that aggregates the sales amounts by year. The function should return a dictionary where each key is a year (as a string) and each value is the total sales for that year.\n\n**Input:**\n- A dictionary `data` with keys as date strings and values as integers.\n\n**Output:**\n- A dictionary with keys as years (strings) and values as total sales for each year.\n\n**Sample Input:**\n```python\n{\n    \"2021-01-15\": 150,\n    \"2021-02-20\": 200,\n    \"2022-03-10\": 300,\n    \"2022-04-25\": 400,\n    \"2021-05-30\": 500\n}\n```\n\n**Sample Output:**\n```python\n{\n    \"2021\": 850,\n    \"2022\": 700\n}\n```", "response": "```python\ndef aggregate_sales(data):\n    \"\"\"\n    Aggregates sales amounts by year from a dictionary of date-sales pairs.\n\n    Parameters:\n    data (dict): A dictionary with date strings as keys and sales amounts as values.\n\n    Returns:\n    dict: A dictionary with years as keys and total sales for each year as values.\n    \"\"\"\n    sales_by_year = {}\n    for date_str, amount in data.items():\n        year = date_str[:4]  # Extract the year from the date string\n        if year in sales_by_year:\n            sales_by_year[year] += amount\n        else:\n            sales_by_year[year] = amount\n    return sales_by_year\n```"}
{"text": "In a Django project, design a model to represent a blog post with the following attributes:\n- `title`: A string with a maximum length of 200 characters.\n- `body`: A text field.\n- `author`: A foreign key linking to Django's built-in User model. When a user is deleted, all their blog posts should be deleted as well.\n- `publication_date`: A date-time field that automatically records the time when the blog post is created.\n- `tags`: A many-to-many relationship with another model named `Tag`. Each tag should have a unique name.\n\nDefine the `Tag` model with a single field `name` which is a string with a maximum length of 100 characters. Implement the `__str__` method for both models to return the `title` for `BlogPost` and `name` for `Tag`.\n\n**Sample Input:**\n- Creating a `Tag` with name \"Python\"\n- Creating a `BlogPost` with title \"Django Models\", body \"Django models are powerful...\", author (a User instance), and adding the \"Python\" tag.\n\n**Sample Output:**\n- `Tag` instance: \"Python\"\n- `BlogPost` instance: \"Django Models\"", "response": "```python\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Tag(models.Model):\n    \"\"\"\n    Model representing a tag for blog posts.\n    \n    Attributes:\n        name (str): The name of the tag, must be unique.\n    \"\"\"\n    name = models.CharField(max_length=100, unique=True)\n\n    def __str__(self):\n        \"\"\"\n        Returns the name of the tag.\n        \n        Returns:\n            str: The name of the tag.\n        \"\"\"\n        return self.name\n\nclass BlogPost(models.Model):\n    \"\"\"\n    Model representing a blog post.\n    \n    Attributes:\n        title (str): The title of the blog post.\n        body (str): The body content of the blog post.\n        author (User): The author of the blog post, linked to Django's User model.\n        publication_date (datetime): The date and time when the blog post was published.\n        tags (Tag): Tags associated with the blog post.\n    \"\"\"\n    title = models.CharField(max_length=200)\n    body = models.TextField()\n    author = models.ForeignKey(User, on_delete=models.CASCADE)\n    publication_date = models.DateTimeField(auto_now_add=True)\n    tags = models.ManyToManyField(Tag, related_name='blog_posts')\n\n    def __str__(self):\n        \"\"\"\n        Returns the title of the blog post.\n        \n        Returns:\n            str: The title of the blog post.\n        \"\"\"\n        return self.title\n```"}
{"text": "You are tasked with implementing a function to compute the factorial of a given non-negative integer `n`. The factorial of a non-negative integer `n` is the product of all positive integers less than or equal to `n`. By definition, the factorial of 0 is 1. Your implementation should not use any built-in factorial functions.\n\n**Input:**\n- A single non-negative integer `n` (0 ≤ n ≤ 20).\n\n**Output:**\n- A single integer representing the factorial of `n`.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n120\n```\n\n**Sample Input:**\n```\n0\n```\n\n**Sample Output:**\n```\n1\n```", "response": "```python\ndef calculate_factorial(n):\n    \"\"\"\n    Calculate the factorial of a non-negative integer n.\n    \n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n    \n    Returns:\n    int: The factorial of the given integer n.\n    \"\"\"\n    if n == 0:\n        return 1\n    \n    result = 1\n    for i in range(1, n + 1):\n        result *= i\n    \n    return result\n\n# Example usage:\n# print(calculate_factorial(5))  # Should return 120\n# print(calculate_factorial(0))  # Should return 1\n```"}
{"text": "You are given a string `s` consisting of a balanced parentheses expression. A balanced parentheses expression is one where every opening parenthesis '(' has a corresponding closing parenthesis ')', and they are correctly nested. Your task is to implement a function `max_depth(s)` that computes the maximum depth of the parentheses expression. The depth of the expression is defined as the maximum number of nested parentheses at any point in the expression. For example, the expression `((()))` has a maximum depth of 3, and the expression `(())()` has a maximum depth of 2.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5) containing a balanced parentheses expression.\n\n**Output:**\n- An integer representing the maximum depth of the expression.\n\n**Sample Input:**\n```\n((()))\n(())()\n```\n\n**Sample Output:**\n```\n3\n2\n```", "response": "```python\ndef max_depth(s):\n    \"\"\"\n    Computes the maximum depth of a balanced parentheses expression.\n\n    :param s: A string representing a balanced parentheses expression.\n    :return: An integer representing the maximum depth of the expression.\n    \"\"\"\n    max_depth = current_depth = 0\n    for char in s:\n        if char == '(':\n            current_depth += 1\n            max_depth = max(max_depth, current_depth)\n        elif char == ')':\n            current_depth -= 1\n    return max_depth\n\n# Example usage:\n# s1 = \"((()))\"\n# s2 = \"(())()\"\n# print(max_depth(s1))  # Output: 3\n# print(max_depth(s2))  # Output: 2\n```"}
{"text": "You are tasked with simulating a random walk on a 2D grid. The walk begins at the origin (0, 0) and consists of `n` steps. Each step is randomly chosen from the four cardinal directions: up, down, left, and right. Your program should output a list of tuples, where each tuple represents the coordinates of the grid after each step.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 1000), representing the number of steps in the random walk.\n\n**Output:**\n- A list of tuples, where each tuple contains two integers representing the coordinates of the grid after each step.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n[(0, 0), (0, 1), (1, 1), (1, 0), (1, 1), (2, 1)]\n```", "response": "```python\nimport random\n\ndef random_walk_2d(n):\n    \"\"\"\n    Simulates a random walk on a 2D grid starting from the origin (0, 0).\n    \n    Parameters:\n    n (int): The number of steps in the random walk.\n    \n    Returns:\n    list of tuples: A list of coordinates representing the path of the random walk.\n    \"\"\"\n    x, y = 0, 0\n    walk = [(x, y)]\n    directions = [(0, 1), (1, 0), (0, -1), (-1, 0)]\n    \n    for _ in range(n):\n        dx, dy = random.choice(directions)\n        x += dx\n        y += dy\n        walk.append((x, y))\n    \n    return walk\n\n# Example usage:\nn = 5\nprint(random_walk_2d(n))\n```"}
{"text": "You are given two lists: `words` and `distances`. Each element in `words` is a string, and each element in `distances` is an integer representing the distance between consecutive words in `words`. Your task is to compute the average distance between all pairs of consecutive words in `words`. If `words` contains fewer than two elements or `distances` is empty, return `0.0`.\n\n**Input:**\n- A list of strings `words` (1 ≤ len(words) ≤ 100).\n- A list of integers `distances` (0 ≤ len(distances) ≤ 99).\n\n**Output:**\n- A float representing the average distance between consecutive words.\n\n**Sample Input 1:**\n```\nwords = [\"apple\", \"banana\", \"cherry\", \"date\"]\ndistances = [3, 5, 2]\n```\n**Sample Output 1:**\n```\n3.3333333333333335\n```\n\n**Sample Input 2:**\n```\nwords = [\"apple\"]\ndistances = []\n```\n**Sample Output 2:**\n```\n0.0\n```\n\n**Sample Input 3:**\n```\nwords = []\ndistances = []\n```\n**Sample Output 3:**\n```\n0.0\n```", "response": "```python\ndef average_distance(words, distances):\n    \"\"\"\n    Calculate the average distance between consecutive words in the list.\n    \n    :param words: List of strings representing words.\n    :param distances: List of integers representing distances between consecutive words.\n    :return: Float representing the average distance, or 0.0 if no pairs exist.\n    \"\"\"\n    if len(words) < 2 or len(distances) == 0:\n        return 0.0\n    \n    total_distance = sum(distances)\n    number_of_pairs = len(distances)\n    \n    return total_distance / number_of_pairs\n```"}
{"text": "You are tasked with implementing a Python class `DatabaseConnection` that manages a connection to a SQLite database. The class should support the following operations:\n- `create_connection`: Establishes a connection to the SQLite database.\n- `execute_query`: Executes a given SQL query.\n- `close_connection`: Closes the connection to the SQLite database.\n\nYour implementation should handle errors gracefully, ensuring that the connection is closed properly if an error occurs during query execution. The class should use SQLite's built-in functionality for database operations.\n\n**Sample Input/Output:**\n- Input: \n  ```python\n  db = DatabaseConnection(\"my_database.db\")\n  db.create_connection()\n  db.execute_query(\"CREATE TABLE IF NOT EXISTS users(id INTEGER PRIMARY KEY, name TEXT, age INTEGER);\")\n  db.execute_query(\"INSERT INTO users (name, age) VALUES ('Alice', 30);\")\n  db.close_connection()\n  ```\n- Output:\n  ```\n  Connection to SQLite DB successful\n  Query executed successfully\n  Query executed successfully\n  The connection to SQLite DB is closed\n  ```", "response": "```python\nimport sqlite3\n\nclass DatabaseConnection:\n    def __init__(self, db_path):\n        \"\"\"\n        Initialize the DatabaseConnection class with the path to the SQLite database.\n        \n        :param db_path: Path to the SQLite database file.\n        \"\"\"\n        self.db_path = db_path\n        self.connection = None\n\n    def create_connection(self):\n        \"\"\"\n        Establish a connection to the SQLite database.\n        \"\"\"\n        try:\n            self.connection = sqlite3.connect(self.db_path)\n            print(\"Connection to SQLite DB successful\")\n        except sqlite3.Error as e:\n            print(f\"The error '{e}' occurred\")\n            self.connection = None\n\n    def execute_query(self, query):\n        \"\"\"\n        Execute a SQL query.\n        \n        :param query: SQL query to be executed.\n        :return: Cursor object if query execution is successful, None otherwise.\n        \"\"\"\n        cursor = None\n        try:\n            cursor = self.connection.cursor()\n            cursor.execute(query)\n            self.connection.commit()\n            print(\"Query executed successfully\")\n            return cursor\n        except sqlite3.Error as e:\n            print(f\"The error '{e}' occurred\")\n        finally:\n            if cursor:\n                cursor.close()\n\n    def close_connection(self):\n        \"\"\"\n        Close the connection to the SQLite database.\n        \"\"\"\n        if self.connection:\n            self.connection.close()\n            print(\"The connection to SQLite DB is closed\")\n```"}
{"text": "You are given a list of integers. Your task is to write a function `sum_even_odd` that computes the sum of all even numbers and the sum of all odd numbers in the list. The function should return a tuple with the first element being the sum of even numbers and the second element being the sum of odd numbers.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^3), where each integer `num` satisfies -10^3 ≤ num ≤ 10^3.\n\n**Output:**\n- A tuple `(even_sum, odd_sum)` where `even_sum` is the sum of all even numbers in the list and `odd_sum` is the sum of all odd numbers in the list.\n\n**Sample Input:**\n```\n[1, 2, 3, 4, 5]\n```\n\n**Sample Output:**\n```\n(6, 9)\n```", "response": "```python\ndef sum_even_odd(numbers):\n    \"\"\"\n    Computes the sum of even and odd numbers in a list.\n\n    Parameters:\n    numbers (list of int): A list of integers.\n\n    Returns:\n    tuple: A tuple containing the sum of even numbers and the sum of odd numbers.\n    \"\"\"\n    even_sum = sum(num for num in numbers if num % 2 == 0)\n    odd_sum = sum(num for num in numbers if num % 2 != 0)\n    return (even_sum, odd_sum)\n```"}
{"text": "You are given a list of dictionaries `data` and a string `key`. Each dictionary in the list may contain various keys and values, but it is guaranteed that each dictionary will have the key `key`. Your task is to implement a function `sort_nested_dicts(data, key)` that returns a new list of dictionaries sorted by the values associated with the specified `key`. If a dictionary does not contain the `key`, it should be treated as if it had a value of `0` for that key. The function should handle cases where the values associated with the key are of different types (e.g., integers, floats, strings).\n\n**Input:**\n- A list of dictionaries `data` where each dictionary may contain various keys and values.\n- A string `key` representing the key by which the dictionaries should be sorted.\n\n**Output:**\n- A new list of dictionaries sorted by the values associated with the specified `key`.\n\n**Sample Input:**\n```python\ndata = [\n    {\"name\": \"Alice\", \"age\": 30},\n    {\"name\": \"Bob\", \"age\": 25},\n    {\"name\": \"Charlie\", \"salary\": 50000}\n]\nkey = \"age\"\n```\n\n**Sample Output:**\n```python\n[\n    {\"name\": \"Bob\", \"age\": 25},\n    {\"name\": \"Alice\", \"age\": 30},\n    {\"name\": \"Charlie\", \"salary\": 50000}\n]\n```", "response": "```python\ndef sort_nested_dicts(data, key):\n    \"\"\"\n    Sorts a list of dictionaries based on a specified key.\n    \n    Parameters:\n    - data: List[Dict] - A list of dictionaries to be sorted.\n    - key: str - The key by which to sort the dictionaries.\n    \n    Returns:\n    - List[Dict] - A new list of dictionaries sorted by the specified key.\n    \"\"\"\n    def get_value(d):\n        return d.get(key, 0)\n    \n    return sorted(data, key=get_value)\n```"}
{"text": "You are given a string `text`. Your task is to implement a function `count_vowels(text)` that returns the number of vowels in the string. The function should be case-insensitive and consider the vowels 'a', 'e', 'i', 'o', 'u'. \n\n**Input:**\n- A single string `text` (1 ≤ |text| ≤ 10^5), which may contain letters, digits, punctuation, and whitespace.\n\n**Output:**\n- An integer representing the number of vowels in the string.\n\n**Sample Input:**\n```\n\"Hello, World! This is a sample text with various vowels.\"\n```\n\n**Sample Output:**\n```\n13\n```", "response": "```python\ndef count_vowels(text):\n    \"\"\"\n    Counts the number of vowels in the given string.\n    \n    Parameters:\n    text (str): The input string to analyze.\n    \n    Returns:\n    int: The number of vowels in the string.\n    \"\"\"\n    vowels = set('aeiouAEIOU')\n    return sum(1 for char in text if char in vowels)\n```"}
{"text": "You are given a list of integers `nums` and an integer `target`. Your task is to find all unique pairs of integers in `nums` that sum up to `target`. Each pair should be considered only once, regardless of the order of the integers in the pair. The function should handle duplicate values and negative integers. The order of the pairs in the output list does not matter.\n\n**Input:**\n- A list of integers `nums` (1 ≤ len(nums) ≤ 10^3, -10^3 ≤ nums[i] ≤ 10^3)\n- An integer `target` (-2000 ≤ target ≤ 2000)\n\n**Output:**\n- A list of unique pairs `[a, b]` such that `a + b = target`.\n\n**Sample Input:**\n```\nnums = [1, 2, 3, 4, 5]\ntarget = 6\n```\n\n**Sample Output:**\n```\n[[1, 5], [2, 4]]\n```\n\n**Sample Input:**\n```\nnums = [3, 3, 3, 3]\ntarget = 6\n```\n\n**Sample Output:**\n```\n[[3, 3]]\n```", "response": "```python\ndef find_pairs_with_sum(nums, target):\n    \"\"\"\n    Finds all unique pairs of integers in the list `nums` that sum up to `target`.\n    \n    :param nums: List of integers.\n    :param target: Integer representing the target sum.\n    :return: List of unique pairs [a, b] such that a + b = target.\n    \"\"\"\n    seen = set()\n    pairs = set()\n\n    for num in nums:\n        complement = target - num\n        if complement in seen:\n            pairs.add(tuple(sorted((num, complement))))\n        seen.add(num)\n\n    return [list(pair) for pair in pairs]\n```"}
{"text": "You are tasked with writing a function `generate_balanced_brackets(n)` that generates all possible combinations of balanced brackets for a given integer `n`. A sequence of brackets is considered balanced if each opening bracket '(' has a corresponding closing bracket ')', and at no point in the sequence do the closing brackets outnumber the opening brackets. Your function should return a list of strings, each representing a valid combination of balanced brackets.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 8), representing the number of pairs of brackets.\n\n**Output:**\n- A list of strings, where each string is a unique combination of balanced brackets.\n\n**Sample Input:**\n```\n3\n```\n\n**Sample Output:**\n```\n['((()))', '(()())', '(())()', '()(())', '()()()']\n```", "response": "```python\ndef generate_balanced_brackets(n):\n    \"\"\"\n    Generates all possible combinations of balanced brackets for a given integer n.\n    \n    :param n: An integer representing the number of pairs of brackets.\n    :return: A list of strings, each representing a valid combination of balanced brackets.\n    \"\"\"\n    def backtrack(s='', left=0, right=0):\n        if len(s) == 2 * n:\n            result.append(s)\n            return\n        if left < n:\n            backtrack(s + '(', left + 1, right)\n        if right < left:\n            backtrack(s + ')', left, right + 1)\n\n    result = []\n    backtrack()\n    return result\n```"}
{"text": "You are tasked with processing user interaction data from a JSON file named `user_data.json` for a web analytics project. The JSON file contains nested objects and arrays representing various user actions. Your goal is to write a Python script that reads this JSON file, flattens its nested structure, and writes the flattened data to a new JSON file named `flattened_data.json`. Your script must handle potential errors such as missing files or invalid JSON format.\n\n**Sample Input:**\n```json\n{\n    \"user\": {\n        \"id\": 123,\n        \"name\": \"John Doe\",\n        \"actions\": [\n            {\"type\": \"click\", \"element\": \"button\"},\n            {\"type\": \"hover\", \"element\": \"menu\"}\n        ]\n    }\n}\n```\n\n**Sample Output:**\n```json\n{\n    \"user_id\": 123,\n    \"user_name\": \"John Doe\",\n    \"user_actions_0_type\": \"click\",\n    \"user_actions_0_element\": \"button\",\n    \"user_actions_1_type\": \"hover\",\n    \"user_actions_1_element\": \"menu\"\n}\n```", "response": "```python\nimport json\nimport os\n\ndef flatten_json(y):\n    \"\"\"Flatten a nested JSON dictionary into a single-level dictionary.\"\"\"\n    out = {}\n\n    def flatten(x, name=''):\n        \"\"\"Recursively flatten a nested dictionary or list.\"\"\"\n        if isinstance(x, dict):\n            for a in x:\n                flatten(x[a], name + a + '_')\n        elif isinstance(x, list):\n            for i, a in enumerate(x):\n                flatten(a, name + str(i) + '_')\n        else:\n            out[name[:-1]] = x\n\n    flatten(y)\n    return out\n\ndef read_json_file(file_path):\n    \"\"\"Read and parse a JSON file, handling file not found and JSON decode errors.\"\"\"\n    try:\n        with open(file_path, 'r') as file:\n            return json.load(file)\n    except FileNotFoundError:\n        print(f\"Error: The file '{file_path}' was not found.\")\n    except json.JSONDecodeError:\n        print(f\"Error: The file '{file_path}' contains invalid JSON.\")\n\ndef write_json_file(file_path, data):\n    \"\"\"Write a dictionary to a JSON file, handling I/O errors.\"\"\"\n    try:\n        with open(file_path, 'w') as file:\n            json.dump(data, file, indent=4)\n    except IOError:\n        print(f\"Error: Could not write to file '{file_path}'.\")\n\ndef main():\n    \"\"\"Main function to read, flatten, and write JSON data.\"\"\"\n    input_file = 'user_data.json'\n    output_file = 'flattened_data.json'\n\n    data = read_json_file(input_file)\n    if data is None:\n        return\n\n    flattened_data = flatten_json(data)\n    write_json_file(output_file, flattened_data)\n\n    print(f\"Flattened data successfully written to '{output_file}'.\")\n\nif __name__ == '__main__':\n    main()\n```"}
{"text": "You are tasked with implementing a `Book` class that represents a book in a library system. The class should have the following functionalities:\n\n- **Initialization**: The constructor should accept three parameters: `title` (a string), `author` (a string), and `isbn` (a string).\n- **String Representation**: Implement a method that returns a string representation of the book in the format: `\"Title: {title}, Author: {author}, ISBN: {isbn}\"`.\n- **Equality Check**: Implement a method that checks if two `Book` objects are the same based on their ISBN numbers.\n\n**Sample Input/Output**:\n- Input: `book1 = Book(\"1984\", \"George Orwell\", \"9780451524935\")`\n- Input: `book2 = Book(\"Animal Farm\", \"George Orwell\", \"9780451526342\")`\n- Input: `book3 = Book(\"1984\", \"George Orwell\", \"9780451524935\")`\n- Output: `print(book1)` should print `\"Title: 1984, Author: George Orwell, ISBN: 9780451524935\"`\n- Output: `book1.is_same(book2)` should return `False`\n- Output: `book1.is_same(book3)` should return `True`", "response": "```python\nclass Book:\n    def __init__(self, title, author, isbn):\n        \"\"\"\n        Initializes a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param isbn: The ISBN number of the book.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.isbn = isbn\n\n    def __str__(self):\n        \"\"\"\n        Returns a string representation of the book.\n\n        :return: A string in the format \"Title: {title}, Author: {author}, ISBN: {isbn}\".\n        \"\"\"\n        return f\"Title: {self.title}, Author: {self.author}, ISBN: {self.isbn}\"\n\n    def is_same(self, other):\n        \"\"\"\n        Checks if this book is the same as another book based on their ISBN numbers.\n\n        :param other: Another Book instance to compare with.\n        :return: True if the ISBN numbers are the same, False otherwise.\n        \"\"\"\n        return self.isbn == other.isbn\n```"}
{"text": "You are given a list of products, where each product is represented as a tuple containing the product name (a string) and its price (a float). Your task is to sort the list of products first by price in ascending order. If two products have the same price, they should be sorted by their name in ascending order. Implement a function `sort_products` that takes a list of products as input and returns the sorted list.\n\n**Sample Input:**\n```python\n[('Laptop', 999.99), ('Smartphone', 499.99), ('Tablet', 299.99), ('Smartwatch', 199.99), ('Desktop', 899.99), ('Smart TV', 499.99)]\n```\n\n**Sample Output:**\n```python\n[('Smartwatch', 199.99), ('Tablet', 299.99), ('Smart TV', 499.99), ('Smartphone', 499.99), ('Desktop', 899.99), ('Laptop', 999.99)]\n```", "response": "```python\ndef sort_products(products):\n    \"\"\"\n    Sorts a list of products by price in ascending order. If two products have the same price,\n    they are sorted by name in ascending order.\n\n    :param products: List of tuples, where each tuple contains a product name and its price.\n    :return: Sorted list of products.\n    \"\"\"\n    return sorted(products, key=lambda product: (product[1], product[0]))\n\n# Example usage\nproducts = [('Laptop', 999.99), ('Smartphone', 499.99), ('Tablet', 299.99), ('Smartwatch', 199.99), ('Desktop', 899.99), ('Smart TV', 499.99)]\nsorted_products = sort_products(products)\nprint(sorted_products)\n```"}
{"text": "You are given an unsorted list of integers `numbers` which may contain duplicates. Your task is to identify and return a list of all integers that are missing from the range defined by the minimum and maximum values in `numbers`. The returned list should be sorted in ascending order.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers representing the missing numbers in the specified range, sorted in ascending order.\n\n**Sample Input:**\n```\nnumbers = [2, 5, 3, 8, 1, 9]\n```\n\n**Sample Output:**\n```\n[4, 6, 7]\n```", "response": "```python\ndef find_missing_numbers(numbers):\n    \"\"\"\n    Returns a sorted list of missing numbers in the range from the minimum to the maximum number in the input list.\n    \n    :param numbers: List of integers which may contain duplicates.\n    :return: List of missing integers in the specified range.\n    \"\"\"\n    # Remove duplicates and sort the list\n    numbers = sorted(set(numbers))\n    \n    # Initialize an empty list to store missing numbers\n    missing_numbers = []\n    \n    # Iterate through the range from the minimum to the maximum number\n    for num in range(numbers[0], numbers[-1] + 1):\n        # If the number is not in the list, add it to the missing numbers list\n        if num not in numbers:\n            missing_numbers.append(num)\n    \n    return missing_numbers\n\n# Test the function with the given list of numbers\nnumbers = [2, 5, 3, 8, 1, 9]\nprint(find_missing_numbers(numbers))\n```"}
{"text": "Implement a class `Employee` with the following specifications:\n\n- **Attributes:**\n  - `name`: A string representing the name of the employee.\n  - `employee_id`: An integer representing the unique ID of the employee.\n  - `position`: A string representing the job position of the employee.\n  - `salary`: A float representing the salary of the employee.\n\n- **Methods:**\n  - `__init__(name, employee_id, position, salary)`: Initializes the attributes.\n  - `give_raise(percentage)`: Increases the employee's salary by a given percentage. Assume the percentage is always positive.\n  - `promote(new_position)`: Changes the employee's job position to a new position.\n  - `display_info()`: Prints the employee's information in the format:\n    ```\n    Employee ID: <employee_id>\n    Name: <name>\n    Position: <position>\n    Salary: $<salary>\n    ```\n    where `<salary>` is formatted to two decimal places.\n\n**Sample Input/Output:**\n```\nInput:\nemp = Employee(\"John Doe\", 123, \"Software Engineer\", 75000)\nemp.display_info()\nemp.give_raise(10)\nemp.promote(\"Senior Software Engineer\")\nemp.display_info()\n\nOutput:\nEmployee ID: 123\nName: John Doe\nPosition: Software Engineer\nSalary: $75000.00\nEmployee ID: 123\nName: John Doe\nPosition: Senior Software Engineer\nSalary: $82500.00\n```", "response": "```python\nclass Employee:\n    def __init__(self, name, employee_id, position, salary):\n        \"\"\"\n        Initializes the Employee object with the given attributes.\n        \n        :param name: str, the name of the employee\n        :param employee_id: int, the unique ID of the employee\n        :param position: str, the job position of the employee\n        :param salary: float, the salary of the employee\n        \"\"\"\n        self.name = name\n        self.employee_id = employee_id\n        self.position = position\n        self.salary = salary\n\n    def give_raise(self, percentage):\n        \"\"\"\n        Increases the employee's salary by a given percentage.\n        \n        :param percentage: float, the percentage by which to increase the salary\n        \"\"\"\n        self.salary += self.salary * (percentage / 100)\n\n    def promote(self, new_position):\n        \"\"\"\n        Changes the employee's job position to a new position.\n        \n        :param new_position: str, the new job position of the employee\n        \"\"\"\n        self.position = new_position\n\n    def display_info(self):\n        \"\"\"\n        Prints the employee's information in a readable format.\n        \"\"\"\n        print(f\"Employee ID: {self.employee_id}\")\n        print(f\"Name: {self.name}\")\n        print(f\"Position: {self.position}\")\n        print(f\"Salary: ${self.salary:.2f}\")\n```"}
{"text": "You are tasked with writing a function `generate_circles` for a graphics simulation. The function should generate a specified number of circles, each with a random center and radius. The center of each circle must lie within the unit square [0, 1] x [0, 1], and the radius must be within the range [0, max_radius].\n\n**Function Signature:**\n```python\ndef generate_circles(num_circles: int, max_radius: float) -> List[Dict[str, Union[Tuple[float, float], float]]]:\n```\n\n**Input:**\n- `num_circles`: An integer (1 ≤ num_circles ≤ 1000) representing the number of circles to generate.\n- `max_radius`: A float (0 ≤ max_radius ≤ 1) representing the maximum allowable radius for the circles.\n\n**Output:**\n- A list of dictionaries, where each dictionary contains:\n  - 'center': A tuple of two floats representing the x and y coordinates of the circle's center.\n  - 'radius': A float representing the radius of the circle.\n\n**Sample Input:**\n```python\ngenerate_circles(3, 0.5)\n```\n\n**Sample Output:**\n```python\n[\n    {'center': (0.234, 0.567), 'radius': 0.345},\n    {'center': (0.890, 0.123), 'radius': 0.456},\n    {'center': (0.456, 0.789), 'radius': 0.123}\n]\n```\n*Note: The actual output values will vary due to randomness.*", "response": "```python\nimport random\nfrom typing import List, Dict, Tuple, Union\n\ndef generate_circles(num_circles: int, max_radius: float) -> List[Dict[str, Union[Tuple[float, float], float]]]:\n    \"\"\"\n    Generates a list of circles with random centers and radii.\n    \n    Parameters:\n    - num_circles: The number of circles to generate.\n    - max_radius: The maximum allowable radius for the circles.\n    \n    Returns:\n    - A list of dictionaries, each representing a circle with 'center' and 'radius' keys.\n    \"\"\"\n    circles = []\n    for _ in range(num_circles):\n        center_x = random.uniform(0, 1)\n        center_y = random.uniform(0, 1)\n        radius = random.uniform(0, max_radius)\n        circles.append({'center': (center_x, center_y), 'radius': radius})\n    return circles\n```"}
{"text": "You are given a list of transactions, where each transaction is represented as a tuple containing two integers: the cost price and the selling price. Your task is to implement a function `calculate_profit` that computes the total profit or loss from these transactions. The function should return a positive integer if there is a profit, and a negative integer if there is a loss.\n\n**Input:**\n- A list of tuples, where each tuple contains two integers: `(cost_price, selling_price)`.\n\n**Output:**\n- An integer representing the total profit or loss.\n\n**Sample Input:**\n```python\n[(100, 150), (200, 180), (300, 350), (400, 380)]\n```\n\n**Sample Output:**\n```\n40\n```", "response": "```python\ndef calculate_profit(transactions):\n    \"\"\"\n    Calculate the total profit or loss from a list of transactions.\n\n    Parameters:\n    transactions (list of tuples): A list where each tuple contains two integers,\n                                   the cost price and the selling price of a transaction.\n\n    Returns:\n    int: The total profit or loss. Positive if there is a profit, negative if there is a loss.\n    \"\"\"\n    total_profit_or_loss = 0\n    for cost_price, selling_price in transactions:\n        profit_or_loss = selling_price - cost_price\n        total_profit_or_loss += profit_or_loss\n    return total_profit_or_loss\n\n# Example usage:\ntransactions = [(100, 150), (200, 180), (300, 350), (400, 380)]\nresult = calculate_profit(transactions)\nprint(result)  # Output: 40\n```"}
{"text": "You are given an array of integers `sequence` and an integer `target`. Your task is to find the starting and ending indices of the first contiguous subarray within `sequence` that sums up to `target`. If multiple subarrays meet the criteria, return the indices of the subarray that starts first. If no such subarray exists, return an empty list.\n\n**Input:**\n- An array of integers `sequence` (1 ≤ len(sequence) ≤ 10^5), where each element is in the range [-10^9, 10^9].\n- An integer `target` (-10^9 ≤ target ≤ 10^9).\n\n**Output:**\n- A list containing two integers representing the starting and ending indices of the subarray. If no such subarray exists, return an empty list.\n\n**Sample Input:**\n```\nsequence = [1, 2, 3, 4, 5]\ntarget = 9\n```\n\n**Sample Output:**\n```\n[2, 4]\n```", "response": "```python\ndef find_subarray_with_sum(sequence, target):\n    \"\"\"\n    Finds the starting and ending indices of the first contiguous subarray\n    within the given sequence that sums up to the target. If no such subarray\n    exists, returns an empty list.\n\n    :param sequence: List[int] - The array of integers.\n    :param target: int - The target sum.\n    :return: List[int] - The starting and ending indices of the subarray, or an empty list if no such subarray exists.\n    \"\"\"\n    current_sum = 0\n    start_index = 0\n    indices = {}\n\n    for end_index in range(len(sequence)):\n        current_sum += sequence[end_index]\n\n        if current_sum == target:\n            return [start_index, end_index]\n\n        if (current_sum - target) in indices:\n            return [indices[current_sum - target] + 1, end_index]\n\n        indices[current_sum] = end_index\n\n    return []\n```"}
{"text": "You are tasked with developing a RESTful API using Flask for a web application that supports basic CRUD operations on a collection of items. Your API must include the following endpoints:\n\n- `GET /items`: Retrieve a list of all items.\n- `GET /items/<id>`: Retrieve a specific item by its ID. If the item does not exist, return a 404 error.\n- `POST /items`: Create a new item. The request body should be a JSON object containing the item data. If the request body is invalid, return a 400 error.\n- `PUT /items/<id>`: Update an existing item. The request body should be a JSON object containing the updated item data. If the item does not exist or the request body is invalid, return a 404 or 400 error, respectively.\n- `DELETE /items/<id>`: Delete an item by its ID. If the item does not exist, return a 404 error.\n\n**Sample Input/Output:**\n\n1. **GET /items**\n   - Response: `{\"1\": {\"name\": \"Item 1\", \"description\": \"This is item 1\"}, \"2\": {\"name\": \"Item 2\", \"description\": \"This is item 2\"}}`\n\n2. **GET /items/1**\n   - Response: `{\"name\": \"Item 1\", \"description\": \"This is item 1\"}`\n\n3. **POST /items**\n   - Request Body: `{\"name\": \"Item 3\", \"description\": \"This is item 3\"}`\n   - Response: `{\"name\": \"Item 3\", \"description\": \"This is item 3\"}`\n\n4. **PUT /items/1**\n   - Request Body: `{\"name\": \"Updated Item 1\", \"description\": \"Updated description\"}`\n   - Response: `{\"name\": \"Updated Item 1\", \"description\": \"Updated description\"}`\n\n5. **DELETE /items/2**\n   - Response: `{\"result\": true}`", "response": "```python\nfrom flask import Flask, jsonify, request, abort\n\napp = Flask(__name__)\n\n# Sample data as a dictionary to mimic a database\nitems = {\n    1: {'name': 'Item 1', 'description': 'This is item 1'},\n    2: {'name': 'Item 2', 'description': 'This is item 2'}\n}\n\ndef find_item(item_id):\n    \"\"\"\n    Helper function to find an item by its ID.\n    \n    :param item_id: ID of the item to find.\n    :return: Item dictionary if found, otherwise None.\n    \"\"\"\n    item_id = int(item_id)\n    return items.get(item_id)\n\n@app.route('/items', methods=['GET'])\ndef get_items():\n    \"\"\"\n    Retrieve a list of all items.\n    \n    :return: JSON response containing all items.\n    \"\"\"\n    return jsonify(items)\n\n@app.route('/items/<id>', methods=['GET'])\ndef get_item(id):\n    \"\"\"\n    Retrieve a specific item by its ID.\n    \n    :param id: ID of the item to retrieve.\n    :return: JSON response containing the item if found, otherwise 404 error.\n    \"\"\"\n    item = find_item(id)\n    if item is None:\n        abort(404)\n    return jsonify(item)\n\n@app.route('/items', methods=['POST'])\ndef create_item():\n    \"\"\"\n    Create a new item.\n    \n    :return: JSON response containing the created item and 201 status code if successful, otherwise 400 error.\n    \"\"\"\n    if not request.json or 'name' not in request.json:\n        abort(400)\n    item_id = max(items.keys()) + 1 if items else 1\n    item = {\n        'name': request.json['name'],\n        'description': request.json.get('description', \"\")\n    }\n    items[item_id] = item\n    return jsonify(item), 201\n\n@app.route('/items/<id>', methods=['PUT'])\ndef update_item(id):\n    \"\"\"\n    Update an existing item.\n    \n    :param id: ID of the item to update.\n    :return: JSON response containing the updated item if successful, otherwise 404 or 400 error.\n    \"\"\"\n    item = find_item(id)\n    if item is None:\n        abort(404)\n    if not request.json:\n        abort(400)\n    item['name'] = request.json.get('name', item['name'])\n    item['description'] = request.json.get('description', item['description'])\n    return jsonify(item)\n\n@app.route('/items/<id>', methods=['DELETE'])\ndef delete_item(id):\n    \"\"\"\n    Delete an item by its ID.\n    \n    :param id: ID of the item to delete.\n    :return: JSON response indicating successful deletion if item exists, otherwise 404 error.\n    \"\"\"\n    item = find_item(id)\n    if item is None:\n        abort(404)\n    del items[int(id)]\n    return jsonify({'result': True})\n\n@app.errorhandler(404)\ndef not_found(error):\n    \"\"\"\n    Handle 404 Not Found errors.\n    \n    :param error: Error object.\n    :return: JSON response with error message and 404 status code.\n    \"\"\"\n    return jsonify({'error': 'Not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    \"\"\"\n    Handle 400 Bad Request errors.\n    \n    :param error: Error object.\n    :return: JSON response with error message and 400 status code.\n    \"\"\"\n    return jsonify({'error': 'Bad request'}), 400\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```"}
{"text": "You are tasked with implementing a `Car` class for a virtual car dealership system. The `Car` class should have the following attributes and methods:\n\n- **Attributes:**\n  - `make`: A string representing the manufacturer of the car.\n  - `model`: A string representing the model of the car.\n  - `year`: An integer representing the year the car was manufactured.\n  - `price`: A float representing the price of the car.\n  - `color`: A string representing the color of the car.\n\n- **Methods:**\n  - `get_info`: Returns a string in the format \"YEAR MAKE MODEL, Color: COLOR\".\n  - `discount(percentage)`: Applies a percentage discount to the car's price and returns the discounted price. The percentage should be between 0 and 100, inclusive. If the percentage is outside this range, raise a `ValueError`.\n  - `paint(new_color)`: Changes the color of the car to `new_color`.\n\n**Sample Input/Output:**\n- Input: `Car(\"Toyota\", \"Corolla\", 2020, 18000, \"Blue\")`\n- `get_info()` Output: `\"2020 Toyota Corolla, Color: Blue\"`\n- `discount(10)` Output: `16200.0`\n- `paint(\"Red\")`\n- `get_info()` Output: `\"2020 Toyota Corolla, Color: Red\"`", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, price, color):\n        self.make = make\n        self.model = model\n        self.year = year\n        self.price = price\n        self.color = color\n\n    def get_info(self):\n        \"\"\"\n        Returns a string containing the make, model, year, and color of the car.\n        \n        Returns:\n            str: A formatted string with the car's information.\n        \"\"\"\n        return f\"{self.year} {self.make} {self.model}, Color: {self.color}\"\n\n    def discount(self, percentage):\n        \"\"\"\n        Applies a percentage discount to the car's price and returns the discounted price.\n        \n        Args:\n            percentage (float): The discount percentage to apply.\n        \n        Returns:\n            float: The discounted price of the car.\n        \n        Raises:\n            ValueError: If the percentage is not between 0 and 100.\n        \"\"\"\n        if 0 <= percentage <= 100:\n            discount_amount = self.price * (percentage / 100)\n            discounted_price = self.price - discount_amount\n            return discounted_price\n        else:\n            raise ValueError(\"Percentage should be between 0 and 100\")\n\n    def paint(self, new_color):\n        \"\"\"\n        Changes the color of the car to a new color specified by the user.\n        \n        Args:\n            new_color (str): The new color of the car.\n        \"\"\"\n        self.color = new_color\n```"}
{"text": "You are tasked with implementing a `Book` class in Python. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `title`: A string representing the title of the book.\n  - `author`: A string representing the author of the book.\n  - `isbn`: A string representing the ISBN of the book.\n  - `publication_year`: An integer representing the year the book was published.\n\n- **Methods:**\n  - `describe()`: Returns a string that describes the book in the format: `\"Title: {title}, Author: {author}, ISBN: {isbn}, Year: {publication_year}\"`.\n  - `is_classic()`: Returns `True` if the book was published before 1920, otherwise returns `False`.\n\n**Sample Input:**\n```python\nbook = Book(\"1984\", \"George Orwell\", \"9780451524935\", 1949)\nprint(book.describe())\nprint(book.is_classic())\n```\n\n**Sample Output:**\n```\nTitle: 1984, Author: George Orwell, ISBN: 9780451524935, Year: 1949\nFalse\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, isbn, publication_year):\n        \"\"\"\n        Initializes a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param isbn: The ISBN of the book.\n        :param publication_year: The year the book was published.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.isbn = isbn\n        self.publication_year = publication_year\n\n    def describe(self):\n        \"\"\"\n        Returns a string describing the book.\n\n        :return: A string in the format \"Title: {title}, Author: {author}, ISBN: {isbn}, Year: {publication_year}\".\n        \"\"\"\n        return f\"Title: {self.title}, Author: {self.author}, ISBN: {self.isbn}, Year: {self.publication_year}\"\n\n    def is_classic(self):\n        \"\"\"\n        Determines if the book is a classic (published before 1920).\n\n        :return: True if the book is a classic, False otherwise.\n        \"\"\"\n        return self.publication_year < 1920\n```"}
{"text": "You are given a text file named `example.txt`. Your task is to write a program that reads this file, counts the number of words, and outputs the total word count. Assume that words are separated by whitespace. If the file does not exist, your program should output an appropriate message.\n\n**Sample Input:**\nFile `example.txt` contains:\n```\nHello world this is a test\n```\n\n**Sample Output:**\n```\nThe file 'example.txt' has 6 words.\n```", "response": "```python\ndef count_words_in_file(filename):\n    \"\"\"\n    Counts the number of words in a given text file.\n\n    Parameters:\n    filename (str): The name of the file to read.\n\n    Returns:\n    int or None: The number of words in the file, or None if the file does not exist.\n    \"\"\"\n    try:\n        with open(filename, 'r') as file:\n            content = file.read()\n            words = content.split()\n            return len(words)\n    except FileNotFoundError:\n        print(f\"The file {filename} does not exist.\")\n        return None\n\n# Usage\nfilename = 'example.txt'\nword_count = count_words_in_file(filename)\nif word_count is not None:\n    print(f\"The file '{filename}' has {word_count} words.\")\n```"}
{"text": "You are tasked with writing a Python script that automates the retrieval of weather data from the OpenWeatherMap API and stores the data in a CSV file. Your script should handle network errors gracefully and only save data if the API request is successful. The CSV file should include a header row with the following columns: Date, City, Temperature (C), and Weather Description. The date should be formatted as `YYYY-MM-DD HH:MM:SS`.\n\n**Input:**\n- The API key for OpenWeatherMap.\n- The name of the city for which to fetch the weather data.\n\n**Output:**\n- A CSV file named `weather_data.csv` containing the weather data.\n- Print \"Weather data saved successfully.\" if the data is saved successfully.\n- Print an error message if the API request fails or if there is a network issue.\n\n**Sample Input:**\n- API Key: `your_api_key_here`\n- City Name: `London`\n\n**Sample Output:**\n- `weather_data.csv` with the following content:\n  ```\n  Date,City,Temperature (C),Weather Description\n  2023-10-05 14:30:00,London,15.2,clear sky\n  ```\n- Console Output:\n  ```\n  Weather data saved successfully.\n  ```", "response": "```python\nimport requests\nimport csv\nfrom datetime import datetime\n\ndef fetch_weather_data(api_key, city_name):\n    \"\"\"\n    Fetches weather data from the OpenWeatherMap API for a given city.\n\n    Parameters:\n    api_key (str): The API key for OpenWeatherMap.\n    city_name (str): The name of the city for which to fetch the weather data.\n\n    Returns:\n    dict: The JSON response from the API.\n    \"\"\"\n    base_url = \"http://api.openweathermap.org/data/2.5/weather?\"\n    complete_url = f\"{base_url}appid={api_key}&q={city_name}&units=metric\"\n    response = requests.get(complete_url)\n    return response.json()\n\ndef save_to_csv(weather_data, filename='weather_data.csv'):\n    \"\"\"\n    Saves the weather data to a CSV file.\n\n    Parameters:\n    weather_data (dict): The weather data to save.\n    filename (str): The name of the CSV file to save the data to.\n    \"\"\"\n    with open(filename, mode='a', newline='', encoding='utf-8') as file:\n        writer = csv.writer(file)\n\n        # Write the header if the file is empty\n        if file.tell() == 0:\n            writer.writerow(['Date', 'City', 'Temperature (C)', 'Weather Description'])\n\n        # Write the weather data\n        date = datetime.now().strftime('%Y-%m-%d %H:%M:%S')\n        city = weather_data['name']\n        temperature = weather_data['main']['temp']\n        weather_description = weather_data['weather'][0]['description']\n        row = [date, city, temperature, weather_description]\n        writer.writerow(row)\n\ndef main():\n    \"\"\"\n    Main function to fetch weather data and save it to a CSV file.\n    \"\"\"\n    api_key = '<YOUR_API_KEY>'\n    city_name = 'London'  # You can change the city name here\n    \n    try:\n        weather_data = fetch_weather_data(api_key, city_name)\n        if weather_data.get('cod') != 200:\n            print(f\"Error: {weather_data.get('message')}\")\n        else:\n            save_to_csv(weather_data)\n            print(\"Weather data saved successfully.\")\n    except requests.exceptions.RequestException as e:\n        print(f\"Network error: {e}\")\n\nif __name__ == '__main__':\n    main()\n```"}
{"text": "You are given a string `text`. Your task is to implement a function `count_unique_words(text)` that returns the number of unique words in the string. The comparison should be case-insensitive and punctuation should be ignored. \n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 10^5) containing English letters, spaces, and punctuation marks.\n\n**Output:**\n- An integer representing the number of unique words in the string.\n\n**Sample Input:**\n```\n\"Hello, world! Hello, Python. Hello, world!\"\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\nimport string\n\ndef count_unique_words(text):\n    \"\"\"\n    Counts the number of unique words in a given text.\n    \n    Parameters:\n    text (str): The input string containing words.\n    \n    Returns:\n    int: The number of unique words in the text.\n    \"\"\"\n    # Convert the text to lowercase\n    text = text.lower()\n    \n    # Remove punctuation using str.translate and str.maketrans\n    text = text.translate(str.maketrans('', '', string.punctuation))\n    \n    # Split the text into words\n    words = text.split()\n    \n    # Use a set to find unique words\n    unique_words = set(words)\n    \n    # Return the number of unique words\n    return len(unique_words)\n\n# Example usage\nprint(count_unique_words(\"Hello, world! Hello, Python. Hello, world!\"))  # Output: 3\n```"}
{"text": "You are given a sorted array `arr` of `n` distinct integers and a target integer `x`. Your task is to implement a function `binary_search(arr, x)` that performs a binary search to find the index of the target integer `x` in the array. If the target integer is not present in the array, the function should return `-1`.\n\n**Input:**\n- The first line contains an integer `n` (1 ≤ n ≤ 10^5), the number of elements in the array.\n- The second line contains `n` space-separated integers representing the sorted array `arr`.\n- The third line contains an integer `x`, the target integer to search for.\n\n**Output:**\n- Print a single integer, the index of the target integer `x` in the array `arr` (0-based indexing). If `x` is not found, print `-1`.\n\n**Sample Input:**\n```\n10\n1 2 3 4 5 6 7 8 9 10\n7\n```\n\n**Sample Output:**\n```\n6\n```", "response": "```python\ndef binary_search(arr, x):\n    \"\"\"\n    Perform a binary search on a sorted array to find the index of the target integer.\n    \n    Parameters:\n    arr (list of int): The sorted array of integers.\n    x (int): The target integer to search for.\n    \n    Returns:\n    int: The index of the target integer if found, otherwise -1.\n    \"\"\"\n    left, right = 0, len(arr) - 1\n    \n    while left <= right:\n        mid = (left + right) // 2\n        if arr[mid] == x:\n            return mid\n        elif arr[mid] < x:\n            left = mid + 1\n        else:\n            right = mid - 1\n    \n    return -1\n\n# Example usage:\narr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\nx = 7\nprint(binary_search(arr, x))  # Output: 6\n```"}
{"text": "You are given a list of sentences. Your task is to write a function that processes each sentence by capitalizing the first letter of each word and converting the rest of the letters in each word to lowercase. The function should return a new list with the modified sentences. Assume that each sentence consists of words separated by spaces.\n\n**Sample Input:**\n```python\n[\"this is a test\", \"ANOTHER test sentence\", \"python programming is fun\"]\n```\n\n**Sample Output:**\n```python\n[\"This Is A Test\", \"Another Test Sentence\", \"Python Programming Is Fun\"]\n```", "response": "```python\ndef capitalize_sentences(sentences):\n    \"\"\"\n    Capitalizes the first letter of each word in each sentence of the input list and converts the rest of the letters to lowercase.\n\n    Parameters:\n    sentences (list of str): A list of sentences where each sentence is a string.\n\n    Returns:\n    list of str: A new list of sentences with each word capitalized appropriately.\n    \"\"\"\n    return [' '.join(word.capitalize() for word in sentence.split()) for sentence in sentences]\n\n# Example usage:\ninput_sentences = [\"this is a test\", \"ANOTHER test sentence\", \"python programming is fun\"]\noutput_sentences = capitalize_sentences(input_sentences)\nprint(output_sentences)  # Output: ['This Is A Test', 'Another Test Sentence', 'Python Programming Is Fun']\n```"}
{"text": "You are tasked with implementing a `Product` class in Python. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `name`: A string representing the name of the product.\n  - `price`: A float representing the price of the product.\n  - `quantity`: An integer representing the quantity of the product in stock.\n\n- **Methods:**\n  - `apply_discount(discount_percentage)`: A method that takes a discount percentage as an argument and reduces the product's price by the specified percentage. The discount percentage should be between 0 and 100, inclusive. If the discount percentage is outside this range, raise a `ValueError`.\n  - `restock(amount)`: A method that takes a number of units as an argument and increases the product's quantity by that amount. The amount should be non-negative. If the amount is negative, raise a `ValueError`.\n  - `sell(amount)`: A method that takes a number of units as an argument and decreases the product's quantity by that amount. The amount should be non-negative. If the amount is negative, raise a `ValueError`. If there are not enough units in stock to fulfill the sell request, raise a `ValueError`.\n\n**Sample Input/Output:**\n- Input: `product = Product(\"Laptop\", 1000, 20)`\n- After `product.apply_discount(10)`, `product.price` should be `900.0`.\n- After `product.restock(5)`, `product.quantity` should be `25`.\n- After `product.sell(10)`, `product.quantity` should be `15`.\n- Calling `product.sell(16)` should raise a `ValueError` with the message `\"Not enough stock to sell 16 units.\"`.", "response": "```python\nclass Product:\n    def __init__(self, name, price, quantity):\n        \"\"\"\n        Initialize a new Product instance.\n\n        :param name: The name of the product.\n        :param price: The price of the product.\n        :param quantity: The quantity of the product in stock.\n        \"\"\"\n        self.name = name\n        self.price = price\n        self.quantity = quantity\n\n    def apply_discount(self, discount_percentage):\n        \"\"\"\n        Apply a discount to the product's price.\n\n        :param discount_percentage: The discount percentage to apply.\n        :raises ValueError: If the discount percentage is not between 0 and 100.\n        \"\"\"\n        if not (0 <= discount_percentage <= 100):\n            raise ValueError(\"Discount percentage must be between 0 and 100.\")\n        self.price *= (1 - discount_percentage / 100)\n\n    def restock(self, amount):\n        \"\"\"\n        Increase the product's quantity in stock.\n\n        :param amount: The number of units to restock.\n        :raises ValueError: If the restock amount is negative.\n        \"\"\"\n        if amount < 0:\n            raise ValueError(\"Restock amount must be non-negative.\")\n        self.quantity += amount\n\n    def sell(self, amount):\n        \"\"\"\n        Decrease the product's quantity in stock.\n\n        :param amount: The number of units to sell.\n        :raises ValueError: If the sell amount is negative or if there are not enough units in stock.\n        \"\"\"\n        if amount < 0:\n            raise ValueError(\"Sell amount must be non-negative.\")\n        if self.quantity < amount:\n            raise ValueError(f\"Not enough stock to sell {amount} units.\")\n        self.quantity -= amount\n\n# Example usage:\nproduct = Product(\"Laptop\", 1000, 20)\nproduct.apply_discount(10)\nproduct.restock(5)\nproduct.sell(10)\ntry:\n    product.sell(16)\nexcept ValueError as e:\n    print(e)\n```"}
{"text": "You are tasked with implementing a Python class `XMLParser` designed to parse an XML file and extract all values associated with a specified tag. Your class should include a method `parse_file` that accepts two parameters: the path to the XML file and the tag name to search for. The method should return a list of text values found within the specified tag. Assume the XML file is well-formed and the tag name is unique within the XML structure.\n\n**Sample Input:**\nConsider an XML file `data.xml` with the following content:\n```xml\n<root>\n    <item>Value1</item>\n    <item>Value2</item>\n    <item>Value3</item>\n</root>\n```\nFor the input `file_path = 'data.xml'` and `tag_name = 'item'`, the method should return `['Value1', 'Value2', 'Value3']`.", "response": "```python\nimport xml.etree.ElementTree as ET\n\nclass XMLParser:\n    def parse_file(self, file_path, tag_name):\n        \"\"\"\n        Parses an XML file and extracts all text values associated with a specified tag.\n\n        Parameters:\n        file_path (str): The path to the XML file.\n        tag_name (str): The tag name to search for in the XML file.\n\n        Returns:\n        list: A list of text values found within the specified tag.\n        \"\"\"\n        tree = ET.parse(file_path)\n        root = tree.getroot()\n        return [elem.text for elem in root.findall(f\".//{tag_name}\")]\n```"}
{"text": "You are tasked with implementing a function named `factorial` that calculates the factorial of a non-negative integer `n`. The factorial of a non-negative integer `n` is the product of all positive integers less than or equal to `n`. By definition, the factorial of 0 is 1. Your function should raise a `ValueError` if a negative integer is provided as input.\n\n**Input:**\n- A single integer `n` (0 ≤ n ≤ 20).\n\n**Output:**\n- An integer representing the factorial of `n`.\n\n**Sample Input:**\n```\n0\n5\n```\n\n**Sample Output:**\n```\n1\n120\n```", "response": "```python\ndef factorial(n):\n    \"\"\"\n    Calculate the factorial of a non-negative integer n.\n    \n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n    \n    Returns:\n    int: The factorial of the given integer n.\n    \n    Raises:\n    ValueError: If n is a negative integer.\n    \"\"\"\n    if n < 0:\n        raise ValueError(\"Factorial is not defined for negative numbers\")\n    \n    result = 1\n    for i in range(1, n + 1):\n        result *= i\n    return result\n\n# Example Usage:\n# print(factorial(0))  # Output: 1\n# print(factorial(5))  # Output: 120\n```"}
{"text": "You are tasked with implementing a Python generator function named `read_large_file` that reads a large file line by line without loading the entire file into memory. Your function should yield each line as it is read. Your program should handle files with up to 1 GB in size efficiently.\n\n**Function Signature:**\n```python\ndef read_large_file(file_path: str) -> str:\n```\n\n**Input:**\n- A string `file_path` representing the path to the file to be read.\n\n**Output:**\n- The function should yield each line from the file one by one.\n\n**Sample Input:**\nAssume a file named \"sample.txt\" with the following content:\n```\nHello World\nCompetitive Programming\nIs Fun\n```\n\n**Sample Output:**\n```\nHello World\nCompetitive Programming\nIs Fun\n```", "response": "```python\ndef read_large_file(file_path: str) -> str:\n    \"\"\"\n    Generator function to read a large file line by line without loading the entire file into memory.\n    \n    :param file_path: Path to the file to be read\n    :yield: Each line from the file\n    \"\"\"\n    with open(file_path, 'r') as file:\n        for line in file:\n            yield line\n\n# Example usage:\n# Assuming you have a file named \"sample.txt\" in the current directory\nfile_path = 'sample.txt'\nfor line in read_large_file(file_path):\n    print(line.strip())  # Using strip() to remove any leading/trailing whitespace including newline characters\n```"}
{"text": "You are given a list of strings, where each string is a sentence. Your task is to implement a function `generate_markdown_list` that converts this list into a markdown formatted list. Each sentence should be a separate item in the markdown list, prefixed with a dash and a space.\n\n**Input:**\n- A list of strings, `sentences`, where each string is a sentence.\n\n**Output:**\n- A single string representing the markdown formatted list.\n\n**Sample Input:**\n```python\n[\"This is the first item.\", \"This is the second item.\", \"This is the third item.\"]\n```\n\n**Sample Output:**\n```\n- This is the first item.\n- This is the second item.\n- This is the third item.\n```", "response": "```python\ndef generate_markdown_list(sentences):\n    \"\"\"\n    Converts a list of sentences into a markdown formatted list.\n\n    Parameters:\n    sentences (list of str): A list where each element is a sentence.\n\n    Returns:\n    str: A string representing the markdown formatted list.\n    \"\"\"\n    return '\\n'.join(f\"- {sentence}\" for sentence in sentences)\n\n# Example usage:\nsentences = [\"This is the first item.\", \"This is the second item.\", \"This is the third item.\"]\nmarkdown_list = generate_markdown_list(sentences)\nprint(markdown_list)\n```"}
{"text": "You are tasked with implementing a `Matrix` class in Python that supports basic matrix operations: addition, subtraction, and multiplication. Your class should handle matrices represented as 2D lists of integers or floats. The class should raise a `ValueError` if the input is invalid or if operations are attempted on matrices of incompatible dimensions.\n\n**Methods to Implement:**\n- `__init__(self, data)`: Initializes the matrix with a 2D list.\n- `__str__(self)`: Returns a string representation of the matrix.\n- `__add__(self, other)`: Adds two matrices and returns the result.\n- `__sub__(self, other)`: Subtracts the second matrix from the first and returns the result.\n- `__mul__(self, other)`: Multiplies two matrices and returns the result.\n\n**Sample Input/Output:**\n```python\nm1 = Matrix([[1, 2], [3, 4]])\nm2 = Matrix([[2, 0], [1, 2]])\nprint(m1 + m2)  # Output: 3\t2\\n4\t6\nprint(m1 - m2)  # Output: -1\t2\\n2\t2\nprint(m1 * m2)  # Output: 4\t4\\n10\t8\n```", "response": "```python\nclass Matrix:\n    def __init__(self, data):\n        \"\"\"\n        Initialize the Matrix with a 2D list of numbers\n        \n        :param data: List[List[int/float]] - a 2D list representing the matrix\n        \"\"\"\n        if not data or not all(len(row) == len(data[0]) for row in data):\n            raise ValueError(\"Invalid input: Must be a 2D list with rows of the same length\")\n        \n        self.data = data\n        self.rows = len(data)\n        self.cols = len(data[0]) if self.rows > 0 else 0\n\n    def __str__(self):\n        \"\"\"\n        String representation of the matrix\n        \n        :return: str - formatted string representation of the matrix\n        \"\"\"\n        return '\\n'.join(['\\t'.join(map(str, row)) for row in self.data])\n\n    def __add__(self, other):\n        \"\"\"\n        Addition of two matrices\n        \n        :param other: Matrix - another matrix to be added to the current matrix\n        :return: Matrix - new matrix that is the result of the addition of the two matrices\n        \"\"\"\n        if self.rows != other.rows or self.cols != other.cols:\n            raise ValueError(\"Matrices have different dimensions and cannot be added\")\n\n        result_data = [[self.data[i][j] + other.data[i][j] for j in range(self.cols)] for i in range(self.rows)]\n        return Matrix(result_data)\n\n    def __sub__(self, other):\n        \"\"\"\n        Subtraction of two matrices\n        \n        :param other: Matrix - another matrix to be subtracted from the current matrix\n        :return: Matrix - new matrix that is the result of the subtraction of the two matrices\n        \"\"\"\n        if self.rows != other.rows or self.cols != other.cols:\n            raise ValueError(\"Matrices have different dimensions and cannot be subtracted\")\n\n        result_data = [[self.data[i][j] - other.data[i][j] for j in range(self.cols)] for i in range(self.rows)]\n        return Matrix(result_data)\n\n    def __mul__(self, other):\n        \"\"\"\n        Multiplication of two matrices\n        \n        :param other: Matrix - another matrix to be multiplied with the current matrix\n        :return: Matrix - new matrix that is the result of the multiplication of the two matrices\n        \"\"\"\n        if self.cols != other.rows:\n            raise ValueError(f\"Matrices cannot be multiplied: first matrix column number ({self.cols}) must match second matrix row number ({other.rows})\")\n\n        result_data = [[sum(self.data[i][k] * other.data[k][j] for k in range(self.cols)) for j in range(other.cols)] for i in range(self.rows)]\n        return Matrix(result_data)\n```"}
{"text": "Implement a class `Car` that models a car with the following attributes: `make`, `model`, `year`, and `odometer`. The class should have the following methods:\n\n- `__init__(self, make, model, year, odometer)`: Initializes a new car with the given make, model, year, and odometer reading.\n- `drive(self, distance)`: Increases the odometer reading by the given distance if the distance is positive.\n- `__str__(self)`: Returns a string representation of the car in the format: `Car(make='make', model='model', year=year, odometer=odometer miles)`.\n\n**Sample Input:**\n```\nToyota Corolla 2021 15000\n150\n```\n\n**Sample Output:**\n```\nCar(make='Toyota', model='Corolla', year=2021, odometer=15000 miles)\nCar(make='Toyota', model='Corolla', year=2021, odometer=15150 miles)\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, odometer):\n        \"\"\"\n        Initializes a new car with the given make, model, year, and odometer reading.\n        \n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        :param odometer: The initial odometer reading of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.odometer = odometer\n\n    def drive(self, distance):\n        \"\"\"\n        Increases the odometer reading by the given distance if the distance is positive.\n        \n        :param distance: The distance driven.\n        \"\"\"\n        if distance > 0:\n            self.odometer += distance\n\n    def __str__(self):\n        \"\"\"\n        Returns a string representation of the car.\n        \n        :return: A string in the format: Car(make='make', model='model', year=year, odometer=odometer miles)\n        \"\"\"\n        return f\"Car(make='{self.make}', model='{self.model}', year={self.year}, odometer={self.odometer} miles)\"\n```"}
{"text": "You are tasked with implementing a `BankAccount` class that simulates basic bank account operations. The class should support the following functionalities:\n\n- **Initialization**: Create a bank account with a given account holder's name and an initial balance.\n- **Deposit**: Add a specified amount to the account balance. Ensure the deposit amount is positive.\n- **Withdraw**: Subtract a specified amount from the account balance if sufficient funds are available. Ensure the withdrawal amount is positive.\n- **Check Balance**: Return the current balance of the account.\n- **Display Holder Name**: Print the name of the account holder.\n\n**Input/Output Specifications**:\n- The `__init__` method will be called with a string `name` and a float `balance`.\n- The `deposit` method will be called with a float `amount`.\n- The `withdraw` method will be called with a float `amount`.\n- The `check_balance` method will return a float.\n- The `display_holder_name` method will print the account holder's name.\n\n**Sample Input/Output**:\n```python\naccount = BankAccount(\"John Doe\", 100.0)\naccount.deposit(50.0)          # No output, balance is now 150.0\naccount.withdraw(20.0)         # No output, balance is now 130.0\naccount.withdraw(200.0)        # Output: Insufficient funds.\naccount.check_balance()        # Returns: 130.0\naccount.display_holder_name()  # Output: John Doe\n```", "response": "```python\nclass BankAccount:\n    def __init__(self, name, balance):\n        \"\"\"\n        Initialize a new bank account with the given name and balance.\n\n        :param name: str, the name of the account holder\n        :param balance: float, the initial balance of the account\n        \"\"\"\n        self.name = name\n        self.balance = balance\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposit a specified amount into the account.\n\n        :param amount: float, the amount to deposit\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n        else:\n            print(\"Deposit amount should be positive.\")\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraw a specified amount from the account if sufficient funds are available.\n\n        :param amount: float, the amount to withdraw\n        \"\"\"\n        if amount > self.balance:\n            print(\"Insufficient funds.\")\n        elif amount <= 0:\n            print(\"Withdrawal amount should be positive.\")\n        else:\n            self.balance -= amount\n\n    def check_balance(self):\n        \"\"\"\n        Return the current balance of the account.\n\n        :return: float, the current balance\n        \"\"\"\n        return self.balance\n\n    def display_holder_name(self):\n        \"\"\"\n        Print the name of the account holder.\n        \"\"\"\n        print(self.name)\n```"}
{"text": "You are tasked with refactoring a piece of code to improve its readability and maintainability by eliminating magic numbers. Given a function that calculates a discounted price, replace the magic number with a named constant. The function should take a single argument, `price`, which represents the original price of an item, and return the discounted price. Assume the discount rate is 15%.\n\n**Sample Input:**\n```\n100\n```\n\n**Sample Output:**\n```\n85.0\n```", "response": "```python\nDISCOUNT_RATE = 0.85\n\ndef calculate_discount(price):\n    \"\"\"\n    Calculate the discounted price of an item.\n\n    Parameters:\n    price (float): The original price of the item.\n\n    Returns:\n    float: The price after applying the discount.\n    \"\"\"\n    return price * DISCOUNT_RATE\n```"}
{"text": "You are given a list of integers. Your task is to determine the maximum product that can be obtained by multiplying any three distinct numbers from the list. Write a function `maximum_product_of_three` that takes a list of integers as input and returns the maximum product. Assume that the input list contains at least three integers.\n\n**Sample Input:**\n```\n[1, 10, -5, 1, -100]\n```\n\n**Sample Output:**\n```\n5000\n```", "response": "```python\ndef maximum_product_of_three(nums):\n    \"\"\"\n    Given a list of integers, returns the maximum product of any three distinct numbers.\n    \n    :param nums: List[int] - A list of integers with at least three elements.\n    :return: int - The maximum product of any three distinct numbers from the list.\n    \"\"\"\n    nums.sort()\n    return max(nums[-1] * nums[-2] * nums[-3], nums[0] * nums[1] * nums[-1])\n\n# Test the function with the provided list\nresult = maximum_product_of_three([1, 10, -5, 1, -100])\nprint(result)  # Output should be 5000\n```"}
{"text": "You are given a string `coordinate_string` that contains multiple coordinate pairs in the format \"x,y\". Your task is to write a Python function `extract_coordinates` that parses this string and returns a list of tuples, where each tuple contains the x and y coordinates as floats. The coordinate pairs in the string can be separated by either spaces or commas.\n\n**Input:**\n- A single string `coordinate_string` containing coordinate pairs separated by spaces or commas.\n\n**Output:**\n- A list of tuples, where each tuple contains two floats representing the x and y coordinates.\n\n**Sample Input:**\n```\n\"1.5,2.3 4.5,6.7 7.8,9.0\"\n```\n\n**Sample Output:**\n```\n[(1.5, 2.3), (4.5, 6.7), (7.8, 9.0)]\n```", "response": "```python\ndef extract_coordinates(coordinate_string):\n    \"\"\"\n    Parses a string containing coordinate pairs and returns a list of tuples with the coordinates as floats.\n    \n    :param coordinate_string: A string with coordinate pairs separated by spaces or commas.\n    :return: A list of tuples, each containing two floats representing the x and y coordinates.\n    \"\"\"\n    coordinate_pairs = coordinate_string.replace(',', ' ').split()\n    coordinates = [tuple(map(float, pair.split())) for pair in coordinate_pairs]\n    return coordinates\n\n# Example usage:\nprint(extract_coordinates(\"1.5,2.3 4.5,6.7 7.8,9.0\"))\n```"}
{"text": "You are given a dictionary `grades` where each key is a string representing a course name and each value is an integer representing the grade received in that course. Your task is to implement a function `calculate_average_grade` that computes the average grade of the student. The result should be rounded to two decimal places. If the dictionary is empty, the function should return `0.0`.\n\n**Sample Input:**\n```python\n{'Math': 85, 'Science': 90, 'History': 78}\n```\n\n**Sample Output:**\n```\n84.33\n```", "response": "```python\ndef calculate_average_grade(grades):\n    \"\"\"\n    Calculate the average grade from a dictionary of grades.\n\n    Parameters:\n    grades (dict): A dictionary where keys are course names and values are grades.\n\n    Returns:\n    float: The average grade rounded to two decimal places.\n    \"\"\"\n    if not grades:\n        return 0.0\n    total = sum(grades.values())\n    average = total / len(grades)\n    return round(average, 2)\n\n# Example usage:\ngrades = {'Math': 85, 'Science': 90, 'History': 78}\naverage_grade = calculate_average_grade(grades)\nprint(average_grade)  # Output: 84.33\n```"}
{"text": "You are tasked with implementing a function `calculate_discount` that computes the final price of a product after applying a given discount rate. The function should accept two parameters: `price`, a floating-point number representing the original price of the product, and `discount_rate`, a floating-point number representing the discount rate as a percentage. Your function should return the discounted price, rounded to two decimal places.\n\n**Input:**\n- The function will be called with two arguments: `price` and `discount_rate`.\n- `price` will be a positive floating-point number.\n- `discount_rate` will be a non-negative floating-point number.\n\n**Output:**\n- The function should return a floating-point number representing the discounted price, rounded to two decimal places.\n\n**Sample Input/Output:**\n- `calculate_discount(100.0, 20.0)` should return `80.0`.\n- `calculate_discount(250.0, 15.0)` should return `212.5`.\n- `calculate_discount(99.99, 5.0)` should return `94.99`.", "response": "```python\ndef calculate_discount(price, discount_rate):\n    \"\"\"\n    Calculate the discounted price of a product.\n\n    Parameters:\n    price (float): The original price of the product.\n    discount_rate (float): The discount rate as a percentage.\n\n    Returns:\n    float: The discounted price, rounded to two decimal places.\n    \"\"\"\n    discount_amount = price * (discount_rate / 100)\n    discounted_price = price - discount_amount\n    return round(discounted_price, 2)\n```"}
{"text": "You are tasked with writing a regular expression to validate email addresses according to the following rules:\n- The email must start and end with an alphanumeric character.\n- The local part (before the '@') can contain alphanumeric characters, underscores, dots, and hyphens.\n- The domain part (after the '@') must start and end with an alphanumeric character.\n- The domain can contain alphanumeric characters, underscores, dots, and hyphens.\n- The domain must have at least one dot, and the top-level domain (TLD) must consist of at least two alphabetic characters.\n\nWrite a Python function `is_valid_email(email)` that returns `True` if the email is valid according to the above rules, and `False` otherwise.\n\n**Sample Input:**\n```\nvalid.email@example.com\ninvalid-.email@example.com\nvalid_email@example.co\ninvalid.email@.com\nvalid-email@sub.domain-example.com\ninvalid.email@domain..com\ninvalid.email@domain.com.\nvalid.email@domain.com\n1valid.email@domain.com\n```\n\n**Sample Output:**\n```\nvalid.email@example.com: True\ninvalid-.email@example.com: False\nvalid_email@example.co: True\ninvalid.email@.com: False\nvalid-email@sub.domain-example.com: True\ninvalid.email@domain..com: False\ninvalid.email@domain.com.: False\nvalid.email@domain.com: True\n1valid.email@domain.com: True\n```", "response": "```python\nimport re\n\ndef is_valid_email(email):\n    \"\"\"\n    Validates an email address based on specific rules.\n    \n    Parameters:\n    email (str): The email address to validate.\n    \n    Returns:\n    bool: True if the email is valid, False otherwise.\n    \"\"\"\n    email_regex = r'^[a-zA-Z0-9][\\w\\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\\w\\.-]*[a-zA-Z0-9]\\.[a-zA-Z][a-zA-Z\\.]*[a-zA-Z]$'\n    return re.match(email_regex, email) is not None\n\n# Test cases\ntest_emails = [\n    \"valid.email@example.com\",\n    \"invalid-.email@example.com\",\n    \"valid_email@example.co\",\n    \"invalid.email@.com\",\n    \"valid-email@sub.domain-example.com\",\n    \"invalid.email@domain..com\",\n    \"invalid.email@domain.com.\",\n    \"valid.email@domain.com\",\n    \"1valid.email@domain.com\"\n]\n\n# Testing the function with the test cases\nfor email in test_emails:\n    print(f\"{email}: {is_valid_email(email)}\")\n```"}
{"text": "You are given a nested list of integers. Your task is to write a Python function `flatten_list` that takes this nested list as input and returns a new list with all the integers flattened into a single level. The function should handle arbitrary levels of nesting.\n\n**Sample Input:**\n```\n[[1, 2, [3, 4]], [5, 6], 7]\n```\n\n**Sample Output:**\n```\n[1, 2, 3, 4, 5, 6, 7]\n```", "response": "```python\ndef flatten_list(nested_list):\n    \"\"\"\n    Flattens a nested list of integers into a single-level list.\n\n    :param nested_list: List of integers or nested lists of integers\n    :return: A flattened list of integers\n    \"\"\"\n    flat_list = []\n    for element in nested_list:\n        if isinstance(element, list):\n            flat_list.extend(flatten_list(element))\n        else:\n            flat_list.append(element)\n    return flat_list\n\n# Example usage:\nnested_list_example = [[1, 2, [3, 4]], [5, 6], 7]\nflattened = flatten_list(nested_list_example)\nprint(flattened)  # Output: [1, 2, 3, 4, 5, 6, 7]\n```"}
{"text": "You are given a positive integer `n`. Your task is to determine if `n` is a perfect number. A perfect number is defined as a positive integer that is equal to the sum of its proper divisors, excluding the number itself. For example, 6 is a perfect number because its proper divisors are 1, 2, and 3, and 1 + 2 + 3 = 6.\n\n**Input:**\n- A single integer `n` (1 ≤ n ≤ 10^6)\n\n**Output:**\n- Print `True` if `n` is a perfect number, otherwise print `False`.\n\n**Sample Input:**\n```\n6\n28\n12\n```\n\n**Sample Output:**\n```\nTrue\nTrue\nFalse\n```", "response": "```python\ndef is_perfect_number(n):\n    \"\"\"\n    Determine if a given number is a perfect number.\n    \n    A perfect number is a positive integer that is equal to the sum of its proper divisors,\n    excluding the number itself.\n    \n    Parameters:\n    n (int): The number to check.\n    \n    Returns:\n    bool: True if n is a perfect number, False otherwise.\n    \"\"\"\n    if n < 2:\n        return False\n    sum_of_divisors = 1  # 1 is always a divisor\n    for i in range(2, int(n**0.5) + 1):\n        if n % i == 0:\n            sum_of_divisors += i\n            if i != n // i:\n                sum_of_divisors += n // i\n    return sum_of_divisors == n\n\n# Example usage:\nprint(is_perfect_number(6))  # True\nprint(is_perfect_number(28)) # True\nprint(is_perfect_number(12)) # False\n```"}
{"text": "You are given a list of positive integers. Your task is to generate all possible unique subsets of the input list, excluding the empty subset. The subsets should be sorted in ascending order based on the sum of their elements. Each subset should be represented as a list of integers. For example, if the input list is `[1, 2, 3]`, the output should be `[[1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]`.\n\n**Sample Input:**\n```\n[1, 2, 3]\n```\n\n**Sample Output:**\n```\n[[1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]\n```", "response": "```python\ndef unique_subsets(nums):\n    \"\"\"\n    Generate all unique non-empty subsets of the input list of positive integers,\n    sorted by the sum of their elements in ascending order.\n\n    :param nums: List[int] - A list of positive integers.\n    :return: List[List[int]] - A list of all unique non-empty subsets sorted by their sums.\n    \"\"\"\n    result = []\n\n    def backtrack(start, path):\n        if path:\n            result.append(path.copy())\n        for i in range(start, len(nums)):\n            path.append(nums[i])\n            backtrack(i + 1, path)\n            path.pop()\n\n    nums.sort()\n    backtrack(0, [])\n    return sorted(result, key=sum)\n\n# Testing\nprint(unique_subsets([1, 2, 3]))  # Output: [[1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]\n```"}
{"text": "You are tasked with implementing a function `extract_emails` that processes a given string and identifies all valid email addresses embedded within it. An email address is defined by the pattern `username@domain.com`, where the username can include letters, digits, dots, underscores, percent signs, plus signs, and hyphens. The domain part consists of labels separated by dots, where each label includes letters, digits, and hyphens, and the top-level domain (TLD) must be at least two characters long. Your function should be robust enough to handle multiple email addresses within the same string, as well as edge cases involving subdomains and special characters in the username.\n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 10,000) containing the text to be processed.\n\n**Output:**\n- A list of strings, each representing a valid email address found in the input text.\n\n**Sample Input:**\n```\nPlease contact John Doe at johndoe@example.com or Jane Smith at jane.smith@work.org for further information. You can also reach out to the support team at support@help.co.uk or sales@products.com.\n```\n\n**Sample Output:**\n```\n['johndoe@example.com', 'jane.smith@work.org', 'support@help.co.uk', 'sales@products.com']\n```", "response": "```python\nimport re\n\ndef extract_emails(text):\n    \"\"\"\n    Extracts all valid email addresses from the given text.\n\n    :param text: A string containing the text to be processed.\n    :return: A list of strings, each representing a valid email address found in the input text.\n    \"\"\"\n    # Regular expression pattern for matching email addresses\n    email_pattern = r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n    \n    # Find all occurrences of the pattern\n    emails = re.findall(email_pattern, text)\n    \n    return emails\n\n# Example usage\nsample_text = (\"Please contact John Doe at johndoe@example.com or Jane Smith at jane.smith@work.org for further information. \"\n               \"You can also reach out to the support team at support@help.co.uk or sales@products.com.\")\nprint(extract_emails(sample_text))\n```"}
{"text": "You are given a list of integers `numbers`. Your task is to implement a function `find_mode` that determines the mode of the list, which is the element that appears most frequently. In the event of a tie, where multiple elements share the highest frequency, return the smallest of these elements. If the list is empty, the function should return `None`.\n\n**Input:**\n- A list of integers `numbers` (0 ≤ len(numbers) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- An integer representing the mode of the list, or `None` if the list is empty.\n\n**Sample Input 1:**\n```\n[1, 2, 2, 3, 3, 4, 4, 4, 5, 5, 5]\n```\n\n**Sample Output 1:**\n```\n4\n```\n\n**Sample Input 2:**\n```\n[6, 6, 7, 7, 8]\n```\n\n**Sample Output 2:**\n```\n6\n```\n\n**Sample Input 3:**\n```\n[]\n```\n\n**Sample Output 3:**\n```\nNone\n```", "response": "```python\ndef find_mode(numbers):\n    \"\"\"\n    Returns the mode of the list of integers. If there is a tie, returns the smallest element among them.\n    Returns None if the list is empty.\n    \n    :param numbers: List of integers\n    :return: Integer or None\n    \"\"\"\n    if not numbers:\n        return None\n    \n    frequency = {}\n    for num in numbers:\n        if num in frequency:\n            frequency[num] += 1\n        else:\n            frequency[num] = 1\n    \n    max_freq = max(frequency.values())\n    modes = [num for num, freq in frequency.items() if freq == max_freq]\n    \n    return min(modes)\n```"}
{"text": "You are given a list of distinct strings, each representing a word. Your task is to write a function `generate_anagrams(word_list)` that generates all possible anagrams for each word in the list that also exist in the list. The function should return a dictionary where each key is a word from the list and the corresponding value is a list of its anagrams found in the list. Each anagram should appear only once in the list of anagrams for each word.\n\n**Input:**\n- A list of strings `word_list` (1 ≤ len(word_list) ≤ 100), where each string consists of lowercase English letters and has a length between 1 and 8.\n\n**Output:**\n- A dictionary with keys as the original words and values as lists of their anagrams found in the list.\n\n**Sample Input:**\n```python\n[\"listen\", \"silent\", \"enlist\"]\n```\n\n**Sample Output:**\n```python\n{\"listen\": [\"listen\", \"silent\", \"enlist\"], \"silent\": [\"listen\", \"silent\", \"enlist\"], \"enlist\": [\"listen\", \"silent\", \"enlist\"]}\n```", "response": "```python\nfrom itertools import permutations\n\ndef generate_anagrams(word_list):\n    \"\"\"\n    Generates all possible anagrams for each word in the list that also exist in the list.\n    \n    Parameters:\n    word_list (list of str): A list of distinct words.\n    \n    Returns:\n    dict: A dictionary with words as keys and lists of their anagrams as values.\n    \"\"\"\n    anagram_dict = {}\n    \n    for word in word_list:\n        perm = set([''.join(p) for p in permutations(word)])\n        anagrams = [p for p in perm if p in word_list]\n        anagram_dict[word] = anagrams\n    \n    return anagram_dict\n\n# Example usage\nword_list = [\"listen\", \"silent\", \"enlist\"]\nprint(generate_anagrams(word_list))\n```"}
{"text": "You are given a directory path as input. Your task is to write a Python script that recursively lists all files within the specified directory and its subdirectories. The script should output the absolute path of each file to the console. \n\n**Input:**\n- A single string representing the directory path.\n\n**Output:**\n- Print the absolute path of each file found in the directory and its subdirectories, one per line.\n\n**Sample Input:**\n```\n/home/user\n```\n\n**Sample Output:**\n```\n/home/user/file1.txt\n/home/user/subdir1/file2.txt\n/home/user/subdir2/file3.txt\n```", "response": "```python\nimport os\n\ndef list_files(directory_path):\n    \"\"\"\n    Recursively lists all files in the given directory and its subdirectories.\n    \n    Args:\n    directory_path (str): The path to the directory to be searched.\n    \n    Returns:\n    None: Prints the absolute path of each file found.\n    \"\"\"\n    for root, dirs, files in os.walk(directory_path):\n        for file in files:\n            print(os.path.join(root, file))\n\n# Example usage\nlist_files(\"/home/user\")\n```"}
{"text": "You are given a list of integers. Your task is to write a Python function that determines the second largest unique number in the list. If the list contains fewer than two unique numbers, the function should return the string \"No second largest number\".\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- The second largest unique number in the list, or the string \"No second largest number\" if there are fewer than two unique numbers.\n\n**Sample Input:**\n```\n[4, 7, 2, 7, 8, 8, 5]\n```\n\n**Sample Output:**\n```\n7\n```", "response": "```python\ndef find_second_largest(numbers):\n    \"\"\"\n    Finds the second largest unique number in a list of integers.\n    \n    Parameters:\n    numbers (list): A list of integers.\n    \n    Returns:\n    int or str: The second largest unique number, or \"No second largest number\" if there are fewer than two unique numbers.\n    \"\"\"\n    unique_numbers = list(set(numbers))  # Remove duplicates\n    if len(unique_numbers) < 2:\n        return \"No second largest number\"\n    unique_numbers.sort(reverse=True)  # Sort in descending order\n    return unique_numbers[1]  # Return the second largest number\n\n# Example usage:\nnumbers = [4, 7, 2, 7, 8, 8, 5]\nresult = find_second_largest(numbers)\nprint(result)\n```"}
{"text": "You are tasked with writing a Python function to compute the factorial of a given non-negative integer using recursion. Your function should handle invalid inputs gracefully by raising a `ValueError` if the input is a negative number or a non-integer. \n\n**Input:**\n- A single integer `n` (0 ≤ n ≤ 20).\n\n**Output:**\n- The factorial of `n` if `n` is a valid non-negative integer.\n- A `ValueError` message if `n` is negative or not an integer.\n\n**Sample Input/Output:**\n- Input: `5`\n  Output: `120`\n- Input: `0`\n  Output: `1`\n- Input: `-1`\n  Output: `ValueError: Factorial is not defined for negative numbers.`\n- Input: `3.5`\n  Output: `ValueError: Input must be an integer.`", "response": "```python\ndef factorial(n):\n    \"\"\"\n    Computes the factorial of a non-negative integer n using recursion.\n    \n    Args:\n        n (int): A non-negative integer.\n    \n    Returns:\n        int: The factorial of the input number n.\n    \n    Raises:\n        ValueError: If n is a negative number or not an integer.\n    \"\"\"\n    if not isinstance(n, int):\n        raise ValueError(\"Input must be an integer.\")\n    if n < 0:\n        raise ValueError(\"Factorial is not defined for negative numbers.\")\n    if n == 0 or n == 1:\n        return 1\n    return n * factorial(n - 1)\n\n# Example usage:\nif __name__ == \"__main__\":\n    try:\n        print(factorial(5))  # Expected output: 120\n    except ValueError as e:\n        print(e)\n    try:\n        print(factorial(0))  # Expected output: 1\n    except ValueError as e:\n        print(e)\n    try:\n        print(factorial(-1)) # Expected to raise ValueError\n    except ValueError as e:\n        print(e)\n    try:\n        print(factorial(3.5)) # Expected to raise ValueError\n    except ValueError as e:\n        print(e)\n```"}
{"text": "You are tasked with implementing an efficient algorithm to compute the nth Fibonacci number. Given the constraints, a naive recursive approach will not suffice due to its exponential time complexity. Implement a function named `calculate_fibonacci` that computes the nth Fibonacci number using memoization to optimize the recursive calls. Your function should handle large values of `n` efficiently.\n\n**Input:**\n- A single integer `n` (0 ≤ n ≤ 50), representing the position in the Fibonacci sequence.\n\n**Output:**\n- An integer, the nth Fibonacci number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef calculate_fibonacci(n, memo={}):\n    \"\"\"\n    Calculate the nth Fibonacci number using memoization.\n\n    Parameters:\n    n (int): The position in the Fibonacci sequence.\n\n    Returns:\n    int: The nth Fibonacci number.\n    \"\"\"\n    if n in memo:\n        return memo[n]\n    if n == 0:\n        return 0\n    elif n == 1:\n        return 1\n    else:\n        memo[n] = calculate_fibonacci(n-1, memo) + calculate_fibonacci(n-2, memo)\n        return memo[n]\n```"}
{"text": "You are tasked with designing a `Book` class that encapsulates the properties of a book. The class should have the following attributes: `title`, `author`, `year_of_publication`, `genre`, and `ISBN`. The `ISBN` should be a randomly generated 13-digit number and should be read-only. The `year_of_publication` should not exceed the current year. Implement methods to update the `title` and `genre`, and a method to display the book's information in a formatted string.\n\n**Sample Input:**\n```\n\"1984\", \"George Orwell\", 1949, \"Dystopian\"\n```\n\n**Sample Output:**\n```\nTitle: 1984\nAuthor: George Orwell\nYear of Publication: 1949\nGenre: Dystopian\nISBN: 1234567890123  # Example ISBN, actual output will vary\n```", "response": "```python\nimport random\nfrom datetime import datetime\n\nclass Book:\n    def __init__(self, title, author, year_of_publication, genre):\n        \"\"\"\n        Initializes a new Book instance with the given title, author, year of publication, and genre.\n        The ISBN is generated randomly and is read-only.\n        \"\"\"\n        self._title = title\n        self.author = author\n        self.year_of_publication = year_of_publication\n        self._genre = genre\n        self._ISBN = self._generate_isbn()\n\n    @property\n    def title(self):\n        \"\"\"\n        Returns the title of the book.\n        \"\"\"\n        return self._title\n\n    @title.setter\n    def title(self, new_title):\n        \"\"\"\n        Sets a new title for the book.\n        \"\"\"\n        self._title = new_title\n\n    @property\n    def genre(self):\n        \"\"\"\n        Returns the genre of the book.\n        \"\"\"\n        return self._genre\n\n    @genre.setter\n    def genre(self, new_genre):\n        \"\"\"\n        Sets a new genre for the book.\n        \"\"\"\n        self._genre = new_genre\n\n    @property\n    def ISBN(self):\n        \"\"\"\n        Returns the ISBN of the book. This attribute is read-only.\n        \"\"\"\n        return self._ISBN\n\n    @property\n    def year_of_publication(self):\n        \"\"\"\n        Returns the year of publication of the book.\n        \"\"\"\n        return self._year_of_publication\n\n    @year_of_publication.setter\n    def year_of_publication(self, value):\n        \"\"\"\n        Sets the year of publication for the book, ensuring it does not exceed the current year.\n        \"\"\"\n        current_year = datetime.now().year\n        if value > current_year:\n            raise ValueError(\"Year of publication cannot be greater than the current year.\")\n        self._year_of_publication = value\n\n    def _generate_isbn(self):\n        \"\"\"\n        Generates a random 13-digit ISBN number.\n        \"\"\"\n        return ''.join(str(random.randint(0, 9)) for _ in range(13))\n\n    def display_info(self):\n        \"\"\"\n        Returns a formatted string containing the book's information.\n        \"\"\"\n        return (f\"Title: {self.title}\\n\"\n                f\"Author: {self.author}\\n\"\n                f\"Year of Publication: {self.year_of_publication}\\n\"\n                f\"Genre: {self.genre}\\n\"\n                f\"ISBN: {self.ISBN}\")\n```"}
{"text": "You are tasked with implementing a Python class named `Employee` to manage employee records. The class should support the following functionalities:\n\n- **Initialization**: Create an `Employee` object with attributes `name`, `position`, `salary`, and `hire_date`.\n- **Raise Method**: Implement a method `give_raise` that increases the employee's salary by a specified positive amount.\n- **Display Method**: Implement a method `display_details` that prints the employee's details in the format:\n  ```\n  Employee Name: [name]\n  Position: [position]\n  Salary: $[salary formatted to 2 decimal places]\n  Hire Date: [hire_date]\n  ```\n\n**Sample Input/Output**:\n- **Input**: \n  ```python\n  emp = Employee(\"John Doe\", \"Software Engineer\", 75000, \"2021-06-15\")\n  emp.give_raise(5000)\n  emp.display_details()\n  ```\n- **Output**:\n  ```\n  Employee Name: John Doe\n  Position: Software Engineer\n  Salary: $80000.00\n  Hire Date: 2021-06-15\n  ```", "response": "```python\nclass Employee:\n    def __init__(self, name, position, salary, hire_date):\n        \"\"\"\n        Initializes an Employee object with the given name, position, salary, and hire date.\n        :param name: The name of the employee.\n        :param position: The position of the employee.\n        :param salary: The salary of the employee.\n        :param hire_date: The hire date of the employee.\n        \"\"\"\n        self.name = name\n        self.position = position\n        self.salary = salary\n        self.hire_date = hire_date\n\n    def give_raise(self, amount):\n        \"\"\"\n        Increases the employee's salary by the specified positive amount.\n        :param amount: The amount to increase the salary by.\n        \"\"\"\n        if amount > 0:\n            self.salary += amount\n\n    def display_details(self):\n        \"\"\"\n        Prints the employee's details in a formatted manner.\n        \"\"\"\n        print(f\"Employee Name: {self.name}\")\n        print(f\"Position: {self.position}\")\n        print(f\"Salary: ${self.salary:.2f}\")\n        print(f\"Hire Date: {self.hire_date}\")\n```"}
{"text": "You are tasked with creating a function `generate_matrix` that constructs a 2D list (matrix) of dimensions `rows x columns`. The matrix should be filled with unique integers starting from 1 up to `rows * columns` in row-major order. Your function should efficiently generate and return this matrix.\n\n**Input:**\n- Two integers `rows` and `columns` (1 ≤ rows, columns ≤ 100).\n\n**Output:**\n- A 2D list representing the matrix filled with integers from 1 to `rows * columns`.\n\n**Sample Input:**\n```\n3 4\n```\n\n**Sample Output:**\n```\n[\n  [1, 2, 3, 4],\n  [5, 6, 7, 8],\n  [9, 10, 11, 12]\n]\n```", "response": "```python\ndef generate_matrix(rows, columns):\n    \"\"\"\n    Generates a 2D list (matrix) of dimensions rows x columns filled with unique integers\n    from 1 to rows * columns in row-major order.\n\n    :param rows: Number of rows in the matrix.\n    :param columns: Number of columns in the matrix.\n    :return: A 2D list representing the matrix.\n    \"\"\"\n    matrix = []\n    current_number = 1\n    for row in range(rows):\n        current_row = []\n        for col in range(columns):\n            current_row.append(current_number)\n            current_number += 1\n        matrix.append(current_row)\n    return matrix\n```"}
{"text": "You are tasked with implementing a function `convert_temperature` that performs temperature conversions between Celsius and Fahrenheit. The function accepts two parameters: `temperature` (a floating-point number) and `unit` (a string). If `unit` is \"C\", the function should interpret `temperature` as Celsius and return its equivalent in Fahrenheit. Conversely, if `unit` is \"F\", the function should interpret `temperature` as Fahrenheit and return its equivalent in Celsius. If the `unit` is neither \"C\" nor \"F\", the function should raise a `ValueError` with the message \"Invalid unit. Please use 'C' for Celsius or 'F' for Fahrenheit.\"\n\n**Sample Input and Output:**\n- Input: `convert_temperature(32, \"F\")`\n- Output: `0.0`\n- Input: `convert_temperature(100, \"C\")`\n- Output: `212.0`", "response": "```python\ndef convert_temperature(temperature, unit):\n    \"\"\"\n    Convert the given temperature between Celsius and Fahrenheit.\n\n    Parameters:\n    temperature (float): The temperature value to convert.\n    unit (str): The unit of the input temperature, either \"C\" for Celsius or \"F\" for Fahrenheit.\n\n    Returns:\n    float: The converted temperature.\n\n    Raises:\n    ValueError: If the unit is not \"C\" or \"F\".\n    \"\"\"\n    if unit == \"C\":\n        return (temperature * 9/5) + 32\n    elif unit == \"F\":\n        return (temperature - 32) * 5/9\n    else:\n        raise ValueError(\"Invalid unit. Please use 'C' for Celsius or 'F' for Fahrenheit.\")\n```"}
{"text": "You are given a list of distinct integers. Your task is to write a Python function `generate_permutations` that generates all possible permutations of the list. The function should use recursion to achieve this. Return the permutations as a list of lists.\n\n**Input:**\n- A list of distinct integers `elements` (1 ≤ len(elements) ≤ 8).\n\n**Output:**\n- A list of lists, where each inner list is a unique permutation of the input list.\n\n**Sample Input:**\n```python\n[1, 2, 3]\n```\n\n**Sample Output:**\n```python\n[[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]\n```", "response": "```python\ndef generate_permutations(elements):\n    \"\"\"\n    Generate all possible permutations of a list of distinct integers using recursion.\n\n    :param elements: List of distinct integers.\n    :return: List of lists, where each inner list is a unique permutation of the input list.\n    \"\"\"\n    def permute(current, remaining):\n        if not remaining:\n            permutations.append(current)\n        else:\n            for i in range(len(remaining)):\n                new_current = current + [remaining[i]]\n                new_remaining = remaining[:i] + remaining[i+1:]\n                permute(new_current, new_remaining)\n\n    permutations = []\n    permute([], elements)\n    return permutations\n\n# Example usage:\n# print(generate_permutations([1, 2, 3]))\n```"}
{"text": "You are given a dataset of movie reviews stored in two files: `positive_reviews.txt` and `negative_reviews.txt`. Each file contains one review per line. Your task is to implement a function `classify_reviews` that takes a list of movie reviews as input and returns a list of predicted labels indicating whether each review is positive or negative. Use the Natural Language Toolkit (NLTK) and the Naive Bayes classifier for this task. Assume that the NLTK data files are already downloaded.\n\n**Sample Input:**\n- `positive_reviews.txt`:\n  ```\n  What an amazing movie!\n  I loved the plot and acting.\n  ```\n- `negative_reviews.txt`:\n  ```\n  The movie was terrible.\n  I did not enjoy the film at all.\n  ```\n- `new_reviews`:\n  ```\n  [\"This movie was really awful. I hated it.\",\n   \"A fantastic film with a great storyline and stunning performances.\"]\n  ```\n\n**Sample Output:**\n```\n['negative', 'positive']\n```", "response": "```python\nimport nltk\nfrom nltk.corpus import stopwords\nfrom nltk.classify import NaiveBayesClassifier\nfrom nltk.tokenize import word_tokenize\nimport string\nfrom collections import Counter\n\n# Ensure you have the NLTK data files downloaded\nnltk.download('punkt')\nnltk.download('stopwords')\n\ndef load_reviews(file_path):\n    \"\"\"\n    Load reviews from a file.\n    \n    :param file_path: Path to the file containing reviews.\n    :return: List of reviews.\n    \"\"\"\n    with open(file_path, 'r', encoding='utf-8') as f:\n        reviews = f.readlines()\n    return reviews\n\ndef preprocess_text(text):\n    \"\"\"\n    Preprocess the text by tokenizing, removing stopwords, punctuation, and converting to lower case.\n    \n    :param text: The text to preprocess.\n    :return: List of preprocessed tokens.\n    \"\"\"\n    stop_words = set(stopwords.words('english'))\n    tokens = word_tokenize(text)\n    tokens = [word.lower() for word in tokens if word.isalpha() and word not in stop_words]\n    return tokens\n\ndef get_features(tokens):\n    \"\"\"\n    Extract features from the tokens by counting the frequency of each word.\n    \n    :param tokens: List of tokens.\n    :return: Dictionary of features.\n    \"\"\"\n    token_counts = Counter(tokens)\n    return {word: True for word in token_counts}\n\ndef train_classifier(positive_reviews, negative_reviews):\n    \"\"\"\n    Train a Naive Bayes classifier using the provided positive and negative reviews.\n    \n    :param positive_reviews: List of positive reviews.\n    :param negative_reviews: List of negative reviews.\n    :return: Trained Naive Bayes classifier.\n    \"\"\"\n    positive_features = [(get_features(preprocess_text(review)), 'positive') for review in positive_reviews]\n    negative_features = [(get_features(preprocess_text(review)), 'negative') for review in negative_reviews]\n    features = positive_features + negative_features\n    classifier = NaiveBayesClassifier.train(features)\n    return classifier\n\ndef classify_reviews(reviews, classifier):\n    \"\"\"\n    Classify a list of reviews using the provided classifier.\n    \n    :param reviews: List of reviews to classify.\n    :param classifier: Trained Naive Bayes classifier.\n    :return: List of predicted labels.\n    \"\"\"\n    return [classifier.classify(get_features(preprocess_text(review))) for review in reviews]\n\n# Load reviews\npositive_reviews = load_reviews('positive_reviews.txt')\nnegative_reviews = load_reviews('negative_reviews.txt')\n\n# Train the classifier\nclassifier = train_classifier(positive_reviews, negative_reviews)\n\n# Example usage\nnew_reviews = [\n    \"This movie was really awful. I hated it.\",\n    \"A fantastic film with a great storyline and stunning performances.\"\n]\n\npredicted_labels = classify_reviews(new_reviews, classifier)\nprint(predicted_labels)\n```"}
{"text": "You are given a string `s` consisting of words separated by spaces. Your task is to write a function that returns a new string where each word in `s` has its characters sorted in alphabetical order. The original case and spacing of the string must be preserved.\n\n**Input:**\n- A single string `s` (1 ≤ len(s) ≤ 1000), containing only letters and spaces.\n\n**Output:**\n- A string with each word's characters sorted alphabetically, maintaining the original case and spacing.\n\n**Sample Input:**\n```\nThe quick brown fox jumps over the lazy dog\n```\n\n**Sample Output:**\n```\nTeh cikqu borwn fox jmpsu eo rvthe alyz dgo\n```", "response": "```python\ndef sort_string_alphabetically(s):\n    \"\"\"\n    Sorts each word in the input string alphabetically while preserving the original case and spacing.\n\n    :param s: A string containing words separated by spaces.\n    :return: A string with each word's characters sorted alphabetically.\n    \"\"\"\n    def sort_word(word):\n        return ''.join(sorted(word))\n\n    words = s.split(' ')\n    sorted_words = [sort_word(word) for word in words]\n    return ' '.join(sorted_words)\n\n# Test the function\nprint(sort_string_alphabetically(\"The quick brown fox jumps over the lazy dog\"))\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `find_consecutive_sums` that computes all unique sums of consecutive integers from the input list. The function should return these sums in a list.\n\n**Input:**\n- A list of integers `nums` where `1 <= len(nums) <= 100` and `-1000 <= nums[i] <= 1000`.\n\n**Output:**\n- A list of integers representing all unique sums of consecutive integers from the input list.\n\n**Sample Input:**\n```\n[1, 2, 3]\n```\n\n**Sample Output:**\n```\n[1, 2, 3, 3, 5, 6]\n```", "response": "```python\ndef find_consecutive_sums(nums):\n    \"\"\"\n    Computes all unique sums of consecutive integers from the input list.\n\n    :param nums: List of integers\n    :return: List of unique sums of consecutive integers\n    \"\"\"\n    if not nums:\n        return []\n    result = set()  # Use set to store unique sums\n    for i in range(len(nums)):\n        current_sum = 0\n        for j in range(i, len(nums)):\n            current_sum += nums[j]\n            result.add(current_sum)\n    return list(result)\n```"}
{"text": "Implement a Python class `Book` with the following specifications:\n- The class should have an initializer that accepts three parameters: `title`, `author`, and `publication_year`.\n- Implement a method `description` that returns a string formatted as \"Title by Author, published in Publication Year\".\n- Your implementation should pass the following test cases:\n  - Input: `Book(\"1984\", \"George Orwell\", 1949)`\n    - Output: `\"1984 by George Orwell, published in 1949\"`\n  - Input: `Book(\"To Kill a Mockingbird\", \"Harper Lee\", 1960)`\n    - Output: `\"To Kill a Mockingbird by Harper Lee, published in 1960\"`", "response": "```python\nclass Book:\n    def __init__(self, title, author, publication_year):\n        \"\"\"\n        Initializes a new Book instance with the given title, author, and publication year.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param publication_year: The year the book was published.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.publication_year = publication_year\n\n    def description(self):\n        \"\"\"\n        Returns a string describing the book in the format \"Title by Author, published in Publication Year\".\n\n        :return: A string describing the book.\n        \"\"\"\n        return f\"{self.title} by {self.author}, published in {self.publication_year}\"\n```"}
{"text": "You are given a list of integers. Your task is to write a function `sort_even_odd` that processes this list such that all even numbers are sorted in ascending order and all odd numbers are sorted in descending order. The relative order of even and odd numbers in the output list should match their order in the input list.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers where even numbers are sorted in ascending order and odd numbers are sorted in descending order, maintaining their relative positions.\n\n**Sample Input:**\n```\n[5, 3, 2, 8, 1, 4]\n```\n\n**Sample Output:**\n```\n[1, 3, 2, 4, 5, 8]\n```", "response": "```python\ndef sort_even_odd(numbers):\n    \"\"\"\n    Sorts even numbers in ascending order and odd numbers in descending order\n    while maintaining their relative positions in the list.\n\n    :param numbers: List of integers\n    :return: List of integers with even numbers sorted in ascending order and odd numbers in descending order\n    \"\"\"\n    evens = sorted([x for x in numbers if x % 2 == 0])\n    odds = sorted([x for x in numbers if x % 2 != 0], reverse=True)\n    \n    even_idx = 0\n    odd_idx = 0\n    result = []\n    \n    for number in numbers:\n        if number % 2 == 0:\n            result.append(evens[even_idx])\n            even_idx += 1\n        else:\n            result.append(odds[odd_idx])\n            odd_idx += 1\n            \n    return result\n```"}
{"text": "You are given a list of strings `words` and a `substring`. Your task is to implement a function `filter_and_sort` that filters out all strings from `words` that do not contain `substring` and returns the remaining strings sorted in descending order by their length. \n\n**Input:**\n- A list of strings `words` (1 ≤ len(words) ≤ 1000), where each string has a length between 1 and 100.\n- A string `substring` (1 ≤ len(substring) ≤ 100).\n\n**Output:**\n- A list of strings that contain `substring`, sorted in descending order by their length.\n\n**Sample Input:**\n```\nwords = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\", \"fig\", \"grape\"]\nsubstring = \"ap\"\n```\n\n**Sample Output:**\n```\n['apple']\n```", "response": "```python\ndef filter_and_sort(words, substring):\n    \"\"\"\n    Filters out strings from the list that do not contain the given substring\n    and returns the remaining strings sorted in descending order by their length.\n\n    :param words: List of strings to be filtered and sorted.\n    :param substring: Substring to filter the strings by.\n    :return: List of strings containing the substring, sorted by length in descending order.\n    \"\"\"\n    filtered_words = [word for word in words if substring in word]\n    sorted_words = sorted(filtered_words, key=len, reverse=True)\n    return sorted_words\n\n# Example usage:\nwords = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\", \"fig\", \"grape\"]\nsubstring = \"ap\"\nresult = filter_and_sort(words, substring)\nprint(result)  # Output: ['apple']\n```"}
{"text": "In a dice game, two six-sided dice are rolled repeatedly until the sum of the numbers on the dice is either 7 or 11. Your task is to simulate this game and determine the number of rolls required to achieve this sum.\n\n**Input:**\n- None\n\n**Output:**\n- An integer representing the number of rolls it took to get a sum of 7 or 11.\n\n**Sample Input:**\n- None (The function does not take any input)\n\n**Sample Output:**\n- 3 (This is an example output; the actual number of rolls can vary due to randomness)", "response": "```python\nimport random\n\ndef dice_game():\n    \"\"\"\n    Simulates a dice game where two six-sided dice are rolled repeatedly until the sum of the numbers\n    on the dice is either 7 or 11. Returns the number of rolls required to achieve this sum.\n    \n    :return: int - the number of rolls it took to get a sum of 7 or 11\n    \"\"\"\n    roll_count = 0\n    while True:\n        dice_one = random.randint(1, 6)\n        dice_two = random.randint(1, 6)\n        roll_count += 1\n        if (dice_one + dice_two) in [7, 11]:\n            return roll_count\n```"}
{"text": "You are given the coordinates of two points in a 2D plane. Your task is to write a Python function `calculate_distance` that computes the Euclidean distance between these two points. The function should accept two tuples as input, each representing the x and y coordinates of a point. Your function should return the Euclidean distance as a floating-point number.\n\n**Input:**\n- Two tuples, `point1` and `point2`, where each tuple contains two integers representing the x and y coordinates of the points.\n\n**Output:**\n- A single floating-point number representing the Euclidean distance between `point1` and `point2`.\n\n**Sample Input:**\n- `point1 = (1, 2)`\n- `point2 = (4, 6)`\n\n**Sample Output:**\n- `5.0`", "response": "```python\nimport math\n\ndef calculate_distance(point1, point2):\n    \"\"\"\n    Calculate the Euclidean distance between two points in a 2D plane.\n    \n    Args:\n        point1: A tuple (x1, y1) representing the coordinates of the first point.\n        point2: A tuple (x2, y2) representing the coordinates of the second point.\n    \n    Returns:\n        The Euclidean distance between point1 and point2 as a float.\n    \"\"\"\n    x1, y1 = point1\n    x2, y2 = point2\n    return math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2)\n\n# Example usage:\n# print(calculate_distance((1, 2), (4, 6)))  # Output: 5.0\n```"}
{"text": "You are tasked with implementing a class hierarchy for vehicles. Define a base class `Vehicle` with methods to get and set the make, model, and year of a vehicle. Then, create a subclass `Car` that inherits from `Vehicle` and includes additional attributes for the number of doors and the fuel type. Implement getter and setter methods for these new attributes. Additionally, override the `__str__` method in the `Car` class to return a string representation of the car in the format: `Car(make='make', model='model', year=year, doors=doors, fuel_type='fuel_type')`.\n\n**Sample Input:**\n```python\ncar = Car(\"Toyota\", \"Corolla\", 2021, 4, \"Petrol\")\nprint(car)\ncar.set_doors(2)\ncar.set_fuel_type(\"Diesel\")\nprint(car.get_doors())\nprint(car.get_fuel_type())\n```\n\n**Sample Output:**\n```\nCar(make='Toyota', model='Corolla', year=2021, doors=4, fuel_type='Petrol')\n2\nDiesel\n```", "response": "```python\nclass Vehicle:\n    def __init__(self, make, model, year):\n        self.make = make\n        self.model = model\n        self.year = year\n\n    def get_make(self):\n        \"\"\"Returns the make of the vehicle.\"\"\"\n        return self.make\n\n    def set_make(self, make):\n        \"\"\"Sets the make of the vehicle.\"\"\"\n        self.make = make\n\n    def get_model(self):\n        \"\"\"Returns the model of the vehicle.\"\"\"\n        return self.model\n\n    def set_model(self, model):\n        \"\"\"Sets the model of the vehicle.\"\"\"\n        self.model = model\n\n    def get_year(self):\n        \"\"\"Returns the year of the vehicle.\"\"\"\n        return self.year\n\n    def set_year(self, year):\n        \"\"\"Sets the year of the vehicle.\"\"\"\n        self.year = year\n\n\nclass Car(Vehicle):\n    def __init__(self, make, model, year, doors, fuel_type):\n        super().__init__(make, model, year)\n        self.doors = doors\n        self.fuel_type = fuel_type\n\n    def get_doors(self):\n        \"\"\"Returns the number of doors of the car.\"\"\"\n        return self.doors\n\n    def set_doors(self, doors):\n        \"\"\"Sets the number of doors of the car.\"\"\"\n        self.doors = doors\n\n    def get_fuel_type(self):\n        \"\"\"Returns the fuel type of the car.\"\"\"\n        return self.fuel_type\n\n    def set_fuel_type(self, fuel_type):\n        \"\"\"Sets the fuel type of the car.\"\"\"\n        self.fuel_type = fuel_type\n\n    def __str__(self):\n        \"\"\"Returns a string representation of the car.\"\"\"\n        return (f\"Car(make='{self.make}', model='{self.model}', year={self.year}, \"\n                f\"doors={self.doors}, fuel_type='{self.fuel_type}')\")\n```"}
{"text": "You are given a string representing a well-formed CSV data with a header row. Your task is to implement a function `parse_csv` that parses this string and returns a list of dictionaries. Each dictionary should represent a row in the CSV data, with keys as column headers and values as the corresponding data in each row.\n\n**Input:**\n- A single string `csv_string` representing the CSV data.\n\n**Output:**\n- A list of dictionaries, where each dictionary corresponds to a row in the CSV data.\n\n**Sample Input:**\n```\n\"name,age,city\nJohn,30,New York\nAnna,22,Los Angeles\nMike,32,Chicago\"\n```\n\n**Sample Output:**\n```\n[{'name': 'John', 'age': '30', 'city': 'New York'},\n {'name': 'Anna', 'age': '22', 'city': 'Los Angeles'},\n {'name': 'Mike', 'age': '32', 'city': 'Chicago'}]\n```", "response": "```python\nimport csv\nfrom io import StringIO\n\ndef parse_csv(csv_string):\n    \"\"\"\n    Parses a CSV string and returns a list of dictionaries.\n    \n    :param csv_string: A string representing the CSV data with a header row.\n    :return: A list of dictionaries, where each dictionary represents a row in the CSV data.\n    \"\"\"\n    csv_file = StringIO(csv_string)\n    reader = csv.DictReader(csv_file)\n    result = [row for row in reader]\n    csv_file.close()\n    return result\n\n# Example usage\ncsv_data = \"\"\"name,age,city\nJohn,30,New York\nAnna,22,Los Angeles\nMike,32,Chicago\"\"\"\n\nparsed_data = parse_csv(csv_data)\nprint(parsed_data)\n```"}
{"text": "You are given two lists of integers, `list1` and `list2`. Your task is to implement a function `find_missing_elements` that returns a list of integers which are present in `list1` but not in `list2`. The function should be optimized for performance, especially when dealing with large lists.\n\n**Input:**\n- Two lists of integers, `list1` and `list2`.\n\n**Output:**\n- A list of integers that are in `list1` but not in `list2`.\n\n**Sample Input:**\n- `list1 = [1, 2, 3, 4, 5]`\n- `list2 = [3, 4, 5, 6, 7]`\n\n**Sample Output:**\n- `[1, 2]`", "response": "```python\ndef find_missing_elements(list1, list2):\n    \"\"\"\n    Returns a list of elements that are present in list1 but not in list2.\n    \n    :param list1: List of integers.\n    :param list2: List of integers.\n    :return: List of integers present in list1 but not in list2.\n    \"\"\"\n    set2 = set(list2)\n    return [element for element in list1 if element not in set2]\n\n# Example usage\nlist1 = [1, 2, 3, 4, 5]\nlist2 = [3, 4, 5, 6, 7]\nprint(find_missing_elements(list1, list2))  # Output: [1, 2]\n```"}
{"text": "You are given a positive integer `n`. Your task is to write a function that returns the number of prime numbers less than or equal to `n`. The function should be optimized to handle large values of `n` efficiently.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 10^6)\n\n**Output:**\n- An integer representing the count of prime numbers less than or equal to `n`.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef count_primes(n):\n    \"\"\"\n    Return the number of prime numbers less than or equal to `n`.\n    \n    This implementation uses the Sieve of Eratosthenes algorithm for efficiency.\n    \n    :param n: int, the upper bound (inclusive) of the range to check for prime numbers\n    :return: int, the count of prime numbers less than or equal to `n`\n    \"\"\"\n    if n < 2:\n        return 0\n    \n    is_prime = [True] * (n + 1)\n    is_prime[0] = is_prime[1] = False\n    \n    p = 2\n    while p * p <= n:\n        if is_prime[p]:\n            for i in range(p * p, n + 1, p):\n                is_prime[i] = False\n        p += 1\n    \n    return sum(is_prime)\n```"}
{"text": "You are given a list of integers. Your task is to determine the length of the longest consecutive sequence of increasing numbers within the list. For example, given the list `[1, 2, 3, 1, 2, 3, 4, 5]`, the function should return `5` because the longest sequence of increasing numbers is `[1, 2, 3, 4, 5]`.\n\n**Input:**\n- A list of integers `nums` (0 ≤ len(nums) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- An integer representing the length of the longest consecutive sequence of increasing numbers.\n\n**Sample Input:**\n```\n[1, 2, 3, 1, 2, 3, 4, 5]\n```\n\n**Sample Output:**\n```\n5\n```", "response": "```python\ndef longest_increasing_sequence(nums):\n    \"\"\"\n    Returns the length of the longest consecutive sequence of increasing numbers in the list.\n\n    :param nums: List of integers\n    :return: Integer representing the length of the longest increasing sequence\n    \"\"\"\n    if not nums:\n        return 0  # Handle the empty list case\n\n    max_length = 1\n    current_length = 1\n\n    for i in range(1, len(nums)):\n        if nums[i] > nums[i - 1]:\n            current_length += 1\n        else:\n            max_length = max(max_length, current_length)\n            current_length = 1\n\n    # Final check to ensure the last sequence is considered\n    max_length = max(max_length, current_length)\n\n    return max_length\n\n# Example usage:\nnums = [1, 2, 3, 1, 2, 3, 4, 5]\nprint(longest_increasing_sequence(nums))  # Output should be 5\n```"}
{"text": "You are tasked with implementing a function `generate_fibonacci_sequence(n)` that generates the first `n` numbers of the Fibonacci sequence. The Fibonacci sequence is defined as follows: F(0) = 0, F(1) = 1, and F(n) = F(n-1) + F(n-2) for n >= 2. Your function should be optimized for large values of `n` and should use an iterative approach to avoid recursion depth issues.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 10^6), representing the number of Fibonacci numbers to generate.\n\n**Output:**\n- A list of integers, containing the first `n` numbers of the Fibonacci sequence.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n[0, 1, 1, 2, 3]\n```", "response": "```python\ndef generate_fibonacci_sequence(n):\n    \"\"\"Generate a list containing the first `n` numbers of the Fibonacci sequence.\n    \n    This function uses an iterative approach to efficiently generate the Fibonacci sequence,\n    suitable for large values of `n`.\n    \n    :param n: Integer, the number of Fibonacci numbers to generate.\n    :return: List[int], the first `n` Fibonacci numbers.\n    \"\"\"\n    if n <= 0:\n        return []\n    elif n == 1:\n        return [0]\n    elif n == 2:\n        return [0, 1]\n    \n    fibonacci_sequence = [0, 1]\n    for i in range(2, n):\n        next_number = fibonacci_sequence[-1] + fibonacci_sequence[-2]\n        fibonacci_sequence.append(next_number)\n    \n    return fibonacci_sequence\n```"}
{"text": "You are participating in a text classification challenge where your task is to develop a model that categorizes sentences into two classes: positive and negative. You are provided with a dataset of 1000 sentences, each labeled as either positive or negative. The dataset is stored in a CSV file named `sentiment_data.csv` with two columns: `sentence` and `label`. Your goal is to construct a simple text classification model using the scikit-learn library that achieves at least 80% accuracy on the test set. Your program should perform the following steps:\n\n1. Load the dataset from the CSV file.\n2. Preprocess the text data by converting all characters to lowercase, removing punctuation, and tokenizing the sentences.\n3. Split the dataset into training and testing sets with an 80-20 split.\n4. Train a logistic regression model on the training set.\n5. Evaluate the model on the test set and print the accuracy.\n\n**Sample Input:**\nA CSV file `sentiment_data.csv` with the following content:\n```\nsentence,label\nI love this product,positive\nThis is the worst experience,negative\nAbsolutely fantastic,positive\nNot good at all,negative\n```\n\n**Sample Output:**\n```\nAccuracy: 85.00%\n```", "response": "```python\nimport pandas as pd\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import accuracy_score\nimport string\nimport re\n\ndef load_dataset(file_path):\n    \"\"\"\n    Load the dataset from a CSV file.\n    \n    Parameters:\n    file_path (str): Path to the CSV file.\n    \n    Returns:\n    pd.DataFrame: Loaded dataset.\n    \"\"\"\n    return pd.read_csv(file_path)\n\ndef preprocess_text(text):\n    \"\"\"\n    Preprocess the text data by converting to lowercase and removing punctuation.\n    \n    Parameters:\n    text (str): Input text to preprocess.\n    \n    Returns:\n    str: Preprocessed text.\n    \"\"\"\n    text = text.lower()\n    text = re.sub(r'[^\\w\\s]', '', text)\n    return text\n\ndef split_dataset(df, test_size=0.2, random_state=42):\n    \"\"\"\n    Split the dataset into training and testing sets.\n    \n    Parameters:\n    df (pd.DataFrame): Input dataset.\n    test_size (float): Proportion of the dataset to include in the test split.\n    random_state (int): Seed for random number generator.\n    \n    Returns:\n    tuple: Training and testing sets.\n    \"\"\"\n    return train_test_split(df['sentence'], df['label'], test_size=test_size, random_state=random_state)\n\ndef train_model(X_train, y_train):\n    \"\"\"\n    Train a logistic regression model on the training set.\n    \n    Parameters:\n    X_train (array-like): Training data.\n    y_train (array-like): Training labels.\n    \n    Returns:\n    LogisticRegression: Trained logistic regression model.\n    \"\"\"\n    vectorizer = TfidfVectorizer()\n    X_train_tfidf = vectorizer.fit_transform(X_train)\n    model = LogisticRegression()\n    model.fit(X_train_tfidf, y_train)\n    return model, vectorizer\n\ndef evaluate_model(model, vectorizer, X_test, y_test):\n    \"\"\"\n    Evaluate the model on the test set and print the accuracy.\n    \n    Parameters:\n    model (LogisticRegression): Trained logistic regression model.\n    vectorizer (TfidfVectorizer): TF-IDF vectorizer.\n    X_test (array-like): Test data.\n    y_test (array-like): Test labels.\n    \"\"\"\n    X_test_tfidf = vectorizer.transform(X_test)\n    y_pred = model.predict(X_test_tfidf)\n    accuracy = accuracy_score(y_test, y_pred)\n    print(f\"Accuracy: {accuracy * 100:.2f}%\")\n\n# Main execution\ndf = load_dataset('sentiment_data.csv')\ndf['sentence'] = df['sentence'].apply(preprocess_text)\nX_train, X_test, y_train, y_test = split_dataset(df)\nmodel, vectorizer = train_model(X_train, y_train)\nevaluate_model(model, vectorizer, X_test, y_test)\n```"}
{"text": "You are given an array `nums` of `n-1` distinct integers in the range `[1, n]`. Your task is to find the single missing number in the array. The array does not contain any duplicates.\n\n**Input:**\n- The first line contains an integer `n` (1 ≤ n ≤ 10^5), the length of the array plus one.\n- The second line contains `n-1` space-separated integers representing the array `nums`.\n\n**Output:**\n- Print the missing number.\n\n**Sample Input:**\n```\n6\n1 2 4 5 6\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\ndef find_missing_number(nums):\n    \"\"\"\n    Finds the missing number in the range [1, n] from the given list of n-1 distinct integers.\n\n    :param nums: List[int] - A list of n-1 distinct integers in the range [1, n]\n    :return: int - The missing number in the range [1, n]\n    \"\"\"\n    n = len(nums) + 1\n    expected_sum = n * (n + 1) // 2\n    actual_sum = sum(nums)\n    return expected_sum - actual_sum\n\n# Example usage:\ninput_list = [1, 2, 4, 5, 6]\nmissing_number = find_missing_number(input_list)\nprint(missing_number)  # Output: 3\n```"}
{"text": "You are given a string `s` consisting of words separated by spaces. Your task is to write a Python function named `reverse_words` that reverses each word in the string while maintaining the original order of the words. \n\n**Input:**\n- A single string `s` (1 ≤ len(s) ≤ 1000) containing words separated by spaces. Each word consists of lowercase and uppercase English letters.\n\n**Output:**\n- A string where each word from the input string is reversed, but the order of the words remains unchanged.\n\n**Sample Input:**\n```\n\"Hello World\"\n```\n\n**Sample Output:**\n```\n\"olleH dlroW\"\n```", "response": "```python\ndef reverse_words(s):\n    \"\"\"\n    Reverses each word in the input string while maintaining the original order of the words.\n\n    :param s: A string consisting of words separated by spaces.\n    :return: A string with each word reversed.\n    \"\"\"\n    words = s.split()\n    reversed_words = [word[::-1] for word in words]\n    reversed_string = ' '.join(reversed_words)\n    return reversed_string\n\n# Example usage:\ninput_string = \"Hello World\"\nprint(reverse_words(input_string))  # Output: \"olleH dlroW\"\n```"}
{"text": "You are tasked with implementing a `Book` class to manage book information. The class should have the following attributes:\n- `title`: a string representing the title of the book.\n- `author`: a string representing the author of the book.\n- `year`: an integer representing the year the book was published.\n- `genre`: a string representing the genre of the book.\n\nAdditionally, implement a method `describe()` that returns a string in the format: \"Title: [title], Author: [author], Year: [year], Genre: [genre]\".\n\n**Sample Input:**\n```python\nbook = Book(\"1984\", \"George Orwell\", 1949, \"Dystopian\")\nprint(book.describe())\n```\n\n**Sample Output:**\n```\nTitle: 1984, Author: George Orwell, Year: 1949, Genre: Dystopian\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, year, genre):\n        \"\"\"\n        Initializes a new Book instance with the given title, author, year, and genre.\n\n        :param title: str - the title of the book\n        :param author: str - the author of the book\n        :param year: int - the year the book was published\n        :param genre: str - the genre of the book\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.year = year\n        self.genre = genre\n\n    def describe(self):\n        \"\"\"\n        Returns a string describing the book in the format:\n        \"Title: [title], Author: [author], Year: [year], Genre: [genre]\".\n\n        :return: str - the description of the book\n        \"\"\"\n        return f\"Title: {self.title}, Author: {self.author}, Year: {self.year}, Genre: {self.genre}\"\n```"}
{"text": "You are given a dictionary `user_profiles` where each key is a unique username and each value is another dictionary containing user details such as `email`, `age`, and `city`. Your task is to implement a function `update_email` that updates the `email` field for a specified user. The function should accept three parameters: `user_profiles`, `username`, and `new_email`. If the `username` does not exist in the `user_profiles`, the function should raise a `KeyError` with a message indicating the username was not found.\n\n**Sample Input:**\n```python\nuser_profiles = {\n    'john_doe': {'email': 'john@example.com', 'age': 30, 'city': 'New York'},\n    'jane_smith': {'email': 'jane@example.com', 'age': 25, 'city': 'Los Angeles'}\n}\nusername = 'john_doe'\nnew_email = 'john.doe@newdomain.com'\n```\n\n**Sample Output:**\n```python\n{\n    'john_doe': {'email': 'john.doe@newdomain.com', 'age': 30, 'city': 'New York'},\n    'jane_smith': {'email': 'jane@example.com', 'age': 25, 'city': 'Los Angeles'}\n}\n```", "response": "```python\ndef update_email(user_profiles, username, new_email):\n    \"\"\"\n    Updates the email field for a specified user in the user_profiles dictionary.\n\n    Parameters:\n    user_profiles (dict): A dictionary where keys are usernames and values are dictionaries containing user details.\n    username (str): The username of the user whose email needs to be updated.\n    new_email (str): The new email address to be set for the user.\n\n    Raises:\n    KeyError: If the specified username does not exist in the user_profiles dictionary.\n    \"\"\"\n    if username in user_profiles:\n        user_profiles[username]['email'] = new_email\n    else:\n        raise KeyError(f\"Username '{username}' not found in user profiles.\")\n```"}
{"text": "You are tasked with implementing a function `convert_temperature` that performs temperature conversions between Celsius, Fahrenheit, and Kelvin. The function should accept three parameters: `temp` (the temperature value to convert), `from_unit` (the unit of the input temperature), and `to_unit` (the desired unit for the output temperature). Both `from_unit` and `to_unit` will be strings that can be either \"Celsius\", \"Fahrenheit\", or \"Kelvin\". Your function should return the converted temperature as a float. If an invalid unit is provided, the function should raise a `ValueError`.\n\n**Sample Input:**\n- `convert_temperature(100, \"Celsius\", \"Fahrenheit\")`\n- `convert_temperature(32, \"Fahrenheit\", \"Celsius\")`\n- `convert_temperature(273.15, \"Kelvin\", \"Celsius\")`\n\n**Sample Output:**\n- `212.0`\n- `0.0`\n- `0.0`", "response": "```python\ndef convert_temperature(temp, from_unit, to_unit):\n    \"\"\"\n    Convert a temperature from one unit to another.\n\n    Parameters:\n    temp (float): The temperature value to convert.\n    from_unit (str): The unit of the input temperature (\"Celsius\", \"Fahrenheit\", or \"Kelvin\").\n    to_unit (str): The desired unit for the output temperature (\"Celsius\", \"Fahrenheit\", or \"Kelvin\").\n\n    Returns:\n    float: The converted temperature.\n\n    Raises:\n    ValueError: If an invalid unit is specified.\n    \"\"\"\n    if from_unit == \"Fahrenheit\":\n        temp = (temp - 32) * 5.0 / 9.0\n    elif from_unit == \"Kelvin\":\n        temp = temp - 273.15\n\n    if to_unit == \"Celsius\":\n        return temp\n    elif to_unit == \"Fahrenheit\":\n        return temp * 9.0 / 5.0 + 32\n    elif to_unit == \"Kelvin\":\n        return temp + 273.15\n\n    raise ValueError(\"Invalid unit specified\")\n```"}
{"text": "You are given a string `text` which may contain punctuation marks. Your task is to write a function `count_words` that returns a dictionary with words as keys and their counts as values. Words should be considered case-insensitive and punctuation should be ignored. \n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 10^4) containing alphabetic characters, spaces, and punctuation marks.\n\n**Output:**\n- A dictionary where keys are words in lowercase and values are the number of times each word appears in the text.\n\n**Sample Input:**\n```\n\"Hello, world! Hello, everyone.\"\n```\n\n**Sample Output:**\n```\n{'hello': 2, 'world': 1, 'everyone': 1}\n```", "response": "```python\nimport string\n\ndef count_words(text: str) -> dict:\n    \"\"\"\n    Counts the number of occurrences of each word in a given text, ignoring punctuation and case.\n    \n    :param text: A string containing words, spaces, and punctuation.\n    :return: A dictionary with words as keys and their counts as values.\n    \"\"\"\n    text = text.translate(str.maketrans('', '', string.punctuation))\n    text = text.lower()\n    words = text.split()\n    word_count = {}\n    for word in words:\n        if word in word_count:\n            word_count[word] += 1\n        else:\n            word_count[word] = 1\n    return word_count\n\n# Example usage\ntext = \"Hello, world! Hello, everyone.\"\nprint(count_words(text))\n```"}
{"text": "You are given a string `s` consisting of words separated by commas. Your task is to write a function that splits the string into a list of non-empty substrings. Each substring should represent a word from the original string. For example, given the input string `\"apple,banana,,cherry,,date,\"`, your function should return `[\"apple\", \"banana\", \"cherry\", \"date\"]`.\n\n**Input:**\n- A single string `s` (1 ≤ len(s) ≤ 1000) containing words separated by commas.\n\n**Output:**\n- A list of non-empty substrings.\n\n**Sample Input:**\n```\n\"apple,banana,,cherry,,date,\"\n```\n\n**Sample Output:**\n```\n[\"apple\", \"banana\", \"cherry\", \"date\"]\n```", "response": "```python\ndef convert_to_substrings(s):\n    \"\"\"\n    Splits the input string by commas and returns a list of non-empty substrings.\n\n    :param s: A string containing words separated by commas.\n    :return: A list of non-empty substrings.\n    \"\"\"\n    return [substring for substring in s.split(',') if substring]\n\n# Example usage:\ns = \"apple,banana,,cherry,,date,\"\nresult = convert_to_substrings(s)\nprint(result)  # Output: [\"apple\", \"banana\", \"cherry\", \"date\"]\n```"}
{"text": "You are given a list of words `words` and a string `pattern`. Your task is to implement a function `find_and_mask(words, pattern)` that returns a new list where each word that matches the pattern is masked by replacing all characters in the word with an asterisk (`*`). A word matches the pattern if it has the same length as the pattern and all corresponding characters are either the same or the pattern has a `.` (dot) in the corresponding position, which acts as a wildcard. For example, if `words = [\"hello\", \"world\", \"hero\", \"heros\"]` and `pattern = \"he.o\"`, the function should return `[\"he**o\", \"world\", \"he**o\", \"heros\"]`.\n\n**Input:**\n- A list of words `words` (1 ≤ len(words) ≤ 100), where each word consists of lowercase English letters and has a length between 1 and 10.\n- A string `pattern` consisting of lowercase English letters and dots (`.`), with a length between 1 and 10.\n\n**Output:**\n- A list of strings, where each word that matches the pattern is masked with asterisks (`*`).\n\n**Sample Input:**\n```\nwords = [\"hello\", \"world\", \"hero\", \"heros\"]\npattern = \"he.o\"\n```\n\n**Sample Output:**\n```\n[\"he**o\", \"world\", \"he**o\", \"heros\"]\n```", "response": "```python\ndef find_and_mask(words, pattern):\n    \"\"\"\n    Masks words in the list that match the given pattern.\n    \n    Args:\n    words (list of str): The list of words to be checked.\n    pattern (str): The pattern to match against, where '.' acts as a wildcard.\n    \n    Returns:\n    list of str: A new list with matching words masked by asterisks.\n    \"\"\"\n    masked_words = []\n    pattern_length = len(pattern)\n    \n    for word in words:\n        if len(word) == pattern_length:\n            mask = True\n            masked_word = list(word)\n            for i in range(pattern_length):\n                if pattern[i] != '.' and pattern[i] != word[i]:\n                    mask = False\n                    break\n                elif pattern[i] == '.':\n                    masked_word[i] = '*'\n            if mask:\n                masked_words.append(''.join(masked_word))\n            else:\n                masked_words.append(word)\n        else:\n            masked_words.append(word)\n    \n    return masked_words\n```"}
{"text": "You are given a sorted list of `n` distinct strings and a target string `t`. Your task is to implement an optimized binary search algorithm to find the index of the target string in the list. If the target string is not present in the list, return `-1`. The comparison of strings should be done lexicographically.\n\n**Input:**\n- The first line contains an integer `n` (1 ≤ n ≤ 10^5), the number of strings in the list.\n- The next `n` lines contain the strings in the list, each string consists of lowercase English letters and has a length between 1 and 20.\n- The last line contains the target string `t`.\n\n**Output:**\n- Print the index of the target string in the list (0-based index), or `-1` if the string is not found.\n\n**Sample Input:**\n```\n5\napple\nbanana\ncherry\ndate\nelderberry\nbanana\n```\n\n**Sample Output:**\n```\n1\n```", "response": "```python\ndef optimize_binary_search(strings, target):\n    \"\"\"\n    Perform an optimized binary search on a sorted list of strings to find the index of the target string.\n    \n    :param strings: List[str] - A sorted list of distinct strings.\n    :param target: str - The target string to search for.\n    :return: int - The index of the target string in the list, or -1 if not found.\n    \"\"\"\n    left, right = 0, len(strings) - 1\n    \n    while left <= right:\n        mid = (left + right) // 2\n        \n        if strings[mid] == target:\n            return mid\n        elif strings[mid] < target:\n            left = mid + 1\n        else:\n            right = mid - 1\n    \n    return -1\n```"}
{"text": "You are given two strings `str1` and `str2`. Your task is to implement a function `calculate_similarity` that computes the Jaccard similarity between these two strings. The Jaccard similarity is defined as the size of the intersection of the sets of characters in the strings divided by the size of their union. If both strings are empty, the similarity should be considered as 1.0.\n\n**Input:**\n- Two strings `str1` and `str2` (1 ≤ len(str1), len(str2) ≤ 1000).\n\n**Output:**\n- A float representing the Jaccard similarity between the two strings.\n\n**Sample Input:**\n```\nstr1 = \"hello\"\nstr2 = \"yellow\"\n```\n\n**Sample Output:**\n```\n0.4\n```", "response": "```python\ndef calculate_similarity(str1, str2):\n    \"\"\"\n    Calculate the Jaccard similarity between two strings.\n    \n    Parameters:\n    str1 (str): The first input string.\n    str2 (str): The second input string.\n    \n    Returns:\n    float: The Jaccard similarity between the two strings.\n    \"\"\"\n    set1 = set(str1)\n    set2 = set(str2)\n    intersection = set1.intersection(set2)\n    union = set1.union(set2)\n    \n    if not union:\n        return 1.0\n    \n    return len(intersection) / len(union)\n\n# Example usage:\n# similarity = calculate_similarity(\"hello\", \"yellow\")\n# print(similarity)  # Output: 0.4\n```"}
{"text": "You are given a string `s` that may contain spaces, underscores, and camelCase. Your task is to write a function `convert_to_snake_case(s)` that converts the string to snake_case. In snake_case, all letters are lowercase and words are separated by a single underscore. There should be no leading or trailing underscores in the result.\n\n**Input:**\n- A single string `s` (1 ≤ len(s) ≤ 100) containing alphanumeric characters, spaces, and underscores.\n\n**Output:**\n- A single string representing the input string converted to snake_case.\n\n**Sample Input:**\n```\nHelloWorld\nHello_World Example\nThisIsATest_String\n  Leading and trailing spaces  \nmultiple___underscores\n```\n\n**Sample Output:**\n```\nhello_world\nhello_world_example\nthis_is_a_test_string\nleading_and_trailing_spaces\nmultiple_underscores\n```", "response": "```python\nimport re\n\ndef convert_to_snake_case(s):\n    \"\"\"\n    Convert a given string to snake_case.\n    \n    Parameters:\n    s (str): The input string containing spaces, underscores, and camelCase.\n    \n    Returns:\n    str: The converted string in snake_case.\n    \"\"\"\n    # Replace spaces and underscores with underscores\n    s = s.replace(' ', '_').replace('__', '_')\n    \n    # Convert camelCase to snake_case\n    s = re.sub(r'(?<!^)(?=[A-Z])', '_', s).lower()\n    \n    # Replace multiple underscores with a single underscore\n    s = re.sub(r'_{2,}', '_', s)\n    \n    # Remove leading and trailing underscores\n    s = s.strip('_')\n    \n    return s\n\n# Test cases\nprint(convert_to_snake_case(\"HelloWorld\"))  # Output: hello_world\nprint(convert_to_snake_case(\"Hello_World Example\"))  # Output: hello_world_example\nprint(convert_to_snake_case(\"ThisIsATest_String\"))  # Output: this_is_a_test_string\nprint(convert_to_snake_case(\"  Leading and trailing spaces  \"))  # Output: leading_and_trailing_spaces\nprint(convert_to_snake_case(\"multiple___underscores\"))  # Output: multiple_underscores\n```"}
{"text": "You are given a string `s` consisting of lowercase English letters. Your task is to determine the number of unique palindromic substrings within `s`. A palindromic substring is defined as a substring that reads the same forwards and backwards.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 1000).\n\n**Output:**\n- An integer representing the number of unique palindromic substrings in `s`.\n\n**Sample Input:**\n```\nabcab\n```\n\n**Sample Output:**\n```\n5\n```", "response": "```python\ndef count_palindromes(s: str) -> int:\n    \"\"\"\n    Returns the number of unique palindromic substrings in the given string s.\n    \n    :param s: A string consisting of lowercase English letters.\n    :return: An integer representing the number of unique palindromic substrings.\n    \"\"\"\n    def expand_around_center(left: int, right: int) -> None:\n        while left >= 0 and right < len(s) and s[left] == s[right]:\n            palindromes.add(s[left:right+1])\n            left -= 1\n            right += 1\n\n    palindromes = set()\n    for i in range(len(s)):\n        # Odd length palindromes\n        expand_around_center(i, i)\n        # Even length palindromes\n        expand_around_center(i, i + 1)\n\n    return len(palindromes)\n```"}
{"text": "You are given a binary tree represented as a nested list. Each node in the tree is a list of the form `[value, left_subtree, right_subtree]`, where `value` is an integer, and `left_subtree` and `right_subtree` are either nested lists representing the subtrees or `None` if the subtree does not exist. Your task is to implement a function `serialize_tree` that performs a preorder traversal of the binary tree and returns a string representation of the traversal. In preorder traversal, nodes are visited in the order: root, left subtree, right subtree.\n\n**Input:**\n- A nested list representing a binary tree.\n\n**Output:**\n- A string representing the preorder traversal of the binary tree.\n\n**Sample Input:**\n```\n[1, [2, [4, None, None], [5, None, None]], [3, [6, None, None], [7, None, None]]]\n```\n\n**Sample Output:**\n```\n\"1 2 4 5 3 6 7\"\n```", "response": "```python\ndef serialize_tree(tree):\n    \"\"\"\n    Serializes a binary tree into a string using preorder traversal.\n\n    :param tree: A nested list representing a binary tree.\n    :return: A string representing the preorder traversal of the binary tree.\n    \"\"\"\n    def preorder(node):\n        if node is None:\n            return []\n        value, left, right = node\n        return [str(value)] + preorder(left) + preorder(right)\n\n    return ' '.join(preorder(tree))\n```"}
{"text": "You are given two positive integers, `a` and `b`. Your task is to implement a function `gcd` that computes the greatest common divisor (GCD) of these two numbers using the Euclidean algorithm. The function should return the GCD of `a` and `b`.\n\n**Input:**\n- Two integers `a` and `b` (1 ≤ a, b ≤ 10^9)\n\n**Output:**\n- A single integer representing the GCD of `a` and `b`.\n\n**Sample Input:**\n```\n48 18\n```\n\n**Sample Output:**\n```\n6\n```", "response": "```python\ndef gcd(a, b):\n    \"\"\"\n    Calculate the greatest common divisor of two numbers using the Euclidean algorithm.\n\n    Parameters:\n    a (int): First positive integer.\n    b (int): Second positive integer.\n\n    Returns:\n    int: The greatest common divisor of a and b.\n    \"\"\"\n    while b != 0:\n        a, b = b, a % b\n    return a\n```"}
{"text": "You are tasked with implementing a function `convert_to_base(num, base)` that converts a given integer `num` from decimal to a specified `base`. The function should handle bases ranging from 2 to 36. The output should be a string representing the number in the new base. If the input number is negative, the output should also be negative. For example, `convert_to_base(10, 2)` should return `'1010'`, and `convert_to_base(-255, 16)` should return `'-FF'`.\n\n**Sample Input and Output:**\n- Input: `convert_to_base(10, 2)`\n- Output: `'1010'`\n- Input: `convert_to_base(255, 16)`\n- Output: `'FF'`\n- Input: `convert_to_base(-255, 16)`\n- Output: `'-FF'`", "response": "```python\ndef convert_to_base(num, base):\n    \"\"\"\n    Convert a given integer num from decimal to the specified base.\n    \n    Parameters:\n    num (int): The number to convert.\n    base (int): The base to convert to (must be between 2 and 36, inclusive).\n    \n    Returns:\n    str: The number represented in the specified base as a string.\n    \"\"\"\n    if not (2 <= base <= 36):\n        raise ValueError(\"Base must be between 2 and 36, inclusive.\")\n    if num == 0:\n        return \"0\"\n    \n    digits = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n    result = []\n    is_negative = num < 0\n    num = abs(num)\n    \n    while num > 0:\n        num, remainder = divmod(num, base)\n        result.append(digits[remainder])\n    \n    if is_negative:\n        result.append('-')\n    \n    return ''.join(reversed(result))\n```"}
{"text": "You are tasked with implementing a function to determine if a given integer is a prime number. A prime number is a natural number greater than 1 that has no positive divisors other than 1 and itself. Your function should efficiently determine the primality of the number.\n\n**Function Signature:**\n```python\ndef is_prime(num: int) -> bool:\n```\n\n**Input:**\n- An integer `num` (1 ≤ num ≤ 10^9)\n\n**Output:**\n- Return `True` if `num` is a prime number, otherwise return `False`.\n\n**Sample Input and Output:**\n- Input: `11`\n  - Output: `True`\n- Input: `12`\n  - Output: `False`\n- Input: `1`\n  - Output: `False`\n- Input: `2`\n  - Output: `True`\n- Input: `97`\n  - Output: `True`", "response": "```python\ndef is_prime(num: int) -> bool:\n    \"\"\"\n    Determines if the given integer is a prime number.\n\n    :param num: An integer to check for primality.\n    :return: True if num is a prime number, False otherwise.\n    \"\"\"\n    if num <= 1:\n        return False\n    if num <= 3:\n        return True\n    if num % 2 == 0 or num % 3 == 0:\n        return False\n    i = 5\n    while i * i <= num:\n        if num % i == 0 or num % (i + 2) == 0:\n            return False\n        i += 6\n    return True\n```"}
{"text": "You are tasked with implementing a `BankAccount` class in Python that simulates basic bank account operations. The class should support the following functionalities:\n\n- **Initialization**: Create a bank account with an owner's name and an optional initial balance (default is 0).\n- **Deposit**: Add a specified amount to the account balance. The deposit amount must be positive.\n- **Withdraw**: Subtract a specified amount from the account balance if sufficient funds are available. The withdrawal amount must be positive.\n- **Get Balance**: Return the current balance of the account.\n- **String Representation**: Provide a string representation of the account for easy readability.\n- **Debug Representation**: Provide an unambiguous string representation of the account for debugging purposes.\n\n**Sample Input/Output**:\n```python\naccount = BankAccount(\"John Doe\", 100)\nprint(account)  # Output: BankAccount(owner=John Doe, balance=100)\naccount.deposit(50)\nprint(account.get_balance())  # Output: 150\naccount.withdraw(30)\nprint(account.get_balance())  # Output: 120\naccount.withdraw(200)  # Output: Insufficient funds.\naccount.deposit(-10)  # Output: Deposit amount must be positive.\naccount.withdraw(-50)  # Output: Withdrawal amount must be positive.\n```", "response": "```python\nclass BankAccount:\n    def __init__(self, owner, balance=0):\n        \"\"\"Initialize a new bank account with the given owner and initial balance.\"\"\"\n        self.owner = owner\n        self.balance = balance\n\n    def deposit(self, amount):\n        \"\"\"Add the specified amount to the account balance if the amount is positive.\"\"\"\n        if amount > 0:\n            self.balance += amount\n        else:\n            print(\"Deposit amount must be positive.\")\n\n    def withdraw(self, amount):\n        \"\"\"Subtract the specified amount from the account balance if the amount is positive and sufficient funds exist.\"\"\"\n        if amount > 0:\n            if self.balance >= amount:\n                self.balance -= amount\n            else:\n                print(\"Insufficient funds.\")\n        else:\n            print(\"Withdrawal amount must be positive.\")\n\n    def get_balance(self):\n        \"\"\"Return the current balance of the account.\"\"\"\n        return self.balance\n\n    def __str__(self):\n        \"\"\"Return a string representation of the account.\"\"\"\n        return f\"BankAccount(owner={self.owner}, balance={self.balance})\"\n\n    def __repr__(self):\n        \"\"\"Return an unambiguous string representation of the account for debugging.\"\"\"\n        return f\"BankAccount('{self.owner}', {self.balance})\"\n```"}
{"text": "You are given a list of integers `numbers` and an integer `target`. Your task is to find all unique pairs of numbers from the list that add up to the `target`. Each pair should be represented as a tuple `(x, y)` where `x <= y`. The pairs should be returned in ascending order based on the first element of the tuple. If no such pairs exist, return an empty list.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^3, -10^3 ≤ numbers[i] ≤ 10^3)\n- An integer `target` (-2000 ≤ target ≤ 2000)\n\n**Output:**\n- A list of tuples, each representing a unique pair of numbers that add up to `target`.\n\n**Sample Input:**\n```\nnumbers = [2, 4, 3, 5, 7, 8, 1]\ntarget = 9\n```\n\n**Sample Output:**\n```\n[(1, 8), (2, 7), (4, 5)]\n```", "response": "```python\ndef find_unique_pairs(numbers, target):\n    \"\"\"\n    Finds all unique pairs of numbers in the list that add up to the target.\n    \n    :param numbers: List of integers.\n    :param target: Integer representing the target sum.\n    :return: List of tuples, each representing a unique pair of numbers that add up to the target.\n    \"\"\"\n    unique_pairs = set()\n    seen_numbers = set()\n    \n    for number in numbers:\n        complement = target - number\n        if complement in seen_numbers:\n            pair = (min(number, complement), max(number, complement))\n            unique_pairs.add(pair)\n        seen_numbers.add(number)\n    \n    return sorted(list(unique_pairs))\n```"}
{"text": "You are given a CSV file named `employees.csv` containing details about employees in a company. Your task is to write a Python script that reads this file and outputs the details of the employee with the highest salary. The CSV file has the following columns:\n\n- `id`: a unique identifier for the employee\n- `name`: the name of the employee\n- `position`: the job title of the employee\n- `salary`: the annual salary of the employee (in dollars)\n- `department`: the department the employee works in\n\n**Input Format:**\nThe CSV file `employees.csv` is formatted as follows:\n```\nid,name,position,salary,department\n1,John Doe,Software Engineer,120000,Engineering\n2,Jane Smith,Project Manager,135000,Management\n3,Bob Johnson,Data Analyst,110000,Data Science\n```\n\n**Output Format:**\nPrint the details of the employee with the highest salary in the following format:\n```\nId: 2\nName: Jane Smith\nPosition: Project Manager\nSalary: 135000\nDepartment: Management\n```", "response": "```python\nimport csv\n\ndef find_employee_with_highest_salary(filename):\n    \"\"\"\n    Reads a CSV file and prints the details of the employee with the highest salary.\n\n    Parameters:\n    filename (str): The path to the CSV file containing employee data.\n    \"\"\"\n    highest_salary = 0\n    highest_paid_employee = {}\n    \n    with open(filename, newline='') as csvfile:\n        reader = csv.DictReader(csvfile)\n        for row in reader:\n            current_salary = float(row['salary'])\n            if current_salary > highest_salary:\n                highest_salary = current_salary\n                highest_paid_employee = row\n                \n    print(\"Employee with the highest salary:\")\n    for key, value in highest_paid_employee.items():\n        print(f\"{key.capitalize()}: {value}\")\n\n# Usage\nfind_employee_with_highest_salary('employees.csv')\n```"}
{"text": "You are tasked with implementing a Python class `Employee` that encapsulates the details of an employee. The class should have the following attributes: `name`, `id`, and `salary`. Implement getter and setter methods for each attribute. Additionally, implement a method `calculate_bonus` that computes and returns the bonus, which is 10% of the employee's salary. Each method should include a docstring that describes its purpose and usage.\n\n**Sample Input:**\n```python\nemployee = Employee(\"John Doe\", 12345, 50000.0)\nemployee.set_name(\"Jane Doe\")\nemployee.set_salary(60000.0)\nprint(employee.get_name())  # Output: Jane Doe\nprint(employee.get_id())    # Output: 12345\nprint(employee.get_salary())# Output: 60000.0\nprint(employee.calculate_bonus()) # Output: 6000.0\n```\n\n**Sample Output:**\n```\nJane Doe\n12345\n60000.0\n6000.0\n```", "response": "```python\nclass Employee:\n    \"\"\"\n    A class to represent an Employee.\n\n    Attributes:\n    ----------\n    name : str\n        The name of the employee.\n    id : int\n        The ID of the employee.\n    salary : float\n        The salary of the employee.\n\n    Methods:\n    -------\n    get_name() -> str:\n        Returns the name of the employee.\n    set_name(name: str) -> None:\n        Sets the name of the employee.\n    get_id() -> int:\n        Returns the ID of the employee.\n    set_id(id: int) -> None:\n        Sets the ID of the employee.\n    get_salary() -> float:\n        Returns the salary of the employee.\n    set_salary(salary: float) -> None:\n        Sets the salary of the employee.\n    calculate_bonus() -> float:\n        Calculates and returns the bonus for the employee, which is 10% of the salary.\n    \"\"\"\n\n    def __init__(self, name: str, id: int, salary: float):\n        self._name = name\n        self._id = id\n        self._salary = salary\n\n    def get_name(self) -> str:\n        \"\"\"\n        Returns the name of the employee.\n\n        Returns:\n        -------\n        str\n        \"\"\"\n        return self._name\n\n    def set_name(self, name: str) -> None:\n        \"\"\"\n        Sets the name of the employee.\n\n        Parameters:\n        ----------\n        name : str\n            The new name for the employee.\n        \"\"\"\n        self._name = name\n\n    def get_id(self) -> int:\n        \"\"\"\n        Returns the ID of the employee.\n\n        Returns:\n        -------\n        int\n        \"\"\"\n        return self._id\n\n    def set_id(self, id: int) -> None:\n        \"\"\"\n        Sets the ID of the employee.\n\n        Parameters:\n        ----------\n        id : int\n            The new ID for the employee.\n        \"\"\"\n        self._id = id\n\n    def get_salary(self) -> float:\n        \"\"\"\n        Returns the salary of the employee.\n\n        Returns:\n        -------\n        float\n        \"\"\"\n        return self._salary\n\n    def set_salary(self, salary: float) -> None:\n        \"\"\"\n        Sets the salary of the employee.\n\n        Parameters:\n        ----------\n        salary : float\n            The new salary for the employee.\n        \"\"\"\n        self._salary = salary\n\n    def calculate_bonus(self) -> float:\n        \"\"\"\n        Calculates and returns the bonus for the employee, which is 10% of the salary.\n\n        Returns:\n        -------\n        float\n        \"\"\"\n        return self._salary * 0.1\n```"}
{"text": "You are given a temperature in Fahrenheit and your task is to write a function `to_celsius` that converts this temperature to Celsius. The function should take a single floating-point number `fahrenheit` as input and return the corresponding temperature in Celsius as a floating-point number. The conversion formula is `(fahrenheit - 32) * 5 / 9`.\n\n**Sample Input:**\n```\n68.0\n```\n\n**Sample Output:**\n```\n20.0\n```", "response": "```python\ndef to_celsius(fahrenheit):\n    \"\"\"\n    Convert a temperature from Fahrenheit to Celsius.\n\n    Parameters:\n    fahrenheit (float): Temperature in Fahrenheit.\n\n    Returns:\n    float: Temperature in Celsius.\n    \"\"\"\n    return (fahrenheit - 32) * 5 / 9\n```"}
{"text": "You are given a JSON file and a task to update a specific field within it. Your program should read the JSON file, update the specified field with a new value, and then write the updated JSON back to the file. Your program should handle the following errors gracefully:\n- If the file does not exist, print \"File not found: [file_path]\".\n- If the file contains invalid JSON, print \"Invalid JSON format in file: [file_path]\".\n- If the specified field does not exist in the JSON data, print \"Field '[field_name]' not found in the JSON data.\".\n\n**Input:**\n- The path to the JSON file.\n- The name of the field to update.\n- The new value for the field.\n\n**Output:**\n- If successful, print \"Updated '[field_name]' to '[new_value]' and saved to [file_path].\".\n- If an error occurs, print the corresponding error message.\n\n**Sample Input:**\n```\ndata.json\nexampleField\nnewValue\n```\n\n**Sample Output:**\n```\nUpdated 'exampleField' to 'newValue' and saved to data.json.\n```", "response": "```python\nimport json\n\ndef update_json_field(file_path, field_name, new_value):\n    \"\"\"\n    Updates a specific field in a JSON file with a new value and saves the changes.\n    \n    Parameters:\n    file_path (str): The path to the JSON file.\n    field_name (str): The name of the field to update.\n    new_value (any): The new value for the field.\n    \"\"\"\n    try:\n        with open(file_path, 'r') as file:\n            data = json.load(file)\n        \n        if field_name in data:\n            data[field_name] = new_value\n        else:\n            print(f\"Field '{field_name}' not found in the JSON data.\")\n            return\n        \n        with open(file_path, 'w') as file:\n            json.dump(data, file, indent=4)\n        print(f\"Updated '{field_name}' to '{new_value}' and saved to {file_path}.\")\n    \n    except FileNotFoundError:\n        print(f\"File not found: {file_path}\")\n    except json.JSONDecodeError:\n        print(f\"Invalid JSON format in file: {file_path}\")\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n\nif __name__ == '__main__':\n    file_path = 'data.json'\n    field_name = 'exampleField'\n    new_value = 'newValue'\n    \n    update_json_field(file_path, field_name, new_value)\n```"}
{"text": "You are tasked with writing a Python script that reads a CSV file and converts it into a JSON format. The script must handle large CSV files efficiently and ensure that the data types of each column are preserved in the JSON output. The CSV file includes headers, and the data types of each column are specified in a separate JSON configuration file. Your program should accept command-line arguments for the CSV file path, configuration file path, and output JSON file path.\n\n**Input:**\n- A CSV file with headers.\n- A JSON configuration file specifying the data types of each column.\n- Command-line arguments for file paths.\n\n**Output:**\n- A JSON file with the CSV data, where each column's data type is preserved as specified in the configuration file.\n\n**Sample Input:**\n- CSV File (`data.csv`):\n  ```\n  id,name,price\n  1,Apple,0.99\n  2,Banana,0.59\n  3,Cherry,2.99\n  ```\n- Configuration File (`config.json`):\n  ```json\n  {\n    \"id\": \"int\",\n    \"name\": \"str\",\n    \"price\": \"float\"\n  }\n  ```\n- Command-line Arguments:\n  ```\n  python script.py --csv data.csv --config config.json --json output.json\n  ```\n\n**Sample Output:**\n- JSON File (`output.json`):\n  ```json\n  [\n      {\"id\": 1, \"name\": \"Apple\", \"price\": 0.99},\n      {\"id\": 2, \"name\": \"Banana\", \"price\": 0.59},\n      {\"id\": 3, \"name\": \"Cherry\", \"price\": 2.99}\n  ]\n  ```", "response": "```python\nimport csv\nimport json\nfrom decimal import Decimal\nimport argparse\n\ndef parse_arguments():\n    \"\"\"\n    Parses command-line arguments for CSV file path, configuration file path, and output JSON file path.\n    \"\"\"\n    parser = argparse.ArgumentParser(description='Read CSV and convert to JSON while preserving data types.')\n    parser.add_argument('--csv', required=True, help='Input CSV file path')\n    parser.add_argument('--config', required=True, help='Configuration JSON file path')\n    parser.add_argument('--json', required=True, help='Output JSON file path')\n    return parser.parse_args()\n\ndef read_config(config_file):\n    \"\"\"\n    Reads the configuration JSON file and returns the configuration dictionary.\n    \"\"\"\n    with open(config_file, 'r') as f:\n        config = json.load(f)\n    return config\n\ndef convert_value(value, column_name, config):\n    \"\"\"\n    Converts a CSV value to the appropriate data type based on the configuration.\n    \"\"\"\n    data_type = config.get(column_name, 'str')  # default to string if not specified\n    if data_type == 'int':\n        try:\n            return int(value)\n        except ValueError:\n            return None\n    elif data_type == 'float':\n        try:\n            return float(value)\n        except ValueError:\n            return None\n    elif data_type == 'Decimal':\n        try:\n            return Decimal(value)\n        except ValueError:\n            return None\n    else:  # Default to string\n        return value\n\ndef csv_to_json(csv_file, json_file, config):\n    \"\"\"\n    Converts a CSV file to a JSON file while preserving the data types specified in the configuration.\n    \"\"\"\n    with open(csv_file, mode='r', newline='', encoding='utf-8') as f_in, open(json_file, mode='w', encoding='utf-8') as f_out:\n        reader = csv.DictReader(f_in)\n        data = []\n        for row in reader:\n            converted_row = {k: convert_value(v, k, config) for k, v in row.items()}\n            data.append(converted_row)\n        json.dump(data, f_out, indent=4)\n\nif __name__ == '__main__':\n    args = parse_arguments()\n    config = read_config(args.config)\n    csv_to_json(args.csv, args.json, config)\n```"}
{"text": "You are given a string `s`. Your task is to implement a function `count_vowels` that returns a dictionary with the count of each vowel ('a', 'e', 'i', 'o', 'u') present in the string. The counting should be case-insensitive and should ignore any non-alphabetic characters.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5), which may contain uppercase and lowercase letters, digits, punctuation, and spaces.\n\n**Output:**\n- A dictionary with keys as vowels ('a', 'e', 'i', 'o', 'u') and values as their respective counts in the string.\n\n**Sample Input:**\n```\n\"Hello, World! How many vowels are in this sentence?\"\n```\n\n**Sample Output:**\n```\n{'a': 1, 'e': 3, 'i': 2, 'o': 4, 'u': 0}\n```", "response": "```python\ndef count_vowels(input_string):\n    \"\"\"\n    Counts the occurrences of each vowel in a given string in a case-insensitive manner,\n    ignoring non-alphabetic characters.\n\n    Parameters:\n    input_string (str): The string in which vowels are to be counted.\n\n    Returns:\n    dict: A dictionary with vowels as keys and their counts as values.\n    \"\"\"\n    vowels = 'aeiou'\n    result = {vowel: 0 for vowel in vowels}\n    \n    input_string = input_string.lower()\n    \n    for char in input_string:\n        if char in vowels:\n            result[char] += 1\n            \n    return result\n\nexample_text = \"Hello, World! How many vowels are in this sentence?\"\nprint(count_vowels(example_text))\n```"}
{"text": "You are given a string `s` consisting of lowercase English letters. Your task is to generate all unique permutations of the string `s`. The permutations should be returned as a sorted list of strings.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 8).\n\n**Output:**\n- A sorted list of unique permutations of the string `s`.\n\n**Sample Input:**\n```\naab\n```\n\n**Sample Output:**\n```\n['aab', 'aba', 'baa']\n```", "response": "```python\nfrom itertools import permutations\n\ndef string_permutations(input_string):\n    \"\"\"\n    Generate all unique permutations of the input string and return them as a sorted list.\n\n    :param input_string: A string for which permutations are to be generated.\n    :return: A sorted list of unique permutations of the input string.\n    \"\"\"\n    perm = set(permutations(input_string))\n    result = sorted([''.join(p) for p in perm])\n    return result\n\n# Example usage:\ninput_str = \"aab\"\nprint(string_permutations(input_str))\n```"}
{"text": "You are tasked with implementing a Python class `Employee` to manage employee details in a company's database. The class should support the following functionalities:\n\n- Initialize an employee with attributes: `name` (string), `employee_id` (integer), `position` (string), and `salary` (float).\n- Provide a method `give_raise(amount)` to increase the employee's salary by a specified `amount`.\n- Provide a method `set_position(new_position)` to update the employee's position to `new_position`.\n- Implement the `__str__()` method to return a string representation of the employee in the format: `\"Employee(Name: John Doe, ID: 123, Position: Software Engineer, Salary: $85000.00)\"`.\n\n**Sample Input/Output:**\n```python\nemp = Employee(\"John Doe\", 123, \"Software Engineer\", 85000)\nprint(emp)  # Output: Employee(Name: John Doe, ID: 123, Position: Software Engineer, Salary: $85000.00)\nemp.give_raise(5000)\nemp.set_position(\"Senior Software Engineer\")\nprint(emp)  # Output: Employee(Name: John Doe, ID: 123, Position: Senior Software Engineer, Salary: $90000.00)\n```", "response": "```python\nclass Employee:\n    def __init__(self, name, employee_id, position, salary):\n        \"\"\"\n        Initialize an employee with the given name, employee_id, position, and salary.\n        \n        :param name: str - The name of the employee.\n        :param employee_id: int - The unique identifier for the employee.\n        :param position: str - The job position of the employee.\n        :param salary: float - The salary of the employee.\n        \"\"\"\n        self.name = name\n        self.employee_id = employee_id\n        self.position = position\n        self.salary = salary\n\n    def give_raise(self, amount):\n        \"\"\"\n        Increase the employee's salary by the specified amount.\n        \n        :param amount: float - The amount to increase the salary by.\n        \"\"\"\n        self.salary += amount\n\n    def set_position(self, new_position):\n        \"\"\"\n        Update the employee's position to the new position provided.\n        \n        :param new_position: str - The new job position for the employee.\n        \"\"\"\n        self.position = new_position\n\n    def __str__(self):\n        \"\"\"\n        Return a string representation of the employee.\n        \n        :return: str - The string representation of the employee.\n        \"\"\"\n        return f\"Employee(Name: {self.name}, ID: {self.employee_id}, Position: {self.position}, Salary: ${self.salary:.2f})\"\n```"}
{"text": "You are given an integer `n`. Your task is to write a function `find_smallest_prime_factor` that returns the smallest prime factor of `n`. If `n` is less than or equal to 1, the function should return `None`.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 10^9)\n\n**Output:**\n- Return the smallest prime factor of `n` as an integer, or `None` if `n` is less than or equal to 1.\n\n**Sample Input:**\n```\n1\n15\n29\n```\n\n**Sample Output:**\n```\nNone\n3\n29\n```", "response": "```python\ndef find_smallest_prime_factor(n):\n    \"\"\"Return the smallest prime factor of n. \n    Returns None if n <= 1.\n    \"\"\"\n    if n <= 1:\n        return None\n    for i in range(2, int(n**0.5) + 1):\n        if n % i == 0:\n            return i\n    return n\n\n# Test the function\nprint(find_smallest_prime_factor(1))  # Output should be None\nprint(find_smallest_prime_factor(15)) # Output should be 3\nprint(find_smallest_prime_factor(29)) # Output should be 29, because 29 is a prime number\n```"}
{"text": "You are given a directory path. Your task is to write a function `sort_files_by_size` that returns a list of file names in the specified directory sorted by their size in ascending order. Subdirectories should be ignored. Assume that the directory path is valid and accessible.\n\n**Sample Input:**\n```\n\"/path/to/directory\"\n```\n**Directory Contents:**\n```\nfile1.txt (1024 bytes)\nfile2.txt (512 bytes)\nsubdir/\nfile3.txt (2048 bytes)\n```\n**Sample Output:**\n```\n['file2.txt', 'file1.txt', 'file3.txt']\n```", "response": "```python\nimport os\n\ndef sort_files_by_size(directory_path):\n    \"\"\"\n    Returns a list of file names in the specified directory sorted by their size in ascending order.\n    \n    :param directory_path: str, the path to the directory\n    :return: list, sorted file names by size\n    \"\"\"\n    files = [entry for entry in os.listdir(directory_path) if os.path.isfile(os.path.join(directory_path, entry))]\n    files_with_sizes = [(file, os.path.getsize(os.path.join(directory_path, file))) for file in files]\n    files_with_sizes.sort(key=lambda x: x[1])\n    return [file for file, size in files_with_sizes]\n```"}
