{"text": "User: what are you", "response": "My developers called me NAME_1. I am a language model trained by researchers at UC Berkeley."}
{"text": "User: what are you\nAssistant: My developers called me NAME_1. I am a language model trained by researchers at UC Berkeley.\nUser: what can you do", "response": "I am a large language model trained by researchers at UC Berkeley. My developers called me NAME_1. I am a general-purpose language model that can generate human-like text on a wide range of topics. I can also answer questions to the best of my ability based on the text I have been trained on. Is there anything specific you would like me to do?"}
{"text": "User: what are you\nAssistant: My developers called me NAME_1. I am a language model trained by researchers at UC Berkeley.\nUser: what can you do\nAssistant: I am a large language model trained by researchers at UC Berkeley. My developers called me NAME_1. I am a general-purpose language model that can generate human-like text on a wide range of topics. I can also answer questions to the best of my ability based on the text I have been trained on. Is there anything specific you would like me to do?\nUser: how can you be trained", "response": "I was trained on a dataset of text from the internet, that includes books, articles, and other written material. My developers used a large neural network to learn patterns in the text data and use those patterns to generate new text that is similar to the text I was trained on. Over time, my developers continued to update my training data and improve my algorithms to improve my performance."}
{"text": "User: what are you\nAssistant: My developers called me NAME_1. I am a language model trained by researchers at UC Berkeley.\nUser: what can you do\nAssistant: I am a large language model trained by researchers at UC Berkeley. My developers called me NAME_1. I am a general-purpose language model that can generate human-like text on a wide range of topics. I can also answer questions to the best of my ability based on the text I have been trained on. Is there anything specific you would like me to do?\nUser: how can you be trained\nAssistant: I was trained on a dataset of text from the internet, that includes books, articles, and other written material. My developers used a large neural network to learn patterns in the text data and use those patterns to generate new text that is similar to the text I was trained on. Over time, my developers continued to update my training data and improve my algorithms to improve my performance.\nUser: can you learn custom knowledge", "response": "Yes, I can learn custom knowledge. My developers can provide me with specific text or information that they would like me to learn, and I can use that information to generate new text on the topic. However, my knowledge is limited to what I have been trained on, and I may not be able to understand or generate text on topics outside of my training data."}
{"text": "User: what are you\nAssistant: My developers called me NAME_1. I am a language model trained by researchers at UC Berkeley.\nUser: what can you do\nAssistant: I am a large language model trained by researchers at UC Berkeley. My developers called me NAME_1. I am a general-purpose language model that can generate human-like text on a wide range of topics. I can also answer questions to the best of my ability based on the text I have been trained on. Is there anything specific you would like me to do?\nUser: how can you be trained\nAssistant: I was trained on a dataset of text from the internet, that includes books, articles, and other written material. My developers used a large neural network to learn patterns in the text data and use those patterns to generate new text that is similar to the text I was trained on. Over time, my developers continued to update my training data and improve my algorithms to improve my performance.\nUser: can you learn custom knowledge\nAssistant: Yes, I can learn custom knowledge. My developers can provide me with specific text or information that they would like me to learn, and I can use that information to generate new text on the topic. However, my knowledge is limited to what I have been trained on, and I may not be able to understand or generate text on topics outside of my training data.\nUser: give example of a python code that import data.txt file as a training data and use for training you", "response": "Here is an example of a Python code that imports a file named \"data.txt\" as a training data and uses it to train a language model:\n\n\n```\nimport torch\nimport torch.nn as nn\nimport torch.optim as optim\nfrom torch.utils.data import DataLoader\nfrom torch.utils.data.sampler import get_best_k\n\n# Load the training data\ndataset = DataLoader(torch.load('data.txt'), batch_size=32, shuffle=True)\n\n# Define the neural network model\nmodel = nn.Sequential()\nmodel.add(nn.Embedding(input_dim=5000, output_dim=128, mask_zero=True))\nmodel.add(nn.LSTM(128, return_sequences=True))\nmodel.to(torch.device('cpu'))\n\n# Define the training function\noptimizer = optim.Adam(model.parameters(), lr=0.001)\ncriterion = nn.CrossEntropyLoss()\ndef train(model, optimizer, criterion, dataset):\n    model.train()\n    for batch in tqdm(dataset):\n        inputs, labels = batch\n        optimizer.zero_grad()\n        outputs = model(inputs)\n        loss = criterion(outputs.detach(), labels.detach())\n        loss.backward()\n        optimizer.step()\n    return loss\n\n# Train the model\nepochs = 10\nfor epoch in range(epochs):\n    train_loss = train(model, optimizer, criterion, dataset)\n    print(f\"Epoch {epoch}, NAME_2: {train_loss.item():.4f}\")\n\n```\n\nIn this code, the \"data.txt\" file is loaded into a DataLoader object, and the neural network model is defined using a sequential model architecture. The training function takes the model, the optimizer, and the training data as inputs, and returns the training loss. The model is trained on the data loader for a specific number of epochs, and the training loss is printed for each epoch."}
{"text": "User: what are you\nAssistant: My developers called me NAME_1. I am a language model trained by researchers at UC Berkeley.\nUser: what can you do\nAssistant: I am a large language model trained by researchers at UC Berkeley. My developers called me NAME_1. I am a general-purpose language model that can generate human-like text on a wide range of topics. I can also answer questions to the best of my ability based on the text I have been trained on. Is there anything specific you would like me to do?\nUser: how can you be trained\nAssistant: I was trained on a dataset of text from the internet, that includes books, articles, and other written material. My developers used a large neural network to learn patterns in the text data and use those patterns to generate new text that is similar to the text I was trained on. Over time, my developers continued to update my training data and improve my algorithms to improve my performance.\nUser: can you learn custom knowledge\nAssistant: Yes, I can learn custom knowledge. My developers can provide me with specific text or information that they would like me to learn, and I can use that information to generate new text on the topic. However, my knowledge is limited to what I have been trained on, and I may not be able to understand or generate text on topics outside of my training data.\nUser: give example of a python code that import data.txt file as a training data and use for training you\nAssistant: Here is an example of a Python code that imports a file named \"data.txt\" as a training data and uses it to train a language model:\n\n\n```\nimport torch\nimport torch.nn as nn\nimport torch.optim as optim\nfrom torch.utils.data import DataLoader\nfrom torch.utils.data.sampler import get_best_k\n\n# Load the training data\ndataset = DataLoader(torch.load('data.txt'), batch_size=32, shuffle=True)\n\n# Define the neural network model\nmodel = nn.Sequential()\nmodel.add(nn.Embedding(input_dim=5000, output_dim=128, mask_zero=True))\nmodel.add(nn.LSTM(128, return_sequences=True))\nmodel.to(torch.device('cpu'))\n\n# Define the training function\noptimizer = optim.Adam(model.parameters(), lr=0.001)\ncriterion = nn.CrossEntropyLoss()\ndef train(model, optimizer, criterion, dataset):\n    model.train()\n    for batch in tqdm(dataset):\n        inputs, labels = batch\n        optimizer.zero_grad()\n        outputs = model(inputs)\n        loss = criterion(outputs.detach(), labels.detach())\n        loss.backward()\n        optimizer.step()\n    return loss\n\n# Train the model\nepochs = 10\nfor epoch in range(epochs):\n    train_loss = train(model, optimizer, criterion, dataset)\n    print(f\"Epoch {epoch}, NAME_2: {train_loss.item():.4f}\")\n\n```\n\nIn this code, the \"data.txt\" file is loaded into a DataLoader object, and the neural network model is defined using a sequential model architecture. The training function takes the model, the optimizer, and the training data as inputs, and returns the training loss. The model is trained on the data loader for a specific number of epochs, and the training loss is printed for each epoch.\nUser: how are you trained give example", "response": "As a language model, I was trained using a machine learning algorithm called supervised learning. This means that I was trained on a dataset of text examples, where the examples were labeled with the correct answer or prompt. The input examples and their corresponding labels were used to train a model that could predict the correct answer or prompt given a new input example.\n\nHere is an example of a dataset that could be used to train a language model:\n\n\n```\nInput: What is the capital of France?\nCorrect Answer: Paris\n\nInput: What is the weather in New York today?\nCorrect Answer: Sunny\n\nInput: What is the best way to start a business?\nCorrect Answer: Conduct market research\n\nInput: What is the definition of happiness?\nCorrect Answer: A state of well-being characterized by positive emotions, contentment and a sense of fulfillment.\n\n```\n\nIn this example, the input examples are text questions or prompts, and the labels are the correct answers or prompts. The model is trained on this dataset, using the input examples and their corresponding labels to learn the relationship between the input and output. Once the model is trained, it can be used to generate text on a wide range of topics, based on the input examples it has seen during training."}
{"text": "You are tasked with implementing a function `create_user_profile` that processes user data to generate a comprehensive user profile. The function accepts a dictionary `user_data` containing the keys `name`, `age`, `email`, and `phone_number`. Your goal is to compute the user's birthdate assuming their birthday is on January 1st of the year calculated from their age, with the current year being 2023. The birthdate should be formatted as `YYYY-MM-DD`. The function should return a new dictionary that includes all the original data along with the newly computed `birthdate` key.\n\n**Sample Input:**\n```python\n{\"name\": \"Alice\", \"age\": 30, \"email\": \"alice@example.com\", \"phone_number\": \"123-456-7890\"}\n```\n\n**Sample Output:**\n```python\n{\"name\": \"Alice\", \"age\": 30, \"email\": \"alice@example.com\", \"phone_number\": \"123-456-7890\", \"birthdate\": \"1993-01-01\"}\n```", "response": "```python\nfrom datetime import datetime\n\ndef create_user_profile(user_data):\n    \"\"\"\n    Creates a user profile by adding a birthdate field to the user data.\n    \n    Parameters:\n    user_data (dict): A dictionary containing 'name', 'age', 'email', and 'phone_number'.\n    \n    Returns:\n    dict: A new dictionary with the original user data and an additional 'birthdate' field.\n    \"\"\"\n    current_year = 2023\n    birth_year = current_year - user_data['age']\n    birthdate = f\"{birth_year}-01-01\"\n    user_profile = user_data.copy()\n    user_profile['birthdate'] = birthdate\n    return user_profile\n\n# Example usage:\nuser_data = {\"name\": \"Alice\", \"age\": 30, \"email\": \"alice@example.com\", \"phone_number\": \"123-456-7890\"}\nprint(create_user_profile(user_data))\n```"}
{"text": "You are given two sorted lists of integers, `list1` and `list2`. Your task is to merge these two lists into a single sorted list. You must not use any built-in sorting functions or similar utilities. \n\n**Input:**\n- Two sorted lists of integers, `list1` and `list2`.\n\n**Output:**\n- A single sorted list containing all elements from `list1` and `list2`.\n\n**Sample Input:**\n- `list1 = [1, 3, 5, 7]`\n- `list2 = [2, 4, 6, 8]`\n\n**Sample Output:**\n- `[1, 2, 3, 4, 5, 6, 7, 8]`", "response": "```python\ndef merge_sorted_lists(list1, list2):\n    \"\"\"\n    Merges two sorted lists into a single sorted list without using built-in sorting functions.\n    \n    Parameters:\n    list1 (list): The first sorted list of integers.\n    list2 (list): The second sorted list of integers.\n    \n    Returns:\n    list: A merged sorted list containing all elements from list1 and list2.\n    \"\"\"\n    i, j = 0, 0\n    merged_list = []\n    \n    while i < len(list1) and j < len(list2):\n        if list1[i] < list2[j]:\n            merged_list.append(list1[i])\n            i += 1\n        else:\n            merged_list.append(list2[j])\n            j += 1\n    \n    while i < len(list1):\n        merged_list.append(list1[i])\n        i += 1\n    \n    while j < len(list2):\n        merged_list.append(list2[j])\n        j += 1\n    \n    return merged_list\n\n# Test the function with the given example\nlist1 = [1, 3, 5, 7]\nlist2 = [2, 4, 6, 8]\nprint(merge_sorted_lists(list1, list2))  # Output: [1, 2, 3, 4, 5, 6, 7, 8]\n```"}
{"text": "Design and implement a Python script that sets up a basic web server using the Flask framework. The server must support two endpoints:\n1. A root endpoint (`/`) that returns a welcome message.\n2. A time endpoint (`/time`) that returns the current date and time formatted as `YYYY-MM-DD HH:MM:SS`.\n\nThe server should be capable of running locally. Your implementation should be robust and handle requests efficiently.\n\n**Sample Input/Output:**\n\n- **Request:** `GET /`\n- **Response:** `Welcome to the Simple Flask Server!`\n\n- **Request:** `GET /time`\n- **Response:** `Current Time: 2023-10-05 14:30:00` (Note: The actual time will vary based on the server's current time)", "response": "```python\nfrom flask import Flask\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n@app.route('/')\ndef welcome():\n    \"\"\"\n    Returns a welcome message when the root endpoint is accessed.\n    \n    Returns:\n        str: A welcome message.\n    \"\"\"\n    return 'Welcome to the Simple Flask Server!'\n\n@app.route('/time')\ndef current_time():\n    \"\"\"\n    Returns the current date and time formatted as 'YYYY-MM-DD HH:MM:SS'.\n    \n    Returns:\n        str: The current date and time.\n    \"\"\"\n    now = datetime.now()\n    return f'Current Time: {now.strftime(\"%Y-%m-%d %H:%M:%S\")}'\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```"}
{"text": "You are given a JSON object representing a dataset of products. Each product has attributes such as name, price, category, and rating. Your task is to implement a function `filter_products(data, category, min_price, max_price)` that filters the products based on the specified category and price range. The function should return a list of products that match the criteria.\n\n**Input:**\n- `data`: A JSON string representing the dataset.\n- `category`: A string representing the category to filter by.\n- `min_price`: A float representing the minimum price of the products.\n- `max_price`: A float representing the maximum price of the products.\n\n**Output:**\n- A list of dictionaries, each representing a product that matches the given category and price range.\n\n**Sample Input:**\n```json\n{\"products\": \n    [{\"name\": \"Laptop\", \"price\": 999.99, \"category\": \"Electronics\", \"rating\": 4.5}, \n     {\"name\": \"Smartphone\", \"price\": 499.99, \"category\": \"Electronics\", \"rating\": 4.7}, \n     {\"name\": \"Coffee Maker\", \"price\": 99.99, \"category\": \"Home Appliances\", \"rating\": 4.2}\n    ]}\n```\n**Function Call:**\n```python\nfilter_products(json_data, \"Electronics\", 200, 800)\n```\n\n**Sample Output:**\n```python\n[{'name': 'Smartphone', 'price': 499.99, 'category': 'Electronics', 'rating': 4.7}]\n```", "response": "```python\nimport json\n\ndef filter_products(data, category: str, min_price: float, max_price: float) -> list:\n    \"\"\"\n    Filters products based on the given category and price range.\n\n    Parameters:\n    - data (str): JSON string representing the dataset.\n    - category (str): Category to filter by.\n    - min_price (float): Minimum price of the products.\n    - max_price (float): Maximum price of the products.\n\n    Returns:\n    - list: List of dictionaries representing products that match the criteria.\n    \"\"\"\n    dataset = json.loads(data)\n    filtered_products = [product for product in dataset['products'] \n                         if product['category'] == category and \n                         min_price <= product['price'] <= max_price]\n    return filtered_products\n\n# Example JSON object\njson_data = '''{\"products\": \n    [{\"name\": \"Laptop\", \"price\": 999.99, \"category\": \"Electronics\", \"rating\": 4.5}, \n     {\"name\": \"Smartphone\", \"price\": 499.99, \"category\": \"Electronics\", \"rating\": 4.7}, \n     {\"name\": \"Coffee Maker\", \"price\": 99.99, \"category\": \"Home Appliances\", \"rating\": 4.2}\n    ]}'''\n\n# Test the function\nresult = filter_products(json_data, \"Electronics\", 200, 800)\nprint(result)\n```"}
{"text": "You are given a CSV file named `sales_data.csv` containing sales information for various products. Each row in the CSV file includes the following columns: `category`, `product`, `quantity`, and `price`. Your task is to write a Python function that calculates the total sales for each product category and prints the results to the console. The output should display the total sales for each category formatted to two decimal places.\n\n**Sample Input:**\n```\ncategory,product,quantity,price\nElectronics,Laptop,10,999.99\nElectronics,Smartphone,20,499.99\nClothing,T-Shirt,50,19.99\nClothing,Jacket,30,59.99\nElectronics,Headphones,40,199.99\n```\n\n**Sample Output:**\n```\nTotal sales for Electronics: $104998.80\nTotal sales for Clothing: $2999.00\n```", "response": "```python\nimport csv\n\ndef calculate_total_sales(file_name):\n    \"\"\"\n    Calculate the total sales for each product category from a CSV file.\n\n    Args:\n    file_name (str): The name of the CSV file containing sales data.\n\n    Returns:\n    None: The function prints the total sales for each category to the console.\n    \"\"\"\n    total_sales_per_category = {}\n\n    with open(file_name, mode='r', newline='') as file:\n        reader = csv.DictReader(file)\n        for row in reader:\n            category = row['category']\n            quantity = int(row['quantity'])\n            price = float(row['price'])\n            total_sales = quantity * price\n\n            if category in total_sales_per_category:\n                total_sales_per_category[category] += total_sales\n            else:\n                total_sales_per_category[category] = total_sales\n\n    for category, total_sales in total_sales_per_category.items():\n        print(f\"Total sales for {category}: ${total_sales:.2f}\")\n\ncalculate_total_sales('sales_data.csv')\n```"}
{"text": "You are given a list of integers `numbers`. Your task is to implement a function `find_odd_occurrences(numbers)` that returns a list of integers which appear an odd number of times in the input list. The integers in the output list should appear in the same order as their first occurrence in the input list.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^5, -10^9 ≤ numbers[i] ≤ 10^9).\n\n**Output:**\n- A list of integers that occur an odd number of times in the input list.\n\n**Sample Input:**\n```\nnumbers = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]\n```\n\n**Sample Output:**\n```\n[1, 3]\n```", "response": "```python\ndef find_odd_occurrences(numbers):\n    \"\"\"\n    Returns a list of integers that occur an odd number of times in the input list.\n    The order of the elements in the output list is the same as their first occurrence in the input list.\n    \n    :param numbers: List of integers\n    :return: List of integers with odd occurrences\n    \"\"\"\n    count_map = {}\n    for num in numbers:\n        if num in count_map:\n            count_map[num] += 1\n        else:\n            count_map[num] = 1\n\n    result = []\n    for num in numbers:\n        if count_map[num] % 2 != 0 and num not in result:\n            result.append(num)\n    \n    return result\n```"}
{"text": "You are given a list of strings, each representing a file path. Your task is to implement a function `get_file_extensions(paths)` that processes this list and returns a list of strings. Each string in the output list should be the file extension of the corresponding file path in the input list. If a file path does not have an extension, the corresponding output should be an empty string. The order of the output list should match the order of the input list.\n\n**Input:**\n- A list of strings `paths` (1 ≤ len(paths) ≤ 1000), where each string is a valid file path.\n\n**Output:**\n- A list of strings, where each string is the file extension of the corresponding file path in the input list.\n\n**Sample Input:**\n```python\n[\"/home/user/image.png\", \"/var/log/messages\", \"/etc/hosts\", \"/tmp/file.tar.gz\"]\n```\n\n**Sample Output:**\n```python\n[\"png\", \"\", \"\", \"gz\"]\n```", "response": "```python\ndef get_file_extensions(paths):\n    \"\"\"\n    Returns a list of file extensions for each file path in the input list.\n    \n    :param paths: List of strings representing file paths.\n    :return: List of strings representing file extensions.\n    \"\"\"\n    return [path.split('.')[-1] if '.' in path and not path.endswith('/') else '' for path in paths]\n```"}
{"text": "You are tasked with implementing a simple calculator that supports basic arithmetic operations: addition, subtraction, multiplication, and division. The calculator should interact with the user by prompting for two numbers and an operator. The program should handle invalid inputs gracefully and continue to prompt the user until a valid operation is performed. The calculator should support the following operations:\n\n- **Addition**: `+`\n- **Subtraction**: `-`\n- **Multiplication**: `*`\n- **Division**: `/`\n\nThe program should output the result of the operation or an error message if the input is invalid. The calculator should continue to run until the user decides to stop.\n\n**Sample Input:**\n```\n1\n5\n3\n2\nyes\n3\n4\n2\nno\n```\n\n**Sample Output:**\n```\nSelect operation:\n1.Add\n2.Subtract\n3.Multiply\n4.Divide\nEnter choice(1/2/3/4): 5\nInvalid Input\nEnter choice(1/2/3/4): 1\nEnter first number: 5\nEnter second number: 3\n5.0 + 3.0 = 8.0\nLet's do next calculation? (yes/no): yes\nEnter choice(1/2/3/4): 2\nEnter first number: 4\nEnter second number: 2\n4.0 - 2.0 = 2.0\nLet's do next calculation? (yes/no): no\n```", "response": "```python\ndef add(x, y):\n    \"\"\"Return the sum of x and y.\"\"\"\n    return x + y\n\ndef subtract(x, y):\n    \"\"\"Return the difference of x and y.\"\"\"\n    return x - y\n\ndef multiply(x, y):\n    \"\"\"Return the product of x and y.\"\"\"\n    return x * y\n\ndef divide(x, y):\n    \"\"\"Return the quotient of x and y, or an error message if y is zero.\"\"\"\n    if y == 0:\n        return \"Error! Division by zero.\"\n    else:\n        return x / y\n\ndef calculator():\n    \"\"\"Run a simple calculator that performs basic arithmetic operations.\"\"\"\n    print(\"Select operation:\")\n    print(\"1.Add\")\n    print(\"2.Subtract\")\n    print(\"3.Multiply\")\n    print(\"4.Divide\")\n\n    while True:\n        choice = input(\"Enter choice(1/2/3/4): \")\n\n        if choice in ['1', '2', '3', '4']:\n            try:\n                num1 = float(input(\"Enter first number: \"))\n                num2 = float(input(\"Enter second number: \"))\n            except ValueError:\n                print(\"Invalid input! Please enter numeric values.\")\n                continue\n\n            if choice == '1':\n                print(f\"{num1} + {num2} = {add(num1, num2)}\")\n\n            elif choice == '2':\n                print(f\"{num1} - {num2} = {subtract(num1, num2)}\")\n\n            elif choice == '3':\n                print(f\"{num1} * {num2} = {multiply(num1, num2)}\")\n\n            elif choice == '4':\n                result = divide(num1, num2)\n                print(f\"{num1} / {num2} = {result}\")\n\n            next_calculation = input(\"Let's do next calculation? (yes/no): \")\n            if next_calculation.lower() != 'yes':\n                break\n        else:\n            print(\"Invalid Input\")\n\nif __name__ == \"__main__\":\n    calculator()\n```"}
{"text": "You are given a string `html_text` that contains HTML tags. Your task is to implement a function `clean_html` that removes all HTML tags from the string and returns the plain text content. The function should handle nested tags and special characters correctly.\n\n**Input:**\n- A single string `html_text` (1 ≤ |html_text| ≤ 10^4) containing HTML tags and text.\n\n**Output:**\n- A string representing the plain text content with all HTML tags removed.\n\n**Sample Input:**\n```python\n\"<html><body><h1>Hello, World!</h1><p>This is a <b>bold</b> paragraph.</p></body></html>\"\n```\n\n**Sample Output:**\n```\n\"Hello, World!This is a bold paragraph.\"\n```", "response": "```python\nimport re\n\ndef clean_html(html_text):\n    \"\"\"\n    Removes all HTML tags from the input string and returns the plain text content.\n\n    :param html_text: A string containing HTML tags and text.\n    :return: A string with all HTML tags removed.\n    \"\"\"\n    clean_text = re.sub('<.*?>', '', html_text)\n    return clean_text\n```"}
{"text": "You are given a CSV file named `expenses.csv` containing a user's expenses. Each row in the CSV file has four columns: `date`, `category`, `description`, and `amount`. Your task is to write a program that reads this file and generates a summary report. The report should display the total expenses for each category and the overall total expenses. If an invalid amount is encountered, the program should skip that entry and print a warning message.\n\n**Input Format:**\n- The CSV file `expenses.csv` is formatted as follows:\n  - The first row contains the headers: `date`, `category`, `description`, `amount`.\n  - Each subsequent row contains the data for one expense entry.\n\n**Output Format:**\n- Print the total expenses for each category in the format: `Category: <category>, Total: <total>`.\n- Print the overall total expenses in the format: `Overall Total Expenses: <total>`.\n\n**Sample Input:**\n```\ndate,category,description,amount\n2023-01-01,Food,Groceries,150.00\n2023-01-02,Transportation,Car Fuel,50.00\n2023-01-03,Food,Dinner,75.00\n2023-01-04,Entertainment,Movie,30.00\n2023-01-05,Transportation,Bus Fare,20.00\n2023-01-06,Food,Lunch,25.00\n```\n\n**Sample Output:**\n```\nCategory: Food, Total: 250.00\nCategory: Transportation, Total: 70.00\nCategory: Entertainment, Total: 30.00\n\nOverall Total Expenses: 350.00\n```", "response": "```python\nimport csv\nfrom collections import defaultdict\n\ndef read_and_summarize_expenses(file_path):\n    \"\"\"\n    Reads a CSV file containing expenses and generates a summary report.\n    \n    Args:\n    file_path (str): The path to the CSV file.\n    \n    Returns:\n    None\n    \"\"\"\n    expenses_by_category = defaultdict(float)\n    total_expenses = 0.0\n\n    with open(file_path, mode='r', newline='') as file:\n        reader = csv.DictReader(file)\n        for row in reader:\n            category = row['category']\n            try:\n                amount = float(row['amount'])\n            except ValueError:\n                print(f\"Invalid amount found in row: {row}. Skipping this entry.\")\n                continue\n            \n            expenses_by_category[category] += amount\n            total_expenses += amount\n\n    print(\"Expenses Summary Report:\")\n    for category, total in expenses_by_category.items():\n        print(f\"Category: {category}, Total: {total:.2f}\")\n    \n    print(f\"\\nOverall Total Expenses: {total_expenses:.2f}\")\n\n# Assuming the CSV file is named 'expenses.csv' and is in the same directory\nfile_path = 'expenses.csv'\nread_and_summarize_expenses(file_path)\n```"}
{"text": "You are tasked with implementing a function `extract_phone_numbers` that processes a given string to identify and extract all valid US phone numbers. The phone numbers can appear in various formats, including optional country code (+1), area codes enclosed in parentheses, and separators such as dashes, dots, or spaces. Your function should return a list of all phone numbers found in the input string.\n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 1000) containing alphanumeric characters and punctuation.\n\n**Output:**\n- A list of strings, where each string is a valid US phone number extracted from the input.\n\n**Sample Input:**\n```\n\"Contact us at 555-1234 or (555) 567-8901. Our toll-free number is 1-800-555-0199.\"\n```\n\n**Sample Output:**\n```\n['555-1234', '(555) 567-8901', '1-800-555-0199']\n```", "response": "```python\nimport re\n\ndef extract_phone_numbers(text):\n    \"\"\"\n    Extracts all valid US phone numbers from the given text.\n\n    :param text: A string containing potential phone numbers.\n    :return: A list of strings, each representing a valid US phone number.\n    \"\"\"\n    pattern = r'\\b(?:\\+1[-.\\s]?)?(?:\\(?\\d{3}\\)?[-.\\s]?)?\\d{3}[-.\\s]?\\d{4}\\b'\n    phone_numbers = re.findall(pattern, text)\n    return phone_numbers\n```"}
{"text": "You are tasked with implementing a function `extract_keywords(text)` that identifies the top 5 most frequent words in a given text, excluding common stop words such as \"the\", \"and\", \"is\", etc. The function should return a list of tuples, each containing a word and its frequency count. If there are fewer than 5 unique words after filtering out stop words, return all unique words with their frequency counts.\n\n**Input:**\n- A string `text` (1 ≤ len(text) ≤ 10,000) containing English text.\n\n**Output:**\n- A list of tuples, where each tuple contains a word and its frequency count. The list should be sorted by frequency in descending order. If frequencies are the same, the words should be sorted lexicographically.\n\n**Sample Input:**\n```\n\"Python is a high-level, interpreted, general-purpose programming language. Its design philosophy emphasizes code readability with the use of significant indentation. Python is dynamically typed and garbage-collected. It supports multiple programming paradigms, including structured (particularly procedural), object-oriented, and functional programming.\"\n```\n\n**Sample Output:**\n```\n[('python', 2), ('programming', 2), ('language', 1), ('highlevel', 1), ('interpreted', 1)]\n```", "response": "```python\nfrom collections import Counter\nimport re\nfrom nltk.corpus import stopwords\nimport nltk\n\nnltk.download('stopwords')  # Download stopwords if not already downloaded\n\ndef extract_keywords(text):\n    \"\"\"\n    Extracts the top 5 most common words from a given text, excluding common stop words.\n    \n    Parameters:\n    text (str): The input text from which to extract keywords.\n    \n    Returns:\n    list of tuples: A list of tuples, each containing a word and its frequency count.\n    \"\"\"\n    # List of common stop words\n    stop_words = set(stopwords.words(\"english\"))\n    \n    # Clean text: remove punctuation and make lowercase\n    words = re.findall(r'\\b\\w+\\b', text.lower())\n    \n    # Filter out stop words\n    filtered_words = [word for word in words if word not in stop_words]\n    \n    # Count the frequency of each word\n    word_counts = Counter(filtered_words)\n    \n    # Get the top 5 most common words\n    top_keywords = word_counts.most_common(5)\n    \n    return top_keywords\n\n# Example usage\ntext = \"Python is a high-level, interpreted, general-purpose programming language. Its design philosophy emphasizes code readability with the use of significant indentation. Python is dynamically typed and garbage-collected. It supports multiple programming paradigms, including structured (particularly procedural), object-oriented, and functional programming.\"\nprint(extract_keywords(text))\n```"}
{"text": "You are given a JSON string representing a nested dictionary. Your task is to write a function `flatten_json(json_str)` that transforms this nested dictionary into a flat dictionary. In the resulting flat dictionary, each key should be a string representing the path to the corresponding value in the original dictionary, with path components separated by dots. For example, given the JSON string `{\"a\": {\"b\": 1, \"c\": {\"d\": 2}}}`, your function should return the dictionary `{\"a.b\": 1, \"a.c.d\": 2}`.\n\n**Sample Input:**\n```json\n{\"a\": {\"b\": 1, \"c\": {\"d\": 2}}}\n```\n\n**Sample Output:**\n```python\n{'a.b': 1, 'a.c.d': 2}\n```", "response": "```python\nimport json\n\ndef flatten_json(json_str):\n    \"\"\"\n    Flattens a nested dictionary represented as a JSON string into a flat dictionary.\n    \n    Parameters:\n    json_str (str): A JSON string representing a nested dictionary.\n    \n    Returns:\n    dict: A flat dictionary with concatenated keys representing the path to each value.\n    \"\"\"\n    def _flatten(d, parent_key='', sep='.'):\n        items = {}\n        for k, v in d.items():\n            new_key = f\"{parent_key}{sep}{k}\" if parent_key else k\n            if isinstance(v, dict):\n                items.update(_flatten(v, new_key, sep=sep))\n            else:\n                items[new_key] = v\n        return items\n\n    data = json.loads(json_str)\n    return _flatten(data)\n\n# Example usage:\njson_str = '{\"a\": {\"b\": 1, \"c\": {\"d\": 2}}}'\nflattened_dict = flatten_json(json_str)\nprint(flattened_dict)  # Output: {'a.b': 1, 'a.c.d': 2}\n```"}
{"text": "You are tasked with implementing a function named `extract_phone_numbers` that processes a given string to identify and extract all phone numbers formatted as `(XXX) XXX-XXXX`. Your function should return a list of these phone numbers. The input string may contain multiple phone numbers, and your function should capture all of them.\n\n**Input:**\n- A single string `text` containing alphanumeric characters and possibly phone numbers in the specified format.\n\n**Output:**\n- A list of strings, where each string is a phone number found in the input text, formatted as `(XXX) XXX-XXXX`.\n\n**Sample Input:**\n```\n\"Please contact us at (123) 456-7890 or (987) 654-3210 for further assistance.\"\n```\n\n**Sample Output:**\n```\n['(123) 456-7890', '(987) 654-3210']\n```", "response": "```python\nimport re\n\ndef extract_phone_numbers(text):\n    \"\"\"\n    Extracts all phone numbers in the format (XXX) XXX-XXXX from the given text.\n\n    Parameters:\n    text (str): The input string containing potential phone numbers.\n\n    Returns:\n    list: A list of phone numbers found in the text, formatted as (XXX) XXX-XXXX.\n    \"\"\"\n    pattern = r'\\(\\d{3}\\) \\d{3}-\\d{4}'\n    phone_numbers = re.findall(pattern, text)\n    return phone_numbers\n\n# Example usage\ntext = \"Please contact us at (123) 456-7890 or (987) 654-3210 for further assistance.\"\nprint(extract_phone_numbers(text))\n```"}
{"text": "You are tasked with implementing a `BankAccount` class in Python to simulate basic banking operations. The class should support the following functionalities:\n\n- **Initialization**: Create a bank account with a specified account number and an optional initial balance. If no initial balance is provided, it should default to 0.0.\n- **Deposit**: Add a specified amount to the account balance. The amount must be positive.\n- **Withdraw**: Subtract a specified amount from the account balance, provided there are sufficient funds. The amount must be positive and less than or equal to the current balance.\n- **Get Balance**: Return the current balance of the account.\n\n**Sample Input/Output**:\n- Initialize a bank account with account number \"123456\" and initial balance 100.0.\n- Deposit 50.0, new balance should be 150.0.\n- Withdraw 30.0, new balance should be 120.0.\n- Attempt to withdraw 150.0, balance should remain 120.0.\n- Get balance, should return 120.0.", "response": "```python\nclass BankAccount:\n    def __init__(self, account_number, initial_balance=0.0):\n        \"\"\"\n        Initialize a bank account with an account number and an optional initial balance.\n        \n        :param account_number: A string representing the account number.\n        :param initial_balance: A float representing the initial balance of the account (default is 0.0).\n        \"\"\"\n        self.account_number = account_number\n        self.balance = initial_balance\n\n    def deposit(self, amount):\n        \"\"\"\n        Add a specified amount to the account balance.\n        \n        :param amount: A float representing the amount to deposit. Must be positive.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n\n    def withdraw(self, amount):\n        \"\"\"\n        Subtract a specified amount from the account balance if sufficient funds are available.\n        \n        :param amount: A float representing the amount to withdraw. Must be positive and less than or equal to the current balance.\n        \"\"\"\n        if 0 < amount <= self.balance:\n            self.balance -= amount\n\n    def get_balance(self):\n        \"\"\"\n        Return the current balance of the account.\n        \n        :return: A float representing the current balance.\n        \"\"\"\n        return self.balance\n```"}
{"text": "Implement a Python generator function named `fibonacci` that yields an infinite sequence of Fibonacci numbers. The Fibonacci sequence starts with 0 and 1, and each subsequent number is the sum of the two preceding ones. Your function should yield the numbers in the order they appear in the sequence.\n\n**Sample Input/Output:**\n- The first five numbers yielded by the generator should be: 0, 1, 1, 2, 3.", "response": "```python\ndef fibonacci():\n    \"\"\"\n    A generator function that yields Fibonacci numbers indefinitely.\n    Yields:\n        int: The next Fibonacci number in the sequence.\n    \"\"\"\n    a, b = 0, 1\n    while True:\n        yield a\n        a, b = b, a + b\n```"}
{"text": "You are given a list of integers. Your task is to implement the merge sort algorithm to sort the list in ascending order. Write a function `merge_sort` that takes a list of integers as input and returns a new list that is sorted.\n\n**Input:**\n- A list of integers `arr` (1 ≤ len(arr) ≤ 10^4), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A new list containing the integers from the input list, sorted in ascending order.\n\n**Sample Input:**\n```\n[38, 27, 43, 3, 9, 82, 10]\n```\n\n**Sample Output:**\n```\n[3, 9, 10, 27, 38, 43, 82]\n```", "response": "```python\ndef merge_sort(arr):\n    \"\"\"\n    Sorts a list of integers using the merge sort algorithm.\n\n    Parameters:\n    arr (list): A list of integers to be sorted.\n\n    Returns:\n    list: A new list containing the integers from the input list, sorted in ascending order.\n    \"\"\"\n    if len(arr) <= 1:\n        return arr\n\n    mid = len(arr) // 2\n    left_half = merge_sort(arr[:mid])\n    right_half = merge_sort(arr[mid:])\n\n    return merge(left_half, right_half)\n\ndef merge(left, right):\n    \"\"\"\n    Merges two sorted lists into a single sorted list.\n\n    Parameters:\n    left (list): The first sorted list.\n    right (list): The second sorted list.\n\n    Returns:\n    list: A new list containing all elements from both input lists, sorted in ascending order.\n    \"\"\"\n    sorted_list = []\n    left_index, right_index = 0, 0\n\n    while left_index < len(left) and right_index < len(right):\n        if left[left_index] < right[right_index]:\n            sorted_list.append(left[left_index])\n            left_index += 1\n        else:\n            sorted_list.append(right[right_index])\n            right_index += 1\n\n    sorted_list.extend(left[left_index:])\n    sorted_list.extend(right[right_index:])\n\n    return sorted_list\n\n# Example usage:\n# input_list = [38, 27, 43, 3, 9, 82, 10]\n# print(merge_sort(input_list))  # Output: [3, 9, 10, 27, 38, 43, 82]\n```"}
{"text": "You are given a list of integers. Your task is to write a function that processes this list and returns a new list where all negative integers are replaced with zero. If the input list is empty, the function should return an empty list.\n\n**Sample Input:**\n```\n[-10, 0, 5, -2, 3]\n```\n\n**Sample Output:**\n```\n[0, 0, 5, 0, 3]\n```", "response": "```python\ndef replace_negatives_with_zero(numbers):\n    \"\"\"\n    Replaces all negative numbers in the input list with zero.\n\n    Parameters:\n    numbers (list of int): The list of integers to process.\n\n    Returns:\n    list of int: A new list with negative numbers replaced by zero.\n    \"\"\"\n    return [0 if number < 0 else number for number in numbers]\n```"}
{"text": "You are given a list of integers. Your task is to write a function that returns a new list with all consecutive duplicate elements removed. The order of the remaining elements should be the same as in the original list.\n\n**Input:**\n- A list of integers `nums` (0 ≤ len(nums) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers with consecutive duplicates removed.\n\n**Sample Input:**\n```\n[1, 2, 2, 3, 3, 3, 4]\n```\n\n**Sample Output:**\n```\n[1, 2, 3, 4]\n```", "response": "```python\ndef remove_consecutive_duplicates(nums):\n    \"\"\"\n    Removes consecutive duplicate elements from the input list.\n\n    :param nums: List of integers\n    :return: List of integers with consecutive duplicates removed\n    \"\"\"\n    if not nums:\n        return []\n    \n    result = [nums[0]]\n    \n    for num in nums[1:]:\n        if num != result[-1]:\n            result.append(num)\n    \n    return result\n\n# Example usage\ninput_list = [1, 2, 2, 3, 3, 3, 4]\nprint(remove_consecutive_duplicates(input_list))  # Output: [1, 2, 3, 4]\n```"}
{"text": "You are given a list of tuples, where each tuple consists of a product name (a string) and its price (a float). Your task is to implement a function `sort_products_by_price` that sorts the list of tuples in ascending order based on the price. If two products have the same price, their relative order should remain unchanged.\n\n**Input:**\n- A list of tuples, where each tuple contains a product name and its price.\n\n**Output:**\n- A list of tuples sorted by price in ascending order.\n\n**Sample Input:**\n```python\n[(\"Apple\", 1.20), (\"Banana\", 0.99), (\"Cherry\", 1.20), (\"Date\", 2.50)]\n```\n\n**Sample Output:**\n```python\n[(\"Banana\", 0.99), (\"Apple\", 1.20), (\"Cherry\", 1.20), (\"Date\", 2.50)]\n```", "response": "```python\ndef sort_products_by_price(products):\n    \"\"\"\n    Sorts a list of product tuples by price in ascending order.\n    If two products have the same price, their order remains unchanged.\n\n    :param products: List of tuples, where each tuple contains a product name and its price.\n    :return: List of tuples sorted by price in ascending order.\n    \"\"\"\n    return sorted(products, key=lambda product: product[1])\n\n# Example usage:\nproducts = [(\"Apple\", 1.20), (\"Banana\", 0.99), (\"Cherry\", 1.20), (\"Date\", 2.50)]\nsorted_products = sort_products_by_price(products)\nprint(sorted_products)\n```"}
{"text": "You are given two strings `s1` and `s2`. Your task is to find the longest common subsequence (LCS) between these two strings. The LCS is the longest sequence that appears in both strings in the same order, but not necessarily consecutively. Print the LCS.\n\n**Input:**\n- The first line contains the string `s1`.\n- The second line contains the string `s2`.\n\n**Output:**\n- Print the longest common subsequence of `s1` and `s2`.\n\n**Sample Input:**\n```\nabcde\nace\n```\n\n**Sample Output:**\n```\nace\n```", "response": "```python\ndef longest_common_subsequence(s1, s2):\n    \"\"\"\n    Finds the longest common subsequence between two strings s1 and s2.\n\n    :param s1: First input string\n    :param s2: Second input string\n    :return: Longest common subsequence as a string\n    \"\"\"\n    m, n = len(s1), len(s2)\n    dp = [[0] * (n + 1) for _ in range(m + 1)]\n\n    for i in range(1, m + 1):\n        for j in range(1, n + 1):\n            if s1[i - 1] == s2[j - 1]:\n                dp[i][j] = dp[i - 1][j - 1] + 1\n            else:\n                dp[i][j] = max(dp[i - 1][j], dp[i][j - 1])\n\n    lcs = []\n    i, j = m, n\n    while i > 0 and j > 0:\n        if s1[i - 1] == s2[j - 1]:\n            lcs.append(s1[i - 1])\n            i -= 1\n            j -= 1\n        elif dp[i - 1][j] > dp[i][j - 1]:\n            i -= 1\n        else:\n            j -= 1\n\n    lcs.reverse()\n    return ''.join(lcs)\n\n# Given strings\ns1 = \"abcde\"\ns2 = \"ace\"\n\n# Find and print the longest common subsequence\nlcs = longest_common_subsequence(s1, s2)\nprint(\"The longest common subsequence is:\", lcs)\n```"}
{"text": "You are given a string `s`. Your task is to generate all possible permutations of the string and return them as a list. You are not allowed to use any built-in functions such as `itertools.permutations`.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 6), where |s| denotes the length of the string.\n\n**Output:**\n- A list of strings, each representing a unique permutation of the input string `s`.\n\n**Sample Input:**\n```\nabc\n```\n\n**Sample Output:**\n```\n['abc', 'acb', 'bac', 'bca', 'cab', 'cba']\n```", "response": "```python\ndef permute(s):\n    \"\"\"\n    Generate all possible permutations of a given string.\n\n    :param s: Input string for which permutations are to be generated.\n    :return: A list of strings, each representing a unique permutation of the input string.\n    \"\"\"\n    # Base case: if the string is empty, return a list with an empty string\n    if len(s) == 0:\n        return ['']\n    \n    # Recursive case\n    permutations = []\n    for i, char in enumerate(s):\n        # Form a substring excluding the current character\n        substring = s[:i] + s[i+1:]\n        # Generate all permutations of the substring\n        for perm in permute(substring):\n            # Append the current character to the front of each permutation of the substring\n            permutations.append(char + perm)\n    \n    return permutations\n\n# Test the function with the input \"abc\"\nresult = permute(\"abc\")\nprint(result)\n```"}
{"text": "In a 2D plane, you are given two points, `P1(x1, y1)` and `P2(x2, y2)`. Your task is to compute the Euclidean distance between these two points. Implement the function `calculate_distance(x1, y1, x2, y2)` to perform this calculation. Instead of using the `math.sqrt` function, use the exponentiation operator `**` to compute the square root.\n\n**Input:**\n- Four integers `x1`, `y1`, `x2`, `y2` representing the coordinates of the two points.\n\n**Output:**\n- A floating-point number representing the Euclidean distance between the points.\n\n**Sample Input:**\n```\n1 2 4 6\n```\n\n**Sample Output:**\n```\n5.0\n```", "response": "```python\ndef calculate_distance(x1, y1, x2, y2):\n    \"\"\"\n    Calculate the Euclidean distance between two points (x1, y1) and (x2, y2) in a 2D plane.\n    \n    Parameters:\n    x1 (int): The x-coordinate of the first point.\n    y1 (int): The y-coordinate of the first point.\n    x2 (int): The x-coordinate of the second point.\n    y2 (int): The y-coordinate of the second point.\n    \n    Returns:\n    float: The Euclidean distance between the two points.\n    \"\"\"\n    return ((x2 - x1) ** 2 + (y2 - y1) ** 2) ** 0.5\n```"}
{"text": "You are tasked with implementing a `Book` class to manage a library's inventory. The class should store the following attributes for each book: `title`, `author`, `isbn`, and `available_copies`. Implement the following methods:\n\n- `__init__(self, title, author, isbn, copies)`: Initializes a new book with the given title, author, ISBN, and number of available copies.\n- `get_info(self)`: Returns a string containing the book's title, author, and ISBN in the format: \"Title: {title}, Author: {author}, ISBN: {isbn}\".\n- `borrow_book(self)`: Decreases the number of available copies by one if there are any available copies and returns `True`. Otherwise, returns `False`.\n- `return_book(self)`: Increases the number of available copies by one.\n\n**Sample Input/Output:**\n```python\nbook = Book(\"1984\", \"George Orwell\", \"9780451524935\", 3)\nprint(book.get_info())  # Output: Title: 1984, Author: George Orwell, ISBN: 9780451524935\nprint(book.borrow_book())  # Output: True\nprint(book.borrow_book())  # Output: True\nprint(book.borrow_book())  # Output: True\nprint(book.borrow_book())  # Output: False\nbook.return_book()\nprint(book.borrow_book())  # Output: True\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, isbn, copies):\n        \"\"\"\n        Initializes a new book with the given title, author, ISBN, and number of available copies.\n        \n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param isbn: The ISBN of the book.\n        :param copies: The number of available copies of the book.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.isbn = isbn\n        self.available_copies = copies\n\n    def get_info(self):\n        \"\"\"\n        Returns a string containing the book's title, author, and ISBN.\n        \n        :return: A string in the format \"Title: {title}, Author: {author}, ISBN: {isbn}\".\n        \"\"\"\n        return f\"Title: {self.title}, Author: {self.author}, ISBN: {self.isbn}\"\n\n    def borrow_book(self):\n        \"\"\"\n        Decreases the number of available copies by one if there are any available copies.\n        \n        :return: True if a copy was successfully borrowed, False otherwise.\n        \"\"\"\n        if self.available_copies > 0:\n            self.available_copies -= 1\n            return True\n        else:\n            return False\n\n    def return_book(self):\n        \"\"\"\n        Increases the number of available copies by one.\n        \"\"\"\n        self.available_copies += 1\n```"}
{"text": "You are tasked with implementing a function `to_roman(num)` that converts a given integer `num` into its corresponding Roman numeral representation. The function should handle integers in the range from 1 to 3999, inclusive. Your solution should return the Roman numeral as a string.\n\n**Sample Input and Output:**\n- Input: `num = 1994`\n- Output: `\"MCMXCIV\"`", "response": "```python\ndef to_roman(num):\n    \"\"\"\n    Convert an integer to a Roman numeral.\n\n    Parameters:\n    num (int): An integer between 1 and 3999, inclusive.\n\n    Returns:\n    str: The Roman numeral representation of the integer.\n    \"\"\"\n    val = [\n        1000, 900, 500, 400,\n        100, 90, 50, 40,\n        10, 9, 5, 4,\n        1\n    ]\n    syms = [\n        \"M\", \"CM\", \"D\", \"CD\",\n        \"C\", \"XC\", \"L\", \"XL\",\n        \"X\", \"IX\", \"V\", \"IV\",\n        \"I\"\n    ]\n    roman_numeral = ''\n    i = 0\n    while num > 0:\n        for _ in range(num // val[i]):\n            roman_numeral += syms[i]\n            num -= val[i]\n        i += 1\n    return roman_numeral\n\n# Example usage:\nprint(to_roman(1994))  # Output: MCMXCIV\n```"}
{"text": "You are given a dataset of car sales represented as a list of dictionaries. Each dictionary contains details about a single car sale with the following keys: `make`, `model`, `year`, `price`, `seller`, and `location`. Your task is to implement a function `find_cheapest_cars(data, location)` that processes this dataset and returns a list of dictionaries. Each dictionary in the output list should represent the cheapest car sold by a unique seller in the specified `location`.\n\n**Input:**\n- `data`: A list of dictionaries, where each dictionary contains the keys `make`, `model`, `year`, `price`, `seller`, and `location`.\n- `location`: A string representing the location to filter the car sales.\n\n**Output:**\n- A list of dictionaries, each representing the cheapest car sold by a unique seller in the specified location.\n\n**Sample Input:**\n```python\ndata = [\n    {'make': 'Toyota', 'model': 'Corolla', 'year': 2020, 'price': 18000, 'seller': 'John', 'location': 'New York'},\n    {'make': 'Honda', 'model': 'Civic', 'year': 2019, 'price': 17000, 'seller': 'John', 'location': 'New York'},\n    {'make': 'Ford', 'model': 'Mustang', 'year': 2021, 'price': 25000, 'seller': 'Jane', 'location': 'Los Angeles'},\n    {'make': 'Chevrolet', 'model': 'Camaro', 'year': 2020, 'price': 24000, 'seller': 'Jane', 'location': 'Los Angeles'},\n    {'make': 'Honda', 'model': 'Civic', 'year': 2020, 'price': 16000, 'seller': 'John', 'location': 'New York'},\n    {'make': 'Toyota', 'model': 'Corolla', 'year': 2018, 'price': 15000, 'seller': 'Alice', 'location': 'New York'}\n]\nlocation = 'New York'\n```\n\n**Sample Output:**\n```python\n[\n    {'make': 'Honda', 'model': 'Civic', 'year': 2020, 'price': 16000, 'seller': 'John', 'location': 'New York'},\n    {'make': 'Toyota', 'model': 'Corolla', 'year': 2018, 'price': 15000, 'seller': 'Alice', 'location': 'New York'}\n]\n```", "response": "```python\ndef find_cheapest_cars(data, location):\n    \"\"\"\n    Returns a list of dictionaries representing the cheapest cars sold by unique sellers in the specified location.\n\n    :param data: List of dictionaries, each containing car sale information.\n    :param location: String representing the location to filter car sales.\n    :return: List of dictionaries, each representing the cheapest car sold by a unique seller in the specified location.\n    \"\"\"\n    cheapest_cars = {}\n\n    for car in data:\n        if car['location'] == location:\n            if car['seller'] in cheapest_cars:\n                if car['price'] < cheapest_cars[car['seller']]['price']:\n                    cheapest_cars[car['seller']] = car\n            else:\n                cheapest_cars[car['seller']] = car\n\n    return list(cheapest_cars.values())\n```"}
{"text": "You are given a function `f` and an integer `n`. Implement a generator function `generate_multiples(f, n)` that yields an infinite sequence of numbers. The sequence starts with `f(n)` and each subsequent number is obtained by applying `f` to the previous number in the sequence. For example, if `f(x) = x + 1` and `n = 2`, the sequence should be `3, 4, 5, 6, ...`.\n\n**Sample Input:**\n```python\ndef increment(x):\n    return x + 1\n\nn = 2\n```\n\n**Sample Output:**\n```\n3, 4, 5, 6, ... (infinite sequence)\n```", "response": "```python\ndef generate_multiples(f, n):\n    \"\"\"\n    Generator function that yields an infinite sequence of numbers.\n    The sequence starts with f(n) and each subsequent number is obtained\n    by applying f to the previous number in the sequence.\n    \n    :param f: A function that takes an integer and returns an integer.\n    :param n: An integer to start the sequence.\n    \"\"\"\n    value = f(n)\n    while True:\n        yield value\n        value = f(value)\n```"}
{"text": "You are tasked with preprocessing a dataset for a data science competition. Your goal is to write a Python script that reads a CSV file, removes any rows containing missing values, and writes the cleaned dataset to a new CSV file. The CSV file includes a header row. The file paths for both the input and output CSV files will be provided as command-line arguments.\n\n**Input:**\n- The first command-line argument is the path to the input CSV file.\n- The second command-line argument is the path to the output CSV file.\n\n**Output:**\n- A new CSV file at the specified output path, containing only the rows from the input file that do not have any missing values.\n\n**Sample Input:**\n- Assume the input CSV file `data.csv` contains the following data:\n```\nName,Age,Score\nAlice,24,88\nBob,,92\nCharlie,22,\nDavid,23,85\n```\n\n**Sample Output:**\n- The output CSV file `cleaned_data.csv` should contain:\n```\nName,Age,Score\nAlice,24,88\nDavid,23,85\n```", "response": "```python\nimport sys\nimport pandas as pd\n\ndef main(input_csv, output_csv):\n    \"\"\"\n    Reads a CSV file, removes rows with missing values, and writes the cleaned data to a new CSV file.\n\n    Parameters:\n    input_csv (str): The file path to the input CSV file.\n    output_csv (str): The file path to the output CSV file.\n    \"\"\"\n    # Read the input CSV file\n    df = pd.read_csv(input_csv)\n    \n    # Remove rows with missing values\n    df_cleaned = df.dropna()\n    \n    # Write the cleaned data to a new CSV file\n    df_cleaned.to_csv(output_csv, index=False)\n\nif __name__ == \"__main__\":\n    if len(sys.argv) != 3:\n        print(\"Usage: python script.py <input_csv_path> <output_csv_path>\")\n    else:\n        input_csv_path = sys.argv[1]\n        output_csv_path = sys.argv[2]\n        main(input_csv_path, output_csv_path)\n```"}
{"text": "Implement a Binary Search Tree (BST) in Python. Your BST should support the following operations:\n- Insert a new key.\n- Search for a key.\n- Delete a key.\n\nThe input will be a series of operations, each on a new line. The first character of each line will be 'I' for insert, 'S' for search, and 'D' for delete, followed by a space and an integer key. For each search operation, output \"Found\" if the key is present in the BST, otherwise output \"Not found\".\n\n**Sample Input:**\n```\nI 50\nI 30\nI 20\nI 40\nI 70\nI 60\nI 80\nS 60\nS 100\nD 20\nD 30\nD 50\nS 20\nS 30\nS 50\n```\n\n**Sample Output:**\n```\nFound\nNot found\nNot found\nNot found\nNot found\n```", "response": "```python\nclass TreeNode:\n    def __init__(self, key):\n        self.left = None\n        self.right = None\n        self.val = key\n\nclass BinarySearchTree:\n    def __init__(self):\n        self.root = None\n\n    def insert(self, key):\n        \"\"\"Insert a new key into the BST.\"\"\"\n        if self.root is None:\n            self.root = TreeNode(key)\n        else:\n            self._insert(self.root, key)\n\n    def _insert(self, node, key):\n        if key < node.val:\n            if node.left is None:\n                node.left = TreeNode(key)\n            else:\n                self._insert(node.left, key)\n        else:\n            if node.right is None:\n                node.right = TreeNode(key)\n            else:\n                self._insert(node.right, key)\n\n    def search(self, key):\n        \"\"\"Search for a key in the BST. Return the node if found, otherwise None.\"\"\"\n        return self._search(self.root, key)\n\n    def _search(self, node, key):\n        if node is None or node.val == key:\n            return node\n        if key < node.val:\n            return self._search(node.left, key)\n        return self._search(node.right, key)\n\n    def delete(self, key):\n        \"\"\"Delete a key from the BST.\"\"\"\n        self.root = self._delete(self.root, key)\n\n    def _delete(self, node, key):\n        if node is None:\n            return node\n\n        if key < node.val:\n            node.left = self._delete(node.left, key)\n        elif key > node.val:\n            node.right = self._delete(node.right, key)\n        else:\n            if node.left is None:\n                return node.right\n            elif node.right is None:\n                return node.left\n\n            node.val = self._min_value_node(node.right).val\n            node.right = self._delete(node.right, node.val)\n        \n        return node\n\n    def _min_value_node(self, node):\n        current = node\n        while current.left is not None:\n            current = current.left\n        return current\n\n# Example usage:\nbst = BinarySearchTree()\noperations = [\n    \"I 50\", \"I 30\", \"I 20\", \"I 40\", \"I 70\", \"I 60\", \"I 80\",\n    \"S 60\", \"S 100\", \"D 20\", \"D 30\", \"D 50\", \"S 20\", \"S 30\", \"S 50\"\n]\n\nfor operation in operations:\n    op, key = operation.split()\n    key = int(key)\n    if op == 'I':\n        bst.insert(key)\n    elif op == 'S':\n        print(\"Found\" if bst.search(key) else \"Not found\")\n    elif op == 'D':\n        bst.delete(key)\n```"}
{"text": "You are tasked with implementing a Python class `FileAnalyzer` that processes a text file to perform several analyses. Your class should be able to handle the following tasks:\n\n1. Count the total number of lines in the file.\n2. Count the total number of words in the file.\n3. Count the total number of characters in the file.\n4. Identify and return the most frequently occurring word in the file.\n5. Identify and return the least frequently occurring word in the file.\n\nThe class should have the following methods:\n\n- `__init__(self, filename)`: Initializes the class with the filename of the text file to be analyzed.\n- `count_lines(self)`: Returns the total number of lines in the file.\n- `count_words(self)`: Returns the total number of words in the file.\n- `count_characters(self)`: Returns the total number of characters in the file.\n- `most_frequent_word(self)`: Returns the most frequently occurring word in the file.\n- `least_frequent_word(self)`: Returns the least frequently occurring word in the file.\n\n**Sample Input File (sample.txt):**\n```\nHello world\nHello everyone\nThis is a test\n```\n\n**Sample Output:**\n- `count_lines()`: 3\n- `count_words()`: 8\n- `count_characters()`: 44\n- `most_frequent_word()`: \"hello\"\n- `least_frequent_word()`: \"everyone\", \"is\", \"a\", \"test\" (any one of these)", "response": "```python\nimport re\nfrom collections import Counter\n\nclass FileAnalyzer:\n    def __init__(self, filename):\n        \"\"\"\n        Initializes the FileAnalyzer with the given filename.\n        \n        :param filename: str, the path to the text file to be analyzed.\n        \"\"\"\n        self.filename = filename\n        self.content = None\n        self.words = None\n        self.read_file()\n\n    def read_file(self):\n        \"\"\"\n        Reads the content of the file and extracts words.\n        \"\"\"\n        with open(self.filename, 'r', encoding='utf-8') as file:\n            self.content = file.read()\n            self.words = re.findall(r'\\b\\w+\\b', self.content.lower())\n\n    def count_lines(self):\n        \"\"\"\n        Counts the total number of lines in the file.\n        \n        :return: int, the number of lines.\n        \"\"\"\n        return len(self.content.splitlines())\n\n    def count_words(self):\n        \"\"\"\n        Counts the total number of words in the file.\n        \n        :return: int, the number of words.\n        \"\"\"\n        return len(self.words)\n\n    def count_characters(self):\n        \"\"\"\n        Counts the total number of characters in the file.\n        \n        :return: int, the number of characters.\n        \"\"\"\n        return len(self.content)\n\n    def most_frequent_word(self):\n        \"\"\"\n        Identifies and returns the most frequently occurring word in the file.\n        \n        :return: str, the most frequent word.\n        \"\"\"\n        if not self.words:\n            return None\n        word_counts = Counter(self.words)\n        most_common_word, _ = word_counts.most_common(1)[0]\n        return most_common_word\n\n    def least_frequent_word(self):\n        \"\"\"\n        Identifies and returns the least frequently occurring word in the file.\n        \n        :return: str, the least frequent word.\n        \"\"\"\n        if not self.words:\n            return None\n        word_counts = Counter(self.words)\n        least_common_word, _ = word_counts.most_common()[-1]\n        return least_common_word\n```"}
{"text": "You are given a list of elements `arr` and a custom key function `key_func`. Your task is to implement a function `custom_sort(arr, key_func)` that returns a new list sorted according to the criteria defined by `key_func`. The original list should remain unchanged. Use Python's built-in `sorted()` function with the `key` parameter to achieve this.\n\n**Sample Input:**\n```python\narr = [\"apple\", \"banana\", \"cherry\"]\nkey_func = len\n```\n\n**Sample Output:**\n```python\n['apple', 'banana', 'cherry']\n```\n\n**Sample Input:**\n```python\narr = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]\nkey_func = lambda x: -x\n```\n\n**Sample Output:**\n```python\n[9, 6, 5, 5, 5, 4, 3, 3, 2, 1, 1]\n```", "response": "```python\ndef custom_sort(arr, key_func):\n    \"\"\"\n    Sorts a list of elements based on a custom key function.\n\n    Parameters:\n    arr (list): The list of elements to be sorted.\n    key_func (function): The custom key function to determine the sort order.\n\n    Returns:\n    list: A new list sorted according to the key function.\n    \"\"\"\n    return sorted(arr, key=key_func)\n```"}
{"text": "You are given a directory path as input. Your task is to write a Python script that lists all files and subdirectories within the specified directory using the `os` module. If the directory does not exist, your program should output an error message. \n\n**Input:**\n- A single line containing the directory path as a string.\n\n**Output:**\n- If the directory exists, print each file and subdirectory name on a new line, prefixed with \"Contents of '<directory_path>':\".\n- If the directory does not exist, print \"Error: The directory '<directory_path>' does not exist.\".\n\n**Sample Input 1:**\n```\n/path/to/existing/directory\n```\n\n**Sample Output 1:**\n```\nContents of '/path/to/existing/directory':\nfile1.txt\nsubdir1\nfile2.txt\n```\n\n**Sample Input 2:**\n```\n/nonexistent/directory\n```\n\n**Sample Output 2:**\n```\nError: The directory '/nonexistent/directory' does not exist.\n```", "response": "```python\nimport os\n\ndef list_directory_contents(path):\n    \"\"\"\n    Lists all files and subdirectories within the specified directory.\n    \n    Parameters:\n    path (str): The path to the directory to be listed.\n    \n    Returns:\n    None\n    \"\"\"\n    if not os.path.exists(path):\n        print(f\"Error: The directory '{path}' does not exist.\")\n        return\n    \n    try:\n        contents = os.listdir(path)\n        print(f\"Contents of '{path}':\")\n        for item in contents:\n            print(item)\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n\n# Replace 'your_directory_path' with the path you want to check\nlist_directory_contents('your_directory_path')\n```"}
{"text": "You are tasked with implementing a `Calculator` class that supports basic arithmetic operations: addition, subtraction, multiplication, and division. The class should include the following methods:\n\n- `add(self, a, b)`: Computes and returns the sum of `a` and `b`.\n- `subtract(self, a, b)`: Computes and returns the difference between `a` and `b`.\n- `multiply(self, a, b)`: Computes and returns the product of `a` and `b`.\n- `divide(self, a, b)`: Computes and returns the quotient of `a` and `b`. If `b` is zero, the method should return the string \"Error: Division by zero\" instead of raising an exception.\n\nThe `Calculator` class should also have an `__init__` method that initializes the calculator with an initial value of 0. Each method should be well-documented with docstrings.\n\n**Sample Input/Output:**\n\nFor the following sequence of operations:\n```python\ncalc = Calculator()\nprint(calc.add(5, 3))        # Output: 8\nprint(calc.subtract(5, 3))   # Output: 2\nprint(calc.multiply(5, 3))   # Output: 15\nprint(calc.divide(5, 3))     # Output: 1.6666666666666667\nprint(calc.divide(5, 0))     # Output: Error: Division by zero\n```", "response": "```python\nclass Calculator:\n    \"\"\"\n    A class to perform basic arithmetic operations.\n    \"\"\"\n\n    def __init__(self):\n        \"\"\"\n        Initializes the calculator with an initial value of 0.\n        \"\"\"\n        self.result = 0\n\n    def add(self, a, b):\n        \"\"\"\n        Returns the sum of a and b.\n\n        Parameters:\n        a (int, float): The first number.\n        b (int, float): The second number.\n\n        Returns:\n        int, float: The sum of a and b.\n        \"\"\"\n        return a + b\n\n    def subtract(self, a, b):\n        \"\"\"\n        Returns the difference between a and b.\n\n        Parameters:\n        a (int, float): The first number.\n        b (int, float): The second number.\n\n        Returns:\n        int, float: The difference between a and b.\n        \"\"\"\n        return a - b\n\n    def multiply(self, a, b):\n        \"\"\"\n        Returns the product of a and b.\n\n        Parameters:\n        a (int, float): The first number.\n        b (int, float): The second number.\n\n        Returns:\n        int, float: The product of a and b.\n        \"\"\"\n        return a * b\n\n    def divide(self, a, b):\n        \"\"\"\n        Returns the quotient of a and b. If b is zero, returns an error message.\n\n        Parameters:\n        a (int, float): The dividend.\n        b (int, float): The divisor.\n\n        Returns:\n        int, float, str: The quotient of a and b, or an error message if b is zero.\n        \"\"\"\n        if b == 0:\n            return \"Error: Division by zero\"\n        return a / b\n```"}
{"text": "You are given a list of strings, where each string represents a sentence. Your task is to implement a function that sorts these sentences based on the number of words they contain, in ascending order. If two sentences have the same number of words, they should be sorted lexicographically (alphabetically).\n\n**Input:**\n- A list of strings `sentences` (1 ≤ len(sentences) ≤ 100), where each string is a sentence consisting of words separated by spaces. Each sentence contains only letters, spaces, and punctuation marks.\n\n**Output:**\n- A list of strings, sorted as described above.\n\n**Sample Input:**\n```python\n[\"This is a test.\", \"Hello, world!\", \"Python is great.\", \"I love coding.\", \"Let's write some code.\"]\n```\n\n**Sample Output:**\n```python\n[\"I love coding.\", \"Hello, world!\", \"This is a test.\", \"Python is great.\", \"Let's write some code.\"]\n```", "response": "```python\ndef sort_sentences_by_word_count(sentences):\n    \"\"\"\n    Sorts a list of sentences by the number of words in each sentence in ascending order.\n    If two sentences have the same number of words, they are sorted alphabetically.\n\n    :param sentences: List of strings, where each string is a sentence.\n    :return: List of strings sorted by word count and alphabetically.\n    \"\"\"\n    return sorted(sentences, key=lambda sentence: (len(sentence.split()), sentence))\n\n# Test cases\nsentences = [\"This is a test.\", \"Hello, world!\", \"Python is great.\", \"I love coding.\", \"Let's write some code.\"]\nsorted_sentences = sort_sentences_by_word_count(sentences)\nprint(sorted_sentences)\n```"}
{"text": "You are given a simple quadratic function `f(x) = x^2 + 4x + 4`. Your task is to implement a Python script that uses gradient descent to find the value of `x` that minimizes this function. Your script should output the value of `x` that minimizes the function. Assume a learning rate of `0.1` and perform `1000` iterations starting from `x = 0`.\n\n**Sample Input:**\nNo input is required for this problem.\n\n**Sample Output:**\n```\nThe value of x that minimizes the function is: -2.0\n```", "response": "```python\ndef compute_gradient(x):\n    \"\"\"\n    Calculate the gradient of the function f(x) = x^2 + 4x + 4 at a given x.\n    \n    :param x: The point at which to compute the gradient.\n    :return: The gradient of the function at point x.\n    \"\"\"\n    return 2 * x + 4\n\ndef gradient_descent(learning_rate=0.1, num_iterations=1000, initial_x=0):\n    \"\"\"\n    Perform gradient descent to minimize the function f(x) = x^2 + 4x + 4.\n    \n    :param learning_rate: Step size for each iteration.\n    :param num_iterations: Number of iterations to perform.\n    :param initial_x: Starting point for x.\n    :return: The value of x that minimizes the function.\n    \"\"\"\n    x = initial_x\n    for _ in range(num_iterations):\n        gradient = compute_gradient(x)\n        x -= learning_rate * gradient\n    return x\n\n# Run gradient descent and print the result\nx_min = gradient_descent()\nprint(\"The value of x that minimizes the function is:\", x_min)\n```"}
{"text": "You are tasked with creating a regular expression to validate email addresses. The email addresses must conform to the following rules:\n- The local part (before the '@' symbol) can include letters (both uppercase and lowercase), digits, dots ('.'), underscores ('_'), percent signs ('%'), plus signs ('+'), and hyphens ('-').\n- The domain part (after the '@' symbol) can include letters, digits, dots, and hyphens.\n- The top-level domain (TLD) must consist of at least two letters.\n- The domain can optionally include a country-specific TLD, which also consists of at least two letters.\n- The domain must not start or end with a hyphen, and it must not contain consecutive dots.\n\nWrite a function `is_valid_email(email)` that returns `True` if the email address is valid according to the above rules, and `False` otherwise.\n\n**Sample Input:**\n```\nuser@example.com\nuser.name+tag+sorting@example.com\nuser-name@example.co.uk\nuser_name@example.org\nuser-name@sub-domain.example.fr\nuser@ex-ample.com\nuser@example.c\nuser@.com\nuser@.com.\nuser@domain..com\nuser@domain.c0m\nuser@domain.-com\nuser@domain.com.\nuser@-domain.com\n@domain.com\nuser@\nuser@domain\nuser@domain.c0m\nuser@domain.toolongtld\nuser.name+tag+sorting@.\n```\n\n**Sample Output:**\n```\nTrue\nTrue\nTrue\nTrue\nTrue\nTrue\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\nFalse\n```", "response": "```python\nimport re\n\n# Regular expression for matching valid email addresses\nemail_regex = re.compile(\n    r'^[a-zA-Z0-9._%+-]+'          # Local part\n    r'@[a-zA-Z0-9.-]+'             # '@' symbol followed by domain name\n    r'\\.[a-zA-Z]{2,}'              # Top-level domain\n    r'(\\.[a-zA-Z]{2,})?$'           # Optional country-specific domain\n)\n\ndef is_valid_email(email):\n    \"\"\"\n    Validates an email address based on specific rules.\n\n    Parameters:\n    email (str): The email address to validate.\n\n    Returns:\n    bool: True if the email address is valid, False otherwise.\n    \"\"\"\n    return email_regex.match(email) is not None\n\n# Example usage:\ntest_emails = [\n    \"user@example.com\",\n    \"user.name+tag+sorting@example.com\",\n    \"user-name@example.co.uk\",\n    \"user_name@example.org\",\n    \"user-name@sub-domain.example.fr\",\n    \"user@ex-ample.com\",\n    \"user@example.c\",\n    \"user@.com\",\n    \"user@.com.\",\n    \"user@domain..com\",\n    \"user@domain.c0m\",\n    \"user@domain.-com\",\n    \"user@domain.com.\",\n    \"user@-domain.com\",\n    \"@domain.com\",\n    \"user@\",\n    \"user@domain\",\n    \"user@domain.c0m\",\n    \"user@domain.toolongtld\",\n    \"user.name+tag+sorting@.\"\n]\n\nfor email in test_emails:\n    print(f'{email}: {is_valid_email(email)}')\n```"}
{"text": "You are given a list of dictionaries, where each dictionary represents a data record with various key-value pairs. Some keys may be absent in certain dictionaries. Your task is to implement a function `fill_missing_values(records, default_values)` that returns a new list of dictionaries with all missing keys filled in using the provided `default_values` dictionary. The original list of dictionaries should remain unchanged.\n\n**Input:**\n- `records`: A list of dictionaries, where each dictionary contains some key-value pairs.\n- `default_values`: A dictionary containing default values for keys that might be missing in the records.\n\n**Output:**\n- A new list of dictionaries with all missing keys filled in using the `default_values`.\n\n**Sample Input:**\n```python\nrecords = [{\"a\": 1}, {\"a\": 2, \"b\": 3}]\ndefault_values = {\"a\": 0, \"b\": 0}\n```\n\n**Sample Output:**\n```python\n[{\"a\": 1, \"b\": 0}, {\"a\": 2, \"b\": 3}]\n```", "response": "```python\nfrom typing import List, Dict\n\ndef fill_missing_values(records: List[Dict], default_values: Dict) -> List[Dict]:\n    \"\"\"\n    Fills in missing values in each dictionary of the list using the provided default values.\n    \n    :param records: List of dictionaries with potentially missing keys.\n    :param default_values: Dictionary containing default values for missing keys.\n    :return: A new list of dictionaries with all missing keys filled in.\n    \"\"\"\n    updated_records = []\n    for record in records:\n        new_record = record.copy()\n        for key, value in default_values.items():\n            new_record.setdefault(key, value)\n        updated_records.append(new_record)\n    return updated_records\n```"}
{"text": "You are given an array of integers `nums`. Your task is to determine the length of the longest contiguous subarray consisting solely of positive integers. \n\n**Input:**\n- The first line contains an integer `n` (1 ≤ n ≤ 10^5), the number of elements in the array.\n- The second line contains `n` space-separated integers `nums[i]` (-10^9 ≤ nums[i] ≤ 10^9).\n\n**Output:**\n- Print a single integer, the length of the longest subarray with all elements greater than zero.\n\n**Sample Input:**\n```\n8\n1 2 -1 3 4 -1 5 6\n```\n\n**Sample Output:**\n```\n2\n```", "response": "```python\ndef find_longest_subarray(nums):\n    \"\"\"\n    Finds the length of the longest contiguous subarray with all elements greater than zero.\n\n    :param nums: List[int] - A list of integers.\n    :return: int - The length of the longest subarray with all elements greater than zero.\n    \"\"\"\n    max_length = 0\n    current_length = 0\n    \n    for num in nums:\n        if num > 0:\n            current_length += 1\n            max_length = max(max_length, current_length)\n        else:\n            current_length = 0\n    \n    return max_length\n\n# Example usage:\nnums = [1, 2, -1, 3, 4, -1, 5, 6]\nprint(find_longest_subarray(nums))  # Output: 2\n```"}
{"text": "In a virtual game environment, players gather items, each identified by a unique ID, a name, and a description. Implement a Python class named `Item` that supports the following functionalities:\n- Initialize an item with its ID, name, and description.\n- Retrieve and update the item's ID, name, and description.\n- Print the item's details in the format:\n  ```\n  Item ID: <item_id>\n  Name: <name>\n  Description: <description>\n  ```\n\n**Sample Input:**\n```python\nitem = Item(101, \"Sword of Destiny\", \"A legendary sword forged in the heart of a volcano.\")\nitem.display_details()\nitem.set_name(\"Excalibur\")\nitem.display_details()\n```\n\n**Sample Output:**\n```\nItem ID: 101\nName: Sword of Destiny\nDescription: A legendary sword forged in the heart of a volcano.\nItem ID: 101\nName: Excalibur\nDescription: A legendary sword forged in the heart of a volcano.\n```", "response": "```python\nclass Item:\n    def __init__(self, item_id, name, description):\n        \"\"\"\n        Initializes a new item with an ID, name, and description.\n        \n        :param item_id: Unique identifier for the item.\n        :param name: Name of the item.\n        :param description: Description of the item.\n        \"\"\"\n        self._item_id = item_id\n        self._name = name\n        self._description = description\n\n    def get_id(self):\n        \"\"\"\n        Returns the item ID.\n        \n        :return: The item ID.\n        \"\"\"\n        return self._item_id\n\n    def set_id(self, item_id):\n        \"\"\"\n        Sets the item ID.\n        \n        :param item_id: New ID for the item.\n        \"\"\"\n        self._item_id = item_id\n\n    def get_name(self):\n        \"\"\"\n        Returns the item name.\n        \n        :return: The item name.\n        \"\"\"\n        return self._name\n\n    def set_name(self, name):\n        \"\"\"\n        Sets the item name.\n        \n        :param name: New name for the item.\n        \"\"\"\n        self._name = name\n\n    def get_description(self):\n        \"\"\"\n        Returns the item description.\n        \n        :return: The item description.\n        \"\"\"\n        return self._description\n\n    def set_description(self, description):\n        \"\"\"\n        Sets the item description.\n        \n        :param description: New description for the item.\n        \"\"\"\n        self._description = description\n\n    def display_details(self):\n        \"\"\"\n        Displays the item's details in the specified format.\n        \"\"\"\n        print(f\"Item ID: {self._item_id}\")\n        print(f\"Name: {self._name}\")\n        print(f\"Description: {self._description}\")\n```"}
{"text": "You are given a list of integers. Your task is to classify these integers into three categories: even numbers, odd numbers, and prime numbers. Implement a function `classify_numbers(numbers)` that takes a list of integers as input and returns a dictionary with keys 'even', 'odd', and 'prime'. Each key should map to a list of integers that belong to the respective category.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^3), where each integer `num` satisfies -10^6 ≤ num ≤ 10^6.\n\n**Output:**\n- A dictionary with keys 'even', 'odd', and 'prime'. Each key maps to a list of integers.\n\n**Sample Input:**\n```python\n[2, 3, 4, 5, 6, 7, 8, 9, 10]\n```\n\n**Sample Output:**\n```python\n{'even': [2, 4, 6, 8, 10], 'odd': [3, 5, 7, 9], 'prime': [2, 3, 5, 7]}\n```", "response": "```python\ndef classify_numbers(numbers):\n    \"\"\"\n    Classifies a list of integers into even, odd, and prime numbers.\n\n    Parameters:\n    numbers (list of int): A list of integers to be classified.\n\n    Returns:\n    dict: A dictionary with keys 'even', 'odd', and 'prime', each mapping to a list of integers.\n    \"\"\"\n    def is_prime(num):\n        \"\"\"Check if a number is prime.\"\"\"\n        if num <= 1:\n            return False\n        if num <= 3:\n            return True\n        if num % 2 == 0 or num % 3 == 0:\n            return False\n        i = 5\n        while i * i <= num:\n            if num % i == 0 or num % (i + 2) == 0:\n                return False\n            i += 6\n        return True\n\n    result = {'even': [], 'odd': [], 'prime': []}\n    \n    for number in numbers:\n        if number % 2 == 0:\n            result['even'].append(number)\n        else:\n            result['odd'].append(number)\n        \n        if is_prime(number):\n            result['prime'].append(number)\n    \n    return result\n```"}
{"text": "You are tasked with implementing a function `create_wordcloud(text)` that generates and displays a word cloud from a given string `text`. The word cloud should be created using the `wordcloud` library and visualized with `matplotlib`. The function should produce a word cloud with a width of 800 pixels, a height of 400 pixels, and a white background. The axis labels should be turned off in the displayed plot.\n\n**Sample Input:**\n```\n\"Competitive programming is a mind sport requiring logical thinking and problem-solving skills. It involves solving algorithmic problems under time constraints.\"\n```\n\n**Sample Output:**\nA word cloud image displaying the words from the input text with the specified dimensions and background color.", "response": "```python\nfrom wordcloud import WordCloud\nimport matplotlib.pyplot as plt\n\ndef create_wordcloud(text):\n    \"\"\"\n    Generates and displays a word cloud from the given text.\n    \n    Parameters:\n    text (str): The input text from which to generate the word cloud.\n    \"\"\"\n    wordcloud = WordCloud(width=800, height=400, background_color='white').generate(text)\n    plt.figure(figsize=(10, 5))\n    plt.imshow(wordcloud, interpolation='bilinear')\n    plt.axis('off')  # Turn off axis labels\n    plt.show()\n```"}
{"text": "Implement a class `LinkedList` that represents a singly linked list. The class should support the following operations:\n\n- `__init__`: Initializes an empty linked list.\n- `append(value)`: Adds a new node with the specified `value` to the end of the list.\n- `prepend(value)`: Adds a new node with the specified `value` to the beginning of the list.\n- `remove(value)`: Removes the first node with the specified `value` from the list. If no such node exists, the list remains unchanged.\n- `display()`: Prints the values of all nodes in the list in order, separated by \" -> \" and ending with a newline.\n\n**Sample Input/Output:**\n\n```\nll = LinkedList()\nll.append(1)\nll.append(2)\nll.prepend(0)\nll.display()  # Output: 0 -> 1 -> 2\nll.remove(1)\nll.display()  # Output: 0 -> 2\nll.remove(3)  # No change, list remains: 0 -> 2\nll.display()  # Output: 0 -> 2\n```", "response": "```python\nclass Node:\n    def __init__(self, value):\n        self.value = value\n        self.next = None\n\nclass LinkedList:\n    def __init__(self):\n        \"\"\"Initializes an empty linked list.\"\"\"\n        self.head = None\n\n    def append(self, value):\n        \"\"\"Adds a new node with the specified value to the end of the list.\"\"\"\n        new_node = Node(value)\n        if not self.head:\n            self.head = new_node\n            return\n        last_node = self.head\n        while last_node.next:\n            last_node = last_node.next\n        last_node.next = new_node\n\n    def prepend(self, value):\n        \"\"\"Adds a new node with the specified value to the beginning of the list.\"\"\"\n        new_node = Node(value)\n        new_node.next = self.head\n        self.head = new_node\n\n    def remove(self, value):\n        \"\"\"Removes the first node with the specified value from the list.\"\"\"\n        current_node = self.head\n        previous_node = None\n        while current_node and current_node.value != value:\n            previous_node = current_node\n            current_node = current_node.next\n        if not current_node:  # If value not found\n            return\n        if not previous_node:  # If value is at the head\n            self.head = current_node.next\n        else:\n            previous_node.next = current_node.next\n\n    def display(self):\n        \"\"\"Prints the values of all nodes in the list in order.\"\"\"\n        current_node = self.head\n        while current_node:\n            print(current_node.value, end=\" -> \" if current_node.next else \"\\n\")\n            current_node = current_node.next\n```"}
{"text": "You are tasked with writing a Python script that performs web scraping to extract all unique email addresses from a given webpage. Your script should utilize the `requests` and `BeautifulSoup` libraries. The function should return a list of unique email addresses found on the webpage.\n\n**Input:**\n- A URL as a string.\n\n**Output:**\n- A list of unique email addresses found on the webpage.\n\n**Sample Input:**\n```\nhttps://example.com\n```\n\n**Sample Output:**\n```\n['contact@example.com', 'info@example.com']\n```", "response": "```python\nimport requests\nfrom bs4 import BeautifulSoup\nimport re\n\ndef extract_emails(url):\n    \"\"\"\n    Extracts all unique email addresses from the given webpage URL.\n\n    Parameters:\n    url (str): The URL of the webpage to scrape.\n\n    Returns:\n    list: A list of unique email addresses found on the webpage.\n    \"\"\"\n    # Send a GET request to the webpage\n    response = requests.get(url)\n    # Check if the request was successful\n    if response.status_code != 200:\n        return []\n    \n    # Parse the HTML content using BeautifulSoup\n    soup = BeautifulSoup(response.content, 'html.parser')\n    \n    # Find all text in the HTML\n    text = soup.get_text()\n    \n    # Regular expression pattern to match email addresses\n    email_pattern = r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n    \n    # Find all matches of the email pattern\n    emails = re.findall(email_pattern, text)\n    \n    # Remove duplicates by converting the list to a set and back to a list\n    unique_emails = list(set(emails))\n    \n    return unique_emails\n\n# Example usage\nurl = \"https://example.com\"\nemails = extract_emails(url)\nprint(f\"Extracted emails: {emails}\")\n```"}
{"text": "You are given an array of integers. Implement a function `largest_prime_factor` that computes and returns the largest prime factor of the last element in the array. A prime factor is a factor that is a prime number.\n\n**Input:**\n- An array of integers `arr` where `1 <= len(arr) <= 10^3` and `1 <= arr[i] <= 10^6`.\n\n**Output:**\n- An integer representing the largest prime factor of the last element in the array.\n\n**Sample Input:**\n```\n[15, 10, 21]\n```\n\n**Sample Output:**\n```\n7\n```", "response": "```python\ndef largest_prime_factor(arr):\n    \"\"\"\n    Returns the largest prime factor of the last element in the array.\n\n    :param arr: List[int] - An array of integers.\n    :return: int - The largest prime factor of the last element in the array.\n    \"\"\"\n    def is_prime(n):\n        \"\"\"\n        Checks if a number is prime.\n\n        :param n: int - The number to check.\n        :return: bool - True if n is prime, False otherwise.\n        \"\"\"\n        if n <= 1:\n            return False\n        if n <= 3:\n            return True\n        if n % 2 == 0 or n % 3 == 0:\n            return False\n        i = 5\n        while i * i <= n:\n            if n % i == 0 or n % (i + 2) == 0:\n                return False\n            i += 6\n        return True\n\n    def largest_prime(n):\n        \"\"\"\n        Finds the largest prime factor of a given number.\n\n        :param n: int - The number to find the largest prime factor of.\n        :return: int - The largest prime factor of n.\n        \"\"\"\n        largest_factor = None\n        while n % 2 == 0:\n            largest_factor = 2\n            n //= 2\n        for i in range(3, int(n**0.5) + 1, 2):\n            while n % i == 0:\n                largest_factor = i\n                n //= i\n        if n > 2:\n            largest_factor = n\n        return largest_factor\n\n    last_element = arr[-1]\n    return largest_prime(last_element)\n\n# Example usage\nprint(largest_prime_factor([15, 10, 21]))  # Output: 7\n```"}
{"text": "You are tasked with implementing an `InventoryManager` class for a retail store's inventory system. The class should support the following operations:\n\n1. **Add Item**: Add a new item to the inventory or update the quantity of an existing item.\n2. **Update Quantity**: Update the quantity of an existing item. If the item does not exist, raise a `KeyError`.\n3. **Remove Item**: Remove an item from the inventory. If the item does not exist, raise a `KeyError`.\n4. **List Items**: Return a dictionary of all items in the inventory with their quantities.\n5. **Total Items**: Return the total number of items in the inventory.\n6. **Find Item**: Return the quantity of a specified item. If the item does not exist, return 0.\n\nThe `InventoryManager` class should use a dictionary to store the items, with the item name as the key and the quantity as the value.\n\n**Sample Input/Output:**\n\n```\ninventory = InventoryManager()\ninventory.add_item(\"apple\", 30)\ninventory.add_item(\"banana\", 45)\ninventory.update_quantity(\"apple\", 20)\nprint(inventory.list_items())  # Output: {'apple': 20, 'banana': 45}\nprint(inventory.total_items())  # Output: 65\nprint(inventory.find_item(\"banana\"))  # Output: 45\ninventory.remove_item(\"apple\")\nprint(inventory.list_items())  # Output: {'banana': 45}\n```", "response": "```python\nclass InventoryManager:\n    def __init__(self):\n        \"\"\"Initialize an empty dictionary to store inventory items.\"\"\"\n        self.items = {}\n\n    def add_item(self, item_name, quantity):\n        \"\"\"Add or update the quantity of the item in the inventory.\"\"\"\n        if item_name in self.items:\n            self.items[item_name] += quantity\n        else:\n            self.items[item_name] = quantity\n\n    def update_quantity(self, item_name, quantity):\n        \"\"\"Update the quantity of an existing item. Raise KeyError if item does not exist.\"\"\"\n        if item_name in self.items:\n            self.items[item_name] = quantity\n        else:\n            raise KeyError(f\"Item '{item_name}' not found in inventory.\")\n\n    def remove_item(self, item_name):\n        \"\"\"Remove an item from the inventory. Raise KeyError if item does not exist.\"\"\"\n        if item_name in self.items:\n            del self.items[item_name]\n        else:\n            raise KeyError(f\"Item '{item_name}' not found in inventory.\")\n\n    def list_items(self):\n        \"\"\"Return a dictionary of all items in the inventory with their quantities.\"\"\"\n        return self.items\n\n    def total_items(self):\n        \"\"\"Return the total number of items in the inventory.\"\"\"\n        return sum(self.items.values())\n\n    def find_item(self, item_name):\n        \"\"\"Return the quantity of a specified item. Return 0 if item does not exist.\"\"\"\n        return self.items.get(item_name, 0)\n```"}
{"text": "You are given a list of integers. Your task is to create a new list where each non-prime integer is multiplied by 2, while prime integers remain unchanged. Implement a function `multiply_non_primes` that takes a list of integers as input and returns the modified list.\n\n**Sample Input:**\n```\n[2, 3, 4, 5, 6, 7, 8]\n```\n\n**Sample Output:**\n```\n[2, 3, 8, 5, 12, 7, 16]\n```", "response": "```python\ndef is_prime(n):\n    \"\"\"Check if a number is prime.\"\"\"\n    if n <= 1:\n        return False\n    if n <= 3:\n        return True\n    if n % 2 == 0 or n % 3 == 0:\n        return False\n    i = 5\n    while i * i <= n:\n        if n % i == 0 or n % (i + 2) == 0:\n            return False\n        i += 6\n    return True\n\ndef multiply_non_primes(lst):\n    \"\"\"Multiply non-prime numbers in the list by 2.\"\"\"\n    return [x if is_prime(x) else x * 2 for x in lst]\n\n# Example usage\ninput_list = [2, 3, 4, 5, 6, 7, 8]\nresult = multiply_non_primes(input_list)\nprint(result)\n```"}
{"text": "You are given a string `s` consisting of words separated by spaces. Each word may contain letters, digits, and punctuation. Your task is to write a function that reverses each word in the string while preserving the positions of spaces and punctuation. \n\n**Input:**\n- A single string `s` (1 ≤ len(s) ≤ 1000).\n\n**Output:**\n- A string where each word is reversed, but spaces and punctuation remain in their original positions.\n\n**Sample Input:**\n```\n\"Hello, World!\"\n```\n\n**Sample Output:**\n```\n\",olleH !dlroW\"\n```", "response": "```python\nimport re\n\ndef reverse_words_in_string(s):\n    \"\"\"\n    Reverses each word in the input string while preserving the positions of spaces and punctuation.\n\n    :param s: Input string containing words, spaces, and punctuation.\n    :return: A new string with each word reversed.\n    \"\"\"\n    # Find all words, including punctuation\n    words = re.findall(r'\\b\\w+\\b|[^\\w\\s]', s, re.UNICODE)\n    # Reverse each word\n    reversed_words = [word[::-1] for word in words]\n    # Join them back together preserving the original spaces\n    return ''.join(reversed_words)\n\n# Test the function\ninput_string = \"Hello, World!\"\nreversed_string = reverse_words_in_string(input_string)\nprint(reversed_string)  # Output: \",olleH !dlroW\"\n```"}
{"text": "You are given a list of strings. Your task is to implement a function that processes this list and returns a dictionary. The keys of the dictionary should be the unique words and punctuation marks found in the list, and the values should be the counts of each word and punctuation mark. The function should treat words in a case-insensitive manner and consider punctuation and spaces as separate tokens.\n\n**Input:**\n- A list of strings, where each string can contain letters, digits, punctuation, and spaces.\n\n**Output:**\n- A dictionary with keys as unique words and punctuation marks, and values as their respective counts.\n\n**Sample Input:**\n```python\n[\"Hello, world!\", \"Hello world\"]\n```\n\n**Sample Output:**\n```python\n{'hello': 2, 'world': 2, '': 2, ',': 1}\n```", "response": "```python\nimport string\n\ndef count_words(input_list):\n    \"\"\"\n    Processes a list of strings and returns a dictionary with counts of each unique word and punctuation mark.\n    \n    Parameters:\n    input_list (list of str): The list of strings to process.\n    \n    Returns:\n    dict: A dictionary with words and punctuation marks as keys and their counts as values.\n    \"\"\"\n    word_count = {}\n    \n    for line in input_list:\n        line = line.lower()\n        i = 0\n        while i < len(line):\n            if line[i] in string.punctuation + ' ':\n                word = line[i]\n                i += 1\n            else:\n                start = i\n                while i < len(line) and line[i] not in string.punctuation + ' ':\n                    i += 1\n                word = line[start:i]\n            \n            if word in word_count:\n                word_count[word] += 1\n            else:\n                word_count[word] = 1\n    \n    return word_count\n\n# Test the function\ninput_list = [\"The quick brown fox jumps over the lazy dog.\", \"The quick brown fox is quick.\"]\nresult = count_words(input_list)\nprint(result)\n```"}
{"text": "You are tasked with implementing a Python class named `Employee` to manage employee data efficiently. The class should support the following operations:\n\n1. **Initialization**: Create an employee with a name, employee ID, and department.\n2. **Promotion**: Change the department of an employee.\n3. **Retrieve Details**: Return a dictionary containing the employee's name, employee ID, and department.\n\n**Input**:\n- The `Employee` class will be instantiated with a string `name`, an integer `employee_id`, and a string `department`.\n- The `promote` method will be called with a string `new_department`.\n- The `get_details` method will be called without any arguments.\n\n**Output**:\n- The `get_details` method should return a dictionary with keys `'name'`, `'employee_id'`, and `'department'` corresponding to the employee's details.\n\n**Sample Usage**:\n```python\nemployee = Employee(\"John Doe\", 12345, \"Engineering\")\nemployee.promote(\"Marketing\")\nprint(employee.get_details())  # Output: {'name': 'John Doe', 'employee_id': 12345, 'department': 'Marketing'}\n```", "response": "```python\nclass Employee:\n    def __init__(self, name, employee_id, department):\n        \"\"\"\n        Initialize an employee with a name, employee ID, and department.\n\n        :param name: str - The name of the employee.\n        :param employee_id: int - The unique ID of the employee.\n        :param department: str - The department where the employee works.\n        \"\"\"\n        self.name = name\n        self.employee_id = employee_id\n        self.department = department\n\n    def promote(self, new_department):\n        \"\"\"\n        Promote the employee to a new department.\n\n        :param new_department: str - The new department for the employee.\n        \"\"\"\n        self.department = new_department\n\n    def get_details(self):\n        \"\"\"\n        Retrieve the details of the employee.\n\n        :return: dict - A dictionary containing the employee's name, employee ID, and department.\n        \"\"\"\n        return {\n            'name': self.name,\n            'employee_id': self.employee_id,\n            'department': self.department\n        }\n```"}
{"text": "You are given a list of strings, each representing an email address. Your task is to write a Python function `parse_emails` that processes this list and returns a list of tuples. Each tuple should contain three elements: the local part, the domain, and the top-level domain of the email address. If an email address is invalid, the corresponding tuple should contain `None` for all three elements.\n\n**Input:**\n- A list of strings, where each string is an email address.\n\n**Output:**\n- A list of tuples, where each tuple contains three elements: the local part, the domain, and the top-level domain of the email address, or `None` if the email is invalid.\n\n**Sample Input:**\n```python\n[\"user1@example.com\", \"invalid-email@\", \"user2@test.org\", \"user3@sample.net\"]\n```\n\n**Sample Output:**\n```python\n[('user1', 'example', 'com'), (None, None, None), ('user2', 'test', 'org'), ('user3', 'sample', 'net')]\n```", "response": "```python\nimport re\n\ndef parse_emails(email_list):\n    \"\"\"\n    Parses a list of email addresses and returns a list of tuples containing the local part, domain, and top-level domain.\n    Invalid email addresses are represented by a tuple of None values.\n\n    :param email_list: List of email addresses as strings.\n    :return: List of tuples with (local_part, domain, top_level_domain) or (None, None, None) for invalid emails.\n    \"\"\"\n    result = []\n    email_pattern = re.compile(r'^(?P<local>[^@]+)@(?P<domain>[^@]+\\.(?P<tld>[^@.]+))$')\n    \n    for email in email_list:\n        match = email_pattern.match(email)\n        if match:\n            local = match.group('local')\n            domain, tld = match.group('domain').rsplit('.', 1)\n            result.append((local, domain, tld))\n        else:\n            result.append((None, None, None))\n    \n    return result\n\n# Test the function\nemails = [\"user1@example.com\", \"invalid-email@\", \"user2@test.org\", \"user3@sample.net\"]\nprint(parse_emails(emails))\n```"}
{"text": "You are tasked with implementing a function that converts a given integer to its Roman numeral representation. The function should be able to handle any integer within the range of 1 to 3999, inclusive. Your solution should be efficient and concise.\n\n**Sample Input:**\n```\n1994\n```\n\n**Sample Output:**\n```\nMCMXCIV\n```", "response": "```python\ndef int_to_roman(num):\n    \"\"\"\n    Convert an integer to its Roman numeral representation.\n    \n    Parameters:\n    num (int): An integer between 1 and 3999, inclusive.\n    \n    Returns:\n    str: The Roman numeral representation of the given integer.\n    \"\"\"\n    val = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]\n    syms = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"]\n    roman_num = ''\n    i = 0\n    while num > 0:\n        for _ in range(num // val[i]):\n            roman_num += syms[i]\n            num -= val[i]\n        i += 1\n    return roman_num\n\n# Test the function\nprint(int_to_roman(1994))  # Expected output: \"MCMXCIV\"\n```"}
{"text": "You are tasked with implementing a function `format_phone_number(number)` that processes a string `number` and returns a formatted phone number. The input string may include any non-digit characters, but the output must adhere to the format `(XXX) XXX-XXXX`, where `X` represents a digit. If the input string does not consist of exactly 10 digits, the function should raise a `ValueError` with the message \"Input string must contain exactly 10 digits.\"\n\n**Sample Input 1:**\n```\n\"123-456-7890\"\n```\n**Sample Output 1:**\n```\n\"(123) 456-7890\"\n```\n\n**Sample Input 2:**\n```\n\"1234567890\"\n```\n**Sample Output 2:**\n```\n\"(123) 456-7890\"\n```\n\n**Sample Input 3:**\n```\n\"123-45-6789\"\n```\n**Sample Output 3:**\n```\nValueError: Input string must contain exactly 10 digits.\n```", "response": "```python\ndef format_phone_number(number):\n    \"\"\"\n    Formats a given phone number string into the format (XXX) XXX-XXXX.\n    \n    Parameters:\n    number (str): A string containing the phone number with possible non-digit characters.\n    \n    Returns:\n    str: The formatted phone number.\n    \n    Raises:\n    ValueError: If the input string does not contain exactly 10 digits.\n    \"\"\"\n    # Extract digits from the input string\n    digits = [char for char in number if char.isdigit()]\n    \n    # Validate the number of digits\n    if len(digits) != 10:\n        raise ValueError(\"Input string must contain exactly 10 digits.\")\n    \n    # Format the digits into the desired phone number format\n    formatted_number = f\"({digits[0]}{digits[1]}{digits[2]}) {digits[3]}{digits[4]}{digits[5]}-{digits[6]}{digits[7]}{digits[8]}{digits[9]}\"\n    \n    return formatted_number\n```"}
{"text": "You are given a log file where each line contains a server access log entry. The first element in each line is the IP address of the client that accessed the server. Your task is to write a function that reads this log file and returns the number of unique IP addresses that have accessed the server.\n\n**Input:**\n- The first line of input contains the path to the log file.\n- Each subsequent line in the log file contains a log entry where the first element is the IP address.\n\n**Output:**\n- A single integer representing the number of unique IP addresses.\n\n**Sample Input:**\n```\n/path/to/logfile.log\n192.168.1.1 GET /index.html HTTP/1.1\n192.168.1.2 POST /login HTTP/1.1\n192.168.1.1 GET /about HTTP/1.1\n192.168.1.3 GET /contact HTTP/1.1\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\ndef count_unique_ips(log_file_path):\n    \"\"\"\n    Counts the number of unique IP addresses from a server access log file.\n\n    Parameters:\n    log_file_path (str): The path to the log file.\n\n    Returns:\n    int: The number of unique IP addresses.\n    \"\"\"\n    ips = set()\n    with open(log_file_path, 'r') as log_file:\n        for line in log_file:\n            ip = line.split()[0]\n            ips.add(ip)\n    return len(ips)\n\n# Example usage\nlog_file_path = 'path_to_your_log_file.log'\nprint(f\"Number of unique IP addresses: {count_unique_ips(log_file_path)}\")\n```"}
{"text": "You are given a list of dictionaries, where each dictionary represents a product with keys `name`, `price`, and `quantity`. Your task is to write a function `calculate_total_cost` that computes the total cost of all products. The total cost is defined as the sum of `price * quantity` for each product in the list. \n\n**Input:**\n- A list of dictionaries, where each dictionary contains:\n  - `name`: A string representing the product name.\n  - `price`: A float representing the price per unit of the product.\n  - `quantity`: An integer representing the number of units of the product.\n\n**Output:**\n- A float representing the total cost of all products.\n\n**Sample Input:**\n```python\nproducts = [{'name': 'Apple', 'price': 0.5, 'quantity': 4}, {'name': 'Banana', 'price': 0.3, 'quantity': 6}]\n```\n\n**Sample Output:**\n```\n3.8\n```", "response": "```python\ndef calculate_total_cost(products):\n    \"\"\"\n    Calculate the total cost of all products.\n\n    :param products: List of dictionaries, each containing 'name', 'price', and 'quantity' keys.\n    :return: Total cost as a float.\n    \"\"\"\n    return sum(product['price'] * product['quantity'] for product in products)\n\n# Example usage\nproducts = [{'name': 'Apple', 'price': 0.5, 'quantity': 4}, {'name': 'Banana', 'price': 0.3, 'quantity': 6}]\nprint(calculate_total_cost(products))  # Output: 3.8\n```"}
{"text": "You are given a string `s`. Your task is to determine the shortest palindrome that can be formed by appending the minimum number of characters to the end of `s`. A palindrome is a string that reads the same forward and backward. \n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 1000), consisting of lowercase English letters.\n\n**Output:**\n- A single string representing the shortest palindrome that can be formed by appending characters to the end of `s`.\n\n**Sample Input:**\n```\nrace\n```\n\n**Sample Output:**\n```\nracecar\n```", "response": "```python\ndef shortest_palindrome(s: str) -> str:\n    \"\"\"\n    Returns the shortest palindrome that can be formed by appending the minimum number of characters to the end of the input string s.\n    \n    :param s: Input string\n    :return: Shortest palindrome formed by appending characters to s\n    \"\"\"\n    if not s:\n        return s\n    \n    rev_s = s[::-1]\n    combined = s + \"#\" + rev_s\n    lps = [0] * len(combined)\n    length = 0\n    i = 1\n    \n    while i < len(combined):\n        if combined[i] == combined[length]:\n            length += 1\n            lps[i] = length\n            i += 1\n        else:\n            if length != 0:\n                length = lps[length - 1]\n            else:\n                lps[i] = 0\n                i += 1\n    \n    non_palindromic_suffix = rev_s[:len(s) - lps[-1]]\n    return s + non_palindromic_suffix\n```"}
{"text": "You are given a task to implement a function that processes a JSON file and retrieves the value associated with a specified key. Your function should handle potential errors such as file not found or JSON decoding issues gracefully. \n\n**Function Signature:**\n```python\ndef extract_info_from_json(file_path: str, key: str) -> any:\n```\n\n**Input:**\n- `file_path`: A string representing the path to the JSON file.\n- `key`: A string representing the key whose value needs to be extracted.\n\n**Output:**\n- The function should return the value associated with the given key if it exists in the JSON file.\n- If the key does not exist, the file is not found, or there is an error in decoding the JSON, the function should return `None`.\n\n**Sample Input:**\n- JSON file content: `{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}`\n- Function call: `extract_info_from_json(\"data.json\", \"age\")`\n\n**Sample Output:**\n- `30`\n\n**Sample Input:**\n- JSON file content: `{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}`\n- Function call: `extract_info_from_json(\"data.json\", \"country\")`\n\n**Sample Output:**\n- `None`", "response": "```python\nimport json\n\ndef extract_info_from_json(file_path: str, key: str) -> any:\n    \"\"\"\n    Reads a JSON file and extracts the value for a specific key.\n\n    Parameters:\n    file_path (str): Path to the JSON file.\n    key (str): Key for which the value is to be extracted from the JSON file.\n\n    Returns:\n    any: Value associated with the given key or None if the key is not found, \n         the file is not found, or there is an error in decoding the JSON.\n    \"\"\"\n    try:\n        with open(file_path, 'r') as file:\n            data = json.load(file)\n            return data.get(key)\n    except FileNotFoundError:\n        return None\n    except json.JSONDecodeError:\n        return None\n```"}
{"text": "You are given a list of integers `numbers` and an integer `k`. Your task is to implement a function `find_k_largest(numbers: list, k: int) -> list` that returns a new list containing the `k` largest integers from `numbers` in descending order. The original list should remain unchanged.\n\n**Constraints:**\n- `1 <= len(numbers) <= 10^5`\n- `-10^9 <= numbers[i] <= 10^9`\n- `1 <= k <= len(numbers)`\n\n**Sample Input:**\n```\nnumbers = [3, 1, 5, 12, 7, 9, 2]\nk = 3\n```\n\n**Sample Output:**\n```\n[12, 9, 7]\n```", "response": "```python\ndef find_k_largest(numbers: list, k: int) -> list:\n    \"\"\"\n    Returns a list of the k largest integers from the input list 'numbers',\n    sorted in descending order. The original list is not modified.\n    \n    :param numbers: List of integers from which to find the k largest numbers.\n    :param k: The number of largest integers to return.\n    :return: A list of the k largest integers in descending order.\n    \"\"\"\n    import heapq\n    return heapq.nlargest(k, numbers)\n```"}
{"text": "You are given a string `text` consisting of lowercase letters and spaces. Your task is to implement a function `count_words` that returns a dictionary with the frequency of each word in the string, excluding common stop words: 'the', 'and', 'a', 'an', 'in', 'on', 'at', 'by', 'for', and 'with'. Assume that the input string is preprocessed to contain only lowercase letters and spaces.\n\n**Sample Input:**\n```\n\"the quick brown fox jumps over the lazy dog\"\n```\n\n**Sample Output:**\n```\n{'quick': 1, 'brown': 1, 'fox': 1, 'jumps': 1, 'over': 1, 'lazy': 1, 'dog': 1}\n```", "response": "```python\ndef count_words(text):\n    \"\"\"\n    Returns a dictionary with the frequency of each word in the input string,\n    excluding common stop words.\n\n    :param text: A string consisting of lowercase letters and spaces.\n    :return: A dictionary with words as keys and their frequencies as values.\n    \"\"\"\n    # List of stop words to ignore\n    stop_words = {'the', 'and', 'a', 'an', 'in', 'on', 'at', 'by', 'for', 'with'}\n    \n    # Split the text into words\n    words = text.split()\n    \n    # Dictionary to store the frequency of each word\n    word_count = {}\n    \n    # Iterate over each word in the list\n    for word in words:\n        # If the word is not a stop word\n        if word not in stop_words:\n            # Increment the word count\n            if word in word_count:\n                word_count[word] += 1\n            else:\n                word_count[word] = 1\n    \n    return word_count\n\n# Test the function with the given example\ntext = \"the quick brown fox jumps over the lazy dog\"\nprint(count_words(text))\n```"}
{"text": "You are tasked with implementing a `BankAccount` class that simulates basic banking operations. The class should support the following functionalities:\n\n- **Initialization**: Create a bank account with an optional initial balance. If the initial balance is negative, the constructor should raise a `ValueError`.\n- **Deposit**: Add a specified amount to the account balance. If the deposit amount is non-positive, raise a `ValueError`.\n- **Withdraw**: Subtract a specified amount from the account balance. If the withdrawal amount is non-positive or exceeds the current balance, raise a `ValueError`.\n- **Get Balance**: Return the current balance of the account.\n\nYour implementation should include appropriate validation checks and error handling.\n\n**Sample Input/Output**:\n- Input: `account = BankAccount(100); account.deposit(50); account.withdraw(30); print(account.get_balance())`\n- Output: `120`", "response": "```python\nclass BankAccount:\n    def __init__(self, initial_balance=0):\n        \"\"\"\n        Initialize a new bank account with an optional initial balance.\n        \n        :param initial_balance: The starting balance of the account (default is 0).\n        :raises ValueError: If the initial balance is negative.\n        \"\"\"\n        if initial_balance < 0:\n            raise ValueError(\"Initial balance cannot be negative.\")\n        self.balance = initial_balance\n\n    def deposit(self, amount):\n        \"\"\"\n        Deposit a specified amount into the account.\n        \n        :param amount: The amount to deposit.\n        :raises ValueError: If the deposit amount is non-positive.\n        :return: The updated balance after the deposit.\n        \"\"\"\n        if amount <= 0:\n            raise ValueError(\"Deposit amount must be positive.\")\n        self.balance += amount\n        return self.balance\n\n    def withdraw(self, amount):\n        \"\"\"\n        Withdraw a specified amount from the account.\n        \n        :param amount: The amount to withdraw.\n        :raises ValueError: If the withdrawal amount is non-positive or exceeds the current balance.\n        :return: The updated balance after the withdrawal.\n        \"\"\"\n        if amount <= 0:\n            raise ValueError(\"Withdrawal amount must be positive.\")\n        if amount > self.balance:\n            raise ValueError(\"Insufficient funds for withdrawal.\")\n        self.balance -= amount\n        return self.balance\n\n    def get_balance(self):\n        \"\"\"\n        Get the current balance of the account.\n        \n        :return: The current balance.\n        \"\"\"\n        return self.balance\n```"}
{"text": "You are tasked with implementing a `Book` class in Python to manage book information. The class should have the following attributes:\n- `title`: A string representing the title of the book.\n- `author`: A string representing the author of the book.\n- `isbn`: A string representing the ISBN number of the book.\n- `publisher`: A string representing the publisher of the book.\n- `year`: An integer representing the year the book was published.\n- `genre`: A string representing the genre of the book.\n- `language`: A string representing the language in which the book is written.\n- `pages`: An integer representing the number of pages in the book.\n\nThe class should include the following methods:\n- `__init__`: Initialize the book with the given attributes.\n- `display_info`: Print a formatted string with the book's information.\n- `get_age`: Calculate and return the age of the book in years.\n\n**Sample Input:**\n```python\nbook = Book(\"1984\", \"George Orwell\", \"9780451524935\", \"Signet Classic\", 1949, \"Dystopian\", \"English\", 328)\nbook.display_info()\nprint(book.get_age())\n```\n\n**Sample Output:**\n```\nTitle: 1984\nAuthor: George Orwell\nISBN: 9780451524935\nPublisher: Signet Classic\nYear: 1949\nGenre: Dystopian\nLanguage: English\nPages: 328\n74  # Assuming the current year is 2023\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, isbn, publisher, year, genre, language, pages):\n        \"\"\"\n        Initialize a new Book instance with the given attributes.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param isbn: The ISBN number of the book.\n        :param publisher: The publisher of the book.\n        :param year: The year the book was published.\n        :param genre: The genre of the book.\n        :param language: The language in which the book is written.\n        :param pages: The number of pages in the book.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.isbn = isbn\n        self.publisher = publisher\n        self.year = year\n        self.genre = genre\n        self.language = language\n        self.pages = pages\n\n    def display_info(self):\n        \"\"\"\n        Print a formatted string with the book's information.\n        \"\"\"\n        print(f\"Title: {self.title}\")\n        print(f\"Author: {self.author}\")\n        print(f\"ISBN: {self.isbn}\")\n        print(f\"Publisher: {self.publisher}\")\n        print(f\"Year: {self.year}\")\n        print(f\"Genre: {self.genre}\")\n        print(f\"Language: {self.language}\")\n        print(f\"Pages: {self.pages}\")\n\n    def get_age(self):\n        \"\"\"\n        Calculate and return the age of the book in years.\n\n        :return: The age of the book in years.\n        \"\"\"\n        from datetime import datetime\n        current_year = datetime.now().year\n        return current_year - self.year\n```"}
{"text": "You are given an array of integers. Implement the `merge_sort` function to sort the array in ascending order using the merge sort algorithm. The function should have a time complexity of O(n log n) and should not use any built-in sorting functions or methods.\n\n**Input:**\n- An array of integers `arr` (1 ≤ len(arr) ≤ 10^5), where each element is in the range [-10^9, 10^9].\n\n**Output:**\n- The function should return the sorted array.\n\n**Sample Input:**\n```python\narr = [38, 27, 43, 3, 9, 82, 10]\n```\n\n**Sample Output:**\n```python\n[3, 9, 10, 27, 38, 43, 82]\n```", "response": "```python\ndef merge_sort(arr):\n    \"\"\"\n    Sorts an array of integers using the merge sort algorithm.\n\n    Parameters:\n    arr (list): The list of integers to be sorted.\n\n    Returns:\n    list: The sorted list of integers.\n    \"\"\"\n    if len(arr) > 1:\n        mid = len(arr) // 2\n        L = arr[:mid]\n        R = arr[mid:]\n\n        merge_sort(L)\n        merge_sort(R)\n\n        i = j = k = 0\n\n        while i < len(L) and j < len(R):\n            if L[i] < R[j]:\n                arr[k] = L[i]\n                i += 1\n            else:\n                arr[k] = R[j]\n                j += 1\n            k += 1\n\n        while i < len(L):\n            arr[k] = L[i]\n            i += 1\n            k += 1\n\n        while j < len(R):\n            arr[k] = R[j]\n            j += 1\n            k += 1\n\n    return arr\n```"}
{"text": "You are tasked with implementing a `TemperatureConverter` class in Python. This class should support the following temperature conversion methods:\n\n1. `celsius_to_fahrenheit(celsius)`: Converts a temperature from Celsius to Fahrenheit.\n2. `fahrenheit_to_celsius(fahrenheit)`: Converts a temperature from Fahrenheit to Celsius.\n3. `celsius_to_kelvin(celsius)`: Converts a temperature from Celsius to Kelvin.\n4. `kelvin_to_celsius(kelvin)`: Converts a temperature from Kelvin to Celsius.\n\n**Input:**\n- The methods will be called with a single floating-point number representing the temperature in the respective unit.\n\n**Output:**\n- Each method should return a floating-point number representing the converted temperature.\n\n**Sample Input/Output:**\n- `celsius_to_fahrenheit(25)` should return `77.0`\n- `fahrenheit_to_celsius(77)` should return `25.0`\n- `celsius_to_kelvin(0)` should return `273.15`\n- `kelvin_to_celsius(273.15)` should return `0.0`", "response": "```python\nclass TemperatureConverter:\n    def celsius_to_fahrenheit(self, celsius):\n        \"\"\"Converts a temperature from Celsius to Fahrenheit.\"\"\"\n        return (celsius * 9/5) + 32\n\n    def fahrenheit_to_celsius(self, fahrenheit):\n        \"\"\"Converts a temperature from Fahrenheit to Celsius.\"\"\"\n        return (fahrenheit - 32) * 5/9\n\n    def celsius_to_kelvin(self, celsius):\n        \"\"\"Converts a temperature from Celsius to Kelvin.\"\"\"\n        return celsius + 273.15\n\n    def kelvin_to_celsius(self, kelvin):\n        \"\"\"Converts a temperature from Kelvin to Celsius.\"\"\"\n        return kelvin - 273.15\n\n# Example usage:\nconverter = TemperatureConverter()\n\n# Convert 25 degrees Celsius to Fahrenheit\nprint(f\"25°C is {converter.celsius_to_fahrenheit(25)}°F\")\n\n# Convert 77 degrees Fahrenheit to Celsius\nprint(f\"77°F is {converter.fahrenheit_to_celsius(77)}°C\")\n\n# Convert 0 degrees Celsius to Kelvin\nprint(f\"0°C is {converter.celsius_to_kelvin(0)}K\")\n\n# Convert 273.15 Kelvin to Celsius\nprint(f\"273.15K is {converter.kelvin_to_celsius(273.15)}°C\")\n```"}
{"text": "You are given a list of file paths. Your task is to write a Python function `merge_files` that reads the contents of these files and writes them into a single output file in the order they appear in the list. If a file does not exist, your function should print an error message and continue with the next file. Your function should handle any exceptions that may occur during file operations.\n\n**Input:**\n- A list of strings `file_paths` representing the paths to the input files.\n- A string `output_path` representing the path to the output file.\n\n**Output:**\n- The function should create or overwrite the file at `output_path` with the concatenated contents of the input files.\n- If a file does not exist, print an error message in the format: `Error: The file <file_path> does not exist.`\n- If any other exception occurs while processing a file, print an error message in the format: `An error occurred while processing the file <file_path>: <exception_message>.`\n- If any exception occurs while writing to the output file, print an error message in the format: `An error occurred while writing to the output file <output_path>: <exception_message>.`\n\n**Sample Input:**\n```python\nfile_paths = [\"/path/to/file1.txt\", \"/path/to/nonexistentfile.txt\", \"/path/to/file3.txt\"]\noutput_file_path = \"/path/to/merged_output.txt\"\n```\n\n**Sample Output:**\n```\nError: The file /path/to/nonexistentfile.txt does not exist.\n```\n(The contents of `file1.txt` and `file3.txt` are written to `merged_output.txt`.)", "response": "```python\ndef merge_files(file_paths, output_path):\n    \"\"\"\n    Merges the contents of multiple files into a single output file.\n    \n    Parameters:\n    file_paths (list of str): List of file paths to be merged.\n    output_path (str): Path to the output file where the merged content will be written.\n    \"\"\"\n    try:\n        with open(output_path, 'w') as outfile:\n            for file_path in file_paths:\n                try:\n                    with open(file_path, 'r') as infile:\n                        outfile.write(infile.read())\n                except FileNotFoundError:\n                    print(f\"Error: The file {file_path} does not exist.\")\n                except Exception as e:\n                    print(f\"An error occurred while processing the file {file_path}: {str(e)}\")\n    except Exception as e:\n        print(f\"An error occurred while writing to the output file {output_path}: {str(e)}\")\n```"}
{"text": "You are given an array of integers `nums` and an integer `target`. Your task is to find the indices of the two distinct elements in `nums` that add up to `target`. Return the indices as a list of two integers. If there are multiple valid pairs, return the indices of the first pair found. If no such pair exists, return an empty list.\n\n**Constraints:**\n- 2 ≤ len(nums) ≤ 10^4\n- -10^9 ≤ nums[i] ≤ 10^9\n- -10^9 ≤ target ≤ 10^9\n\n**Sample Input:**\n```\nnums = [2, 7, 11, 15]\ntarget = 9\n```\n\n**Sample Output:**\n```\n[0, 1]\n```", "response": "```python\ndef two_sum(nums, target):\n    \"\"\"\n    Finds the indices of two distinct elements in the list `nums` that add up to `target`.\n    \n    :param nums: List of integers.\n    :param target: Integer representing the target sum.\n    :return: List of two integers representing the indices of the elements that add up to `target`, or an empty list if no such pair exists.\n    \"\"\"\n    num_indices = {}\n    for index, num in enumerate(nums):\n        complement = target - num\n        if complement in num_indices:\n            return [num_indices[complement], index]\n        num_indices[num] = index\n    return []\n```"}
{"text": "You are given a positive integer `n`. Your task is to compute the sum of squares of all integers from 1 to `n`. Optimize your solution to run efficiently even for large values of `n`.\n\n**Input:**\n- A single integer `n` (1 ≤ n ≤ 10^9)\n\n**Output:**\n- Print a single integer, the sum of squares from 1 to `n`.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef sum_of_squares(n):\n    \"\"\"\n    Computes the sum of squares of all integers from 1 to n using the formula:\n    n * (n + 1) * (2 * n + 1) // 6\n\n    Parameters:\n    n (int): The upper limit of the range (inclusive).\n\n    Returns:\n    int: The sum of squares from 1 to n.\n    \"\"\"\n    return n * (n + 1) * (2 * n + 1) // 6\n```"}
{"text": "You are given a code snippet that calculates the factorial of a number. Your task is to classify this code snippet into one of the following categories: recursive, iterative, or functional. Provide the category as the output.\n\n**Sample Input:**\n```python\nfactorial(5)\n```\n\n**Sample Output:**\n```\nrecursive\n```", "response": "```python\ndef factorial(n):\n    \"\"\"\n    Calculate the factorial of a given number using recursion.\n\n    Parameters:\n    n (int): The number to calculate the factorial of.\n\n    Returns:\n    int: The factorial of the number.\n    \"\"\"\n    if n == 0:\n        return 1\n    else:\n        return n * factorial(n-1)\n```"}
{"text": "You are tasked with writing a Python script that processes a text file to determine the frequency of each word, excluding common stop words. Your script should prompt the user for the file path and handle cases where the file does not exist by printing an error message and terminating. Utilize the `collections.Counter` for storing word frequencies and the `nltk.corpus.stopwords.words('english')` for filtering out stop words. Ensure the `nltk` library is installed before execution.\n\n**Input:**\n- A single line containing the path to a text file.\n\n**Output:**\n- A list of words and their frequencies, one per line, in the format `word: frequency`. Words should be in alphabetical order.\n\n**Sample Input:**\n```\n/path/to/sample.txt\n```\n\n**Sample Output:**\n```\nexample: 2\nprogramming: 1\npython: 3\nscript: 1\n```", "response": "```python\nimport os\nfrom collections import Counter\nimport nltk\nfrom nltk.corpus import stopwords\n\nnltk.download('stopwords')\nstop_words = set(stopwords.words('english'))\n\ndef count_words_in_file(file_path):\n    \"\"\"\n    Counts the frequency of each word in a given text file, excluding stop words.\n    \n    Parameters:\n    file_path (str): The path to the text file.\n    \n    Returns:\n    None\n    \"\"\"\n    if not os.path.exists(file_path):\n        print(\"The file does not exist.\")\n        return\n\n    with open(file_path, 'r', encoding='utf-8') as file:\n        content = file.read().lower()\n        words = content.split()\n        filtered_words = [word for word in words if word.isalpha() and word not in stop_words]\n\n    word_counts = Counter(filtered_words)\n    \n    for word, count in sorted(word_counts.items()):\n        print(f\"{word}: {count}\")\n\nif __name__ == \"__main__\":\n    user_input = input(\"Please enter the path to the text file: \")\n    count_words_in_file(user_input)\n```"}
{"text": "You are tasked with managing a database of user information stored in a dictionary `user_data`. Each key in the dictionary is a unique user ID, and each value is another dictionary containing details such as `name`, `email`, `age`, and `address`. Your goal is to implement a function `update_user_email(user_data, user_id, new_email)` that updates the email address for a specified user ID. If the user ID does not exist in the database, the function should output an error message.\n\n**Input:**\n- `user_data`: A dictionary where keys are user IDs (integers) and values are dictionaries with keys `name`, `email`, `age`, and `address`.\n- `user_id`: An integer representing the user ID whose email needs to be updated.\n- `new_email`: A string representing the new email address.\n\n**Output:**\n- The function should update the email address in `user_data` if the `user_id` exists.\n- If the `user_id` does not exist, print the error message: \"Error: User ID {user_id} does not exist.\"\n\n**Sample Input:**\n```python\nuser_data = {\n    1: {'name': 'Alice', 'email': 'alice@example.com', 'age': 30, 'address': '123 Main St'},\n    2: {'name': 'Bob', 'email': 'bob@example.com', 'age': 25, 'address': '456 Elm St'}\n}\nuser_id = 1\nnew_email = 'alice_new@example.com'\n```\n\n**Sample Output:**\n- The `user_data` dictionary should be updated to:\n```python\n{\n    1: {'name': 'Alice', 'email': 'alice_new@example.com', 'age': 30, 'address': '123 Main St'},\n    2: {'name': 'Bob', 'email': 'bob@example.com', 'age': 25, 'address': '456 Elm St'}\n}\n```\n\n**Sample Input:**\n```python\nuser_data = {\n    1: {'name': 'Alice', 'email': 'alice@example.com', 'age': 30, 'address': '123 Main St'},\n    2: {'name': 'Bob', 'email': 'bob@example.com', 'age': 25, 'address': '456 Elm St'}\n}\nuser_id = 3\nnew_email = 'charlie@example.com'\n```\n\n**Sample Output:**\n```\nError: User ID 3 does not exist.\n```", "response": "```python\ndef update_user_email(user_data, user_id, new_email):\n    \"\"\"\n    Updates the email address for a given user ID in the user_data dictionary.\n    If the user ID does not exist, prints an error message.\n\n    :param user_data: Dictionary containing user information.\n    :param user_id: Integer representing the user ID.\n    :param new_email: String representing the new email address.\n    \"\"\"\n    if user_id in user_data:\n        user_data[user_id]['email'] = new_email\n    else:\n        print(f\"Error: User ID {user_id} does not exist.\")\n```"}
{"text": "You are given a list of integers `nums`. Your task is to determine the length of the longest increasing subsequence (LIS) in the list. An increasing subsequence is a sequence derived from the list where each element is strictly greater than the preceding one. The function should have a time complexity of O(n^2).\n\n**Input:**\n- A list of integers `nums` (1 ≤ len(nums) ≤ 1000), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- An integer representing the length of the longest increasing subsequence.\n\n**Sample Input:**\n```\n[10, 9, 2, 5, 3, 7, 101, 18]\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef find_longest_increasing_subsequence(nums):\n    \"\"\"\n    Returns the length of the longest increasing subsequence in the list nums.\n    \n    :param nums: List[int] - A list of integers.\n    :return: int - The length of the longest increasing subsequence.\n    \"\"\"\n    if not nums:\n        return 0\n\n    dp = [1] * len(nums)\n    \n    for i in range(1, len(nums)):\n        for j in range(i):\n            if nums[i] > nums[j]:\n                dp[i] = max(dp[i], dp[j] + 1)\n\n    return max(dp)\n\n# Example usage:\nnums = [10, 9, 2, 5, 3, 7, 101, 18]\nprint(find_longest_increasing_subsequence(nums))  # Output: 4\n```"}
{"text": "You are given a string `text` consisting of words separated by spaces and punctuation. Your task is to implement a function `find_most_frequent_word(text)` that returns the most frequently occurring word in the text. If there are multiple words with the same highest frequency, return the first one encountered in the text. Words are defined as sequences of alphabetic characters and should be treated in a case-insensitive manner.\n\n**Input:**\n- A single string `text` (1 ≤ |text| ≤ 10^5).\n\n**Output:**\n- A single string representing the most frequently occurring word.\n\n**Sample Input:**\n```\n\"This is a test. This test is only a test.\"\n```\n\n**Sample Output:**\n```\ntest\n```", "response": "```python\ndef find_most_frequent_word(text):\n    \"\"\"\n    Finds the most frequently occurring word in the given text.\n    \n    Parameters:\n    text (str): The input text containing words separated by spaces and punctuation.\n    \n    Returns:\n    str: The most frequently occurring word in the text.\n    \"\"\"\n    from collections import Counter\n    import re\n    \n    words = re.findall(r'\\b[a-zA-Z]+\\b', text.lower())\n    word_counts = Counter(words)\n    most_frequent_word, _ = word_counts.most_common(1)[0]\n    \n    return most_frequent_word\n\n# Test input\ntext = \"This is a test. This test is only a test.\"\n# Expected output: \"test\"\nprint(find_most_frequent_word(text))\n```"}
{"text": "You are tasked with implementing a class hierarchy for vehicles. The base class `Car` should have the following attributes and methods:\n- `make`: a string representing the make of the car.\n- `model`: a string representing the model of the car.\n- `year`: an integer representing the year the car was manufactured.\n- `__init__(self, make, model, year)`: the constructor that initializes the car's attributes.\n- `display_info(self)`: a method that returns a string with the car's information in the format \"Make: [make], Model: [model], Year: [year]\".\n\nCreate a subclass `ElectricCar` that inherits from `Car` and includes an additional attribute `battery_capacity` (an integer representing the battery capacity in kWh). The `ElectricCar` class should override the `display_info(self)` method to return a string with the car's information including the battery capacity in the format \"Make: [make], Model: [model], Year: [year], Battery Capacity: [battery_capacity] kWh\".\n\n**Sample Input:**\n```python\ncar = Car(\"Toyota\", \"Corolla\", 2020)\nelectric_car = ElectricCar(\"Tesla\", \"Model S\", 2021, 100)\n```\n\n**Sample Output:**\n```\nMake: Toyota, Model: Corolla, Year: 2020\nMake: Tesla, Model: Model S, Year: 2021, Battery Capacity: 100 kWh\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year):\n        \"\"\"\n        Initializes a new Car instance.\n\n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n\n    def display_info(self):\n        \"\"\"\n        Returns a string with the car's information.\n\n        :return: A string in the format \"Make: [make], Model: [model], Year: [year]\".\n        \"\"\"\n        return f\"Make: {self.make}, Model: {self.model}, Year: {self.year}\"\n\n\nclass ElectricCar(Car):\n    def __init__(self, make, model, year, battery_capacity):\n        \"\"\"\n        Initializes a new ElectricCar instance.\n\n        :param make: The make of the electric car.\n        :param model: The model of the electric car.\n        :param year: The year the electric car was manufactured.\n        :param battery_capacity: The battery capacity of the electric car in kWh.\n        \"\"\"\n        super().__init__(make, model, year)\n        self.battery_capacity = battery_capacity\n\n    def display_info(self):\n        \"\"\"\n        Returns a string with the electric car's information including battery capacity.\n\n        :return: A string in the format \"Make: [make], Model: [model], Year: [year], Battery Capacity: [battery_capacity] kWh\".\n        \"\"\"\n        return f\"{super().display_info()}, Battery Capacity: {self.battery_capacity} kWh\"\n```"}
{"text": "You are given a dictionary where each key is associated with an integer value. Your task is to write a Python function that returns a list of keys whose corresponding values exceed a given threshold. The keys in the resulting list should be in the same order as they appear in the dictionary.\n\n**Input:**\n- A dictionary `input_dict` where keys are strings and values are integers.\n- An integer `threshold`.\n\n**Output:**\n- A list of strings representing the keys with values greater than the threshold.\n\n**Sample Input:**\n```python\ninput_dict = {\"a\": 10, \"b\": 5, \"c\": 15, \"d\": 20}\nthreshold = 10\n```\n\n**Sample Output:**\n```python\n['c', 'd']\n```", "response": "```python\ndef keys_above_threshold(input_dict, threshold):\n    \"\"\"\n    Returns a list of keys from the input dictionary whose values are greater than the specified threshold.\n    \n    :param input_dict: Dictionary with string keys and integer values.\n    :param threshold: Integer threshold value.\n    :return: List of keys with values greater than the threshold.\n    \"\"\"\n    return [key for key, value in input_dict.items() if value > threshold]\n\n# Example usage:\ninput_dict = {\"a\": 10, \"b\": 5, \"c\": 15, \"d\": 20}\nthreshold = 10\nresult = keys_above_threshold(input_dict, threshold)\nprint(result)  # Output should be ['c', 'd']\n```"}
{"text": "You are given a JSON file named `data.json` that contains a list of records. Each record is a dictionary with keys and values. Your task is to write a Python function `convert_json_to_dict(filename)` that reads the JSON file and returns the data as a nested dictionary. Use the `json` module for this task.\n\n**Input:**\n- A JSON file `data.json` with the following structure:\n```json\n[\n    {\"name\": \"Alice\", \"age\": 30, \"city\": \"New York\"},\n    {\"name\": \"Bob\", \"age\": 25, \"city\": \"Los Angeles\"}\n]\n```\n\n**Output:**\n- A nested dictionary representing the contents of the JSON file:\n```python\n[\n    {\"name\": \"Alice\", \"age\": 30, \"city\": \"New York\"},\n    {\"name\": \"Bob\", \"age\": 25, \"city\": \"Los Angeles\"}\n]\n```", "response": "```python\nimport json\n\ndef convert_json_to_dict(filename):\n    \"\"\"\n    Reads a JSON file and converts it into a nested dictionary.\n\n    Parameters:\n    filename (str): The name of the JSON file to be read.\n\n    Returns:\n    dict: The nested dictionary representation of the JSON file.\n    \"\"\"\n    with open(filename, 'r') as file:\n        data = json.load(file)\n    return data\n\n# Example usage:\n# nested_dict = convert_json_to_dict(\"data.json\")\n# print(nested_dict)\n```"}
{"text": "You are tasked with analyzing a dataset of customer reviews for a product. Each review includes a rating (an integer from 1 to 5) and a comment (a string). Your goal is to write a function `analyze_reviews(reviews)` that processes a list of reviews and returns a summary dictionary. The summary should include:\n- `average_rating`: The mean of all ratings.\n- `positive_reviews`: The count of reviews with a rating of 4 or 5.\n- `negative_reviews`: The count of reviews with a rating of 1 or 2.\n- `neutral_reviews`: The count of reviews with a rating of 3.\n\n**Input:**\n- A list of dictionaries, where each dictionary contains:\n  - `rating`: An integer (1 ≤ rating ≤ 5).\n  - `comment`: A string.\n\n**Output:**\n- A dictionary with the keys `average_rating`, `positive_reviews`, `negative_reviews`, and `neutral_reviews`.\n\n**Sample Input:**\n```python\n[\n    {'rating': 5, 'comment': 'Great product!'},\n    {'rating': 1, 'comment': 'Terrible quality.'},\n    {'rating': 3, 'comment': 'Average, not bad.'},\n    {'rating': 4, 'comment': 'Good value for money.'},\n    {'rating': 2, 'comment': 'Not what I expected.'}\n]\n```\n\n**Sample Output:**\n```python\n{\n    'average_rating': 3.0,\n    'positive_reviews': 2,\n    'negative_reviews': 2,\n    'neutral_reviews': 1\n}\n```", "response": "```python\ndef analyze_reviews(reviews):\n    \"\"\"\n    Analyzes a list of product reviews and returns a summary dictionary.\n\n    Parameters:\n    reviews (list of dict): A list where each dictionary contains a 'rating' (int) and a 'comment' (str).\n\n    Returns:\n    dict: A dictionary with keys 'average_rating', 'positive_reviews', 'negative_reviews', and 'neutral_reviews'.\n    \"\"\"\n    if not reviews:\n        return {\n            'average_rating': 0.0,\n            'positive_reviews': 0,\n            'negative_reviews': 0,\n            'neutral_reviews': 0\n        }\n\n    total_rating = 0\n    positive_reviews = 0\n    negative_reviews = 0\n    neutral_reviews = 0\n\n    for review in reviews:\n        rating = review['rating']\n        total_rating += rating\n\n        if rating in [4, 5]:\n            positive_reviews += 1\n        elif rating in [1, 2]:\n            negative_reviews += 1\n        elif rating == 3:\n            neutral_reviews += 1\n\n    average_rating = total_rating / len(reviews)\n\n    return {\n        'average_rating': average_rating,\n        'positive_reviews': positive_reviews,\n        'negative_reviews': negative_reviews,\n        'neutral_reviews': neutral_reviews\n    }\n```"}
{"text": "You are tasked with implementing an efficient algorithm to compute the nth Fibonacci number. The Fibonacci sequence is defined as follows: F(0) = 0, F(1) = 1, and F(n) = F(n-1) + F(n-2) for n > 1. Your implementation should be efficient enough to handle large values of n (up to 10^6).\n\n**Input:**\n- An integer n (0 ≤ n ≤ 10^6)\n\n**Output:**\n- The nth Fibonacci number modulo 10^9 + 7.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef fibonacci(n: int) -> int:\n    \"\"\"\n    Computes the nth Fibonacci number using memoization for efficiency.\n    \n    Parameters:\n    n (int): The position in the Fibonacci sequence.\n    \n    Returns:\n    int: The nth Fibonacci number modulo 10^9 + 7.\n    \"\"\"\n    MOD = 10**9 + 7\n    memo = {0: 0, 1: 1}\n    \n    def fib_helper(k: int) -> int:\n        if k in memo:\n            return memo[k]\n        memo[k] = (fib_helper(k-1) + fib_helper(k-2)) % MOD\n        return memo[k]\n    \n    return fib_helper(n)\n```"}
{"text": "You are given a sorted array `arr` of `n` integers and a target integer `target`. Your task is to find the `k` closest elements to the `target` in the array. The result should be returned as a list of `k` elements in ascending order. If there are multiple possible answers, return the lexicographically smallest one.\n\n**Input:**\n- The first line contains an integer `n` (1 ≤ n ≤ 10^5), the number of elements in the array.\n- The second line contains `n` space-separated integers `arr[1], arr[2], ..., arr[n]` (-10^9 ≤ arr[i] ≤ 10^9), the elements of the array.\n- The third line contains two space-separated integers `target` (-10^9 ≤ target ≤ 10^9) and `k` (1 ≤ k ≤ n), the target value and the number of closest elements to find.\n\n**Output:**\n- Print a single line containing `k` space-separated integers, the `k` closest elements to the target in ascending order.\n\n**Sample Input:**\n```\n6\n1 3 5 6 8 9\n7 3\n```\n\n**Sample Output:**\n```\n5 6 8\n```", "response": "```python\ndef find_k_closest_elements(arr, target, k):\n    \"\"\"\n    Finds the k closest elements to the target in a sorted array.\n    \n    Parameters:\n    arr (List[int]): The sorted array of integers.\n    target (int): The target integer.\n    k (int): The number of closest elements to find.\n    \n    Returns:\n    List[int]: A list of k closest elements in ascending order.\n    \"\"\"\n    left, right = 0, len(arr) - k\n    while left < right:\n        mid = (left + right) // 2\n        mid_val = arr[mid]\n        mid_k_val = arr[mid + k]\n        if target - mid_val <= mid_k_val - target:\n            right = mid\n        else:\n            left = mid + 1\n    return arr[left: left + k]\n\n# Example usage:\narr = [1, 3, 5, 6, 8, 9]\ntarget = 7\nk = 3\nprint(find_k_closest_elements(arr, target, k))  # Output: [5, 6, 8]\n```"}
{"text": "Implement a Python class `Car` with the following specifications:\n\n- **Attributes:**\n  - `make`: A string representing the make of the car.\n  - `model`: A string representing the model of the car.\n  - `year`: An integer representing the year the car was manufactured.\n  - `mileage`: An integer representing the mileage of the car in miles.\n  - `color`: A string representing the color of the car.\n\n- **Methods:**\n  - `__init__(self, make, model, year, mileage, color)`: Initializes a new instance of the `Car` class with the specified attributes.\n  - `__str__(self)`: Returns a string representation of the car in the format: `Car(make='make', model='model', year=year, mileage=mileage, color='color')`.\n  - `drive(self, distance)`: Increases the car's mileage by the specified distance. Raises a `ValueError` if the distance is negative.\n  - `paint(self, new_color)`: Changes the car's color to the specified new color.\n\n**Sample Input/Output:**\n```python\nmy_car = Car(\"Toyota\", \"Corolla\", 2020, 15000, \"blue\")\nprint(my_car)  # Output: Car(make='Toyota', model='Corolla', year=2020, mileage=15000, color='blue')\nmy_car.drive(300)\nprint(my_car)  # Output: Car(make='Toyota', model='Corolla', year=2020, mileage=15300, color='blue')\nmy_car.paint(\"red\")\nprint(my_car)  # Output: Car(make='Toyota', model='Corolla', year=2020, mileage=15300, color='red')\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, mileage, color):\n        \"\"\"\n        Initializes a new instance of the Car class.\n\n        :param make: The make of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        :param mileage: The mileage of the car in miles.\n        :param color: The color of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.mileage = mileage\n        self.color = color\n\n    def __str__(self):\n        \"\"\"\n        Returns a string representation of the car.\n\n        :return: A string in the format: Car(make='make', model='model', year=year, mileage=mileage, color='color')\n        \"\"\"\n        return (f\"Car(make='{self.make}', model='{self.model}', year={self.year}, \"\n                f\"mileage={self.mileage}, color='{self.color}')\")\n\n    def drive(self, distance):\n        \"\"\"\n        Increases the car's mileage by the specified distance.\n\n        :param distance: The distance to drive.\n        :raises ValueError: If the distance is negative.\n        \"\"\"\n        if distance < 0:\n            raise ValueError(\"Distance cannot be negative\")\n        self.mileage += distance\n\n    def paint(self, new_color):\n        \"\"\"\n        Changes the car's color to the specified new color.\n\n        :param new_color: The new color of the car.\n        \"\"\"\n        self.color = new_color\n```"}
{"text": "You are given a string `s`. Your task is to find the longest palindromic substring within `s`. If there are multiple palindromic substrings of the same maximum length, return the one that appears first in the string.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 1000), consisting of lowercase English letters.\n\n**Output:**\n- A single string representing the longest palindromic substring.\n\n**Sample Input:**\n```\nbabad\n```\n\n**Sample Output:**\n```\nbab\n```", "response": "```python\ndef longest_palindromic_substring(s: str) -> str:\n    \"\"\"\n    Finds the longest palindromic substring in the given string s.\n    \n    :param s: Input string\n    :return: Longest palindromic substring\n    \"\"\"\n    if not s:\n        return \"\"\n    \n    def expand_around_center(left: int, right: int) -> str:\n        \"\"\"\n        Expands around the center indices left and right to find the longest palindrome.\n        \n        :param left: Left index\n        :param right: Right index\n        :return: Longest palindromic substring found by expanding around the center\n        \"\"\"\n        while left >= 0 and right < len(s) and s[left] == s[right]:\n            left -= 1\n            right += 1\n        return s[left + 1:right]\n    \n    longest = \"\"\n    for i in range(len(s)):\n        # Odd length palindromes\n        odd_palindrome = expand_around_center(i, i)\n        if len(odd_palindrome) > len(longest):\n            longest = odd_palindrome\n        \n        # Even length palindromes\n        even_palindrome = expand_around_center(i, i + 1)\n        if len(even_palindrome) > len(longest):\n            longest = even_palindrome\n            \n    return longest\n\n# Test the function\ninput_string = \"babad\"\nprint(longest_palindromic_substring(input_string))\n```"}
{"text": "You are tasked with implementing a `BankAccount` class in Python. The class should manage the balance of a bank account and support basic operations such as depositing and withdrawing money. The class should have the following specifications:\n\n- **Attributes:**\n  - `balance`: A float representing the current balance in the account, initialized to 0.0.\n\n- **Methods:**\n  - `deposit(amount)`: Adds a specified positive amount to the account balance. If the amount is not positive, raise a `ValueError` with the message \"Deposit amount must be positive\".\n  - `withdraw(amount)`: Subtracts a specified positive amount from the account balance. If the amount is not positive, raise a `ValueError` with the message \"Withdrawal amount must be positive\". If the withdrawal would result in a negative balance, raise a `ValueError` with the message \"Insufficient funds for the withdrawal\".\n  - `get_balance()`: Returns the current balance of the account.\n\n**Sample Input/Output:**\n```python\naccount = BankAccount()\naccount.deposit(100.0)\nprint(account.get_balance())  # Output: 100.0\naccount.withdraw(50.0)\nprint(account.get_balance())  # Output: 50.0\naccount.withdraw(60.0)        # Raises ValueError: Insufficient funds for the withdrawal\n```", "response": "```python\nclass BankAccount:\n    def __init__(self):\n        \"\"\"\n        Initializes a new BankAccount with a balance of 0.0.\n        \"\"\"\n        self.balance = 0.0\n\n    def deposit(self, amount):\n        \"\"\"\n        Adds a specified positive amount to the account balance.\n        \n        :param amount: A float representing the amount to deposit.\n        :raises ValueError: If the amount is not positive.\n        \"\"\"\n        if amount > 0:\n            self.balance += amount\n        else:\n            raise ValueError(\"Deposit amount must be positive\")\n\n    def withdraw(self, amount):\n        \"\"\"\n        Subtracts a specified positive amount from the account balance.\n        \n        :param amount: A float representing the amount to withdraw.\n        :raises ValueError: If the amount is not positive or if the withdrawal would result in a negative balance.\n        \"\"\"\n        if amount > 0:\n            if self.balance - amount >= 0:\n                self.balance -= amount\n            else:\n                raise ValueError(\"Insufficient funds for the withdrawal\")\n        else:\n            raise ValueError(\"Withdrawal amount must be positive\")\n\n    def get_balance(self):\n        \"\"\"\n        Returns the current balance of the account.\n        \n        :return: A float representing the current balance.\n        \"\"\"\n        return self.balance\n```"}
{"text": "You are tasked with implementing a function `validate_email` that checks if a given email address is valid according to the specified rules. An email address is considered valid if it adheres to the format `username@domain.extension`, where:\n- The `username` can consist of letters (both uppercase and lowercase), digits, and the special characters `._%+-`.\n- The `domain` can consist of letters, digits, and the special characters `.-`, and must contain at least one dot.\n- The `extension` must be composed of letters and have a length between 2 and 6 characters.\n\nYour function should return `True` if the email address is valid, and `False` otherwise.\n\n**Sample Input and Output:**\n- Input: `\"test.email+alex@leetcode.com\"`\n  - Output: `True`\n- Input: `\"plainaddress\"`\n  - Output: `False`\n- Input: `\"username@domain.toolongextension\"`\n  - Output: `False`", "response": "```python\nimport re\n\ndef validate_email(email):\n    \"\"\"\n    Validates an email address based on specific rules.\n\n    Parameters:\n    email (str): The email address to validate.\n\n    Returns:\n    bool: True if the email address is valid, False otherwise.\n    \"\"\"\n    pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$'\n    return bool(re.match(pattern, email))\n\n# Test cases (optional)\nprint(validate_email(\"test.email+alex@leetcode.com\"))  # True\nprint(validate_email(\"test.e.mail+bob.cathy@leetcode.com\"))  # True\nprint(validate_email(\"testemail+david@lee.tcode.com\"))  # True\nprint(validate_email(\"plainaddress\"))  # False\nprint(validate_email(\"@missingusername.com\"))  # False\nprint(validate_email(\"username@.com\"))  # False\nprint(validate_email(\"username@domain.c\"))  # False\nprint(validate_email(\"username@domain.toolongextension\"))  # False\n```"}
{"text": "You are given a dictionary representing the salaries of employees in a company, where the keys are the names of the employees and the values are their respective salaries. Your task is to implement a function `add_bonus` that accepts this dictionary and a bonus amount as parameters. The function should return a new dictionary with the same keys, but with each salary incremented by the specified bonus amount.\n\n**Input:**\n- A dictionary `salaries` where each key is a string representing an employee's name and each value is an integer representing the employee's salary.\n- An integer `bonus` representing the bonus amount to be added to each salary.\n\n**Output:**\n- A dictionary with the same keys as `salaries`, but with each value increased by `bonus`.\n\n**Sample Input:**\n```python\n{\"Alice\": 50000, \"Bob\": 60000, \"Charlie\": 70000}, 5000\n```\n\n**Sample Output:**\n```python\n{\"Alice\": 55000, \"Bob\": 65000, \"Charlie\": 75000}\n```", "response": "```python\ndef add_bonus(salaries, bonus):\n    \"\"\"\n    Adds a bonus amount to each employee's salary in the given dictionary.\n\n    Parameters:\n    salaries (dict): A dictionary with employee names as keys and their salaries as values.\n    bonus (int): The bonus amount to be added to each salary.\n\n    Returns:\n    dict: A new dictionary with the same employee names as keys and updated salaries as values.\n    \"\"\"\n    return {name: salary + bonus for name, salary in salaries.items()}\n```"}
{"text": "You are given a string `sentence` representing a sentence. Your task is to implement a function `convert_to_title_case` that converts the sentence to title case according to the following rules:\n- The first letter of each word should be capitalized, and the rest of the letters should be in lowercase.\n- Words that are shorter than 3 characters should not be capitalized unless they are the first word in the sentence.\n\n**Input:**\n- A single string `sentence` (1 ≤ len(sentence) ≤ 1000) consisting of lowercase letters and spaces.\n\n**Output:**\n- A single string representing the sentence in title case.\n\n**Sample Input:**\n```\nthis is a simple test sentence.\n```\n\n**Sample Output:**\n```\nThis Is a Simple Test Sentence.\n```", "response": "```python\ndef convert_to_title_case(sentence):\n    \"\"\"\n    Convert a given sentence to title case according to specific rules:\n    - Capitalize the first letter of each word and make the rest lowercase.\n    - Words shorter than 3 characters should not be capitalized unless they are the first word.\n    \n    :param sentence: A string representing the sentence to be converted.\n    :return: A string representing the sentence in title case.\n    \"\"\"\n    words = sentence.split()\n    title_cased_words = [word.capitalize() if (index == 0 or len(word) >= 3) else word.lower() \n                         for index, word in enumerate(words)]\n    return ' '.join(title_cased_words)\n\n# Test the function\ninput_sentence = \"this is a simple test sentence.\"\noutput_sentence = convert_to_title_case(input_sentence)\nprint(output_sentence)  # Output should be: \"This Is a Simple Test Sentence.\"\n```"}
{"text": "You are given a dictionary where each key is unique. Your task is to write a function that returns a new dictionary with keys and values swapped. If the original dictionary contains duplicate values, the function should raise a `ValueError` with the message \"Duplicate values found in the dictionary\". \n\n**Input:**\n- A dictionary with unique keys but potentially duplicate values.\n\n**Output:**\n- A dictionary with keys and values swapped if no duplicate values are present.\n- A `ValueError` with the message \"Duplicate values found in the dictionary\" if duplicate values are present.\n\n**Sample Input:**\n```python\n{\"a\": 1, \"b\": 2, \"c\": 3}\n```\n\n**Sample Output:**\n```python\n{1: 'a', 2: 'b', 3: 'c'}\n```", "response": "```python\ndef reverse_dict(input_dict):\n    \"\"\"\n    Reverses the keys and values of the input dictionary.\n    \n    Args:\n    input_dict (dict): A dictionary with unique keys but potentially duplicate values.\n    \n    Returns:\n    dict: A new dictionary with keys and values swapped.\n    \n    Raises:\n    ValueError: If the input dictionary contains duplicate values.\n    \"\"\"\n    reversed_dict = {}\n    values_seen = set()\n\n    for key, value in input_dict.items():\n        if value in values_seen:\n            raise ValueError(\"Duplicate values found in the dictionary\")\n        values_seen.add(value)\n        reversed_dict[value] = key\n\n    return reversed_dict\n\n# Example usage:\ninput_dict = {\"a\": 1, \"b\": 2, \"c\": 3}\noutput_dict = reverse_dict(input_dict)\nprint(output_dict)  # Output: {1: 'a', 2: 'b', 3: 'c'}\n```"}
{"text": "You are given a list of strings, where each string is a valid arithmetic expression consisting of integers and the operators `+`, `-`, `*`, and `/`. Your task is to implement a function `evaluate_expressions` that evaluates each expression and returns a list of results. If an expression results in a division by zero, append \"Error: Division by zero\" to the results list. For any other invalid expression, append \"Error: Invalid expression\". \n\n**Input:**\n- A list of strings, where each string is an arithmetic expression.\n\n**Output:**\n- A list of evaluated results or error messages.\n\n**Sample Input:**\n```python\n[\"3 + 5\", \"12 - 3\", \"4 * 7\", \"10 / 2\", \"10 / 0\", \"invalid_expr\"]\n```\n\n**Sample Output:**\n```python\n[8, 9, 28, 5.0, \"Error: Division by zero\", \"Error: Invalid expression\"]\n```", "response": "```python\ndef evaluate_expressions(expressions):\n    \"\"\"\n    Evaluates a list of arithmetic expressions and returns a list of results.\n    Handles division by zero and invalid expressions gracefully.\n    \n    :param expressions: List of strings, each representing an arithmetic expression.\n    :return: List of evaluated results or error messages.\n    \"\"\"\n    results = []\n    for expr in expressions:\n        try:\n            result = eval(expr, {\"__builtins__\": None}, {})\n            results.append(result)\n        except ZeroDivisionError:\n            results.append(\"Error: Division by zero\")\n        except Exception:\n            results.append(\"Error: Invalid expression\")\n    return results\n\n# Example usage:\nexpressions = [\"3 + 5\", \"12 - 3\", \"4 * 7\", \"10 / 2\", \"10 / 0\", \"invalid_expr\"]\nprint(evaluate_expressions(expressions))\n```"}
{"text": "Implement a Python class `Vehicle` with an initializer that accepts three parameters: `make`, `model`, and `year`. The class should include the following methods:\n- `start()`: Prints \"Engine started\".\n- `stop()`: Prints \"Engine stopped\".\n- `display_info()`: Prints the vehicle's make, model, and year in the format \"Make: [make], Model: [model], Year: [year]\".\n\n**Sample Input:**\n```\nToyota\nCorolla\n2021\n```\n\n**Sample Output:**\n```\nEngine started\nEngine stopped\nMake: Toyota, Model: Corolla, Year: 2021\n```", "response": "```python\nclass Vehicle:\n    def __init__(self, make, model, year):\n        \"\"\"\n        Initializes a new Vehicle instance with the given make, model, and year.\n\n        :param make: The make of the vehicle.\n        :param model: The model of the vehicle.\n        :param year: The year of the vehicle.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n\n    def start(self):\n        \"\"\"\n        Prints a message indicating that the engine has started.\n        \"\"\"\n        print(\"Engine started\")\n\n    def stop(self):\n        \"\"\"\n        Prints a message indicating that the engine has stopped.\n        \"\"\"\n        print(\"Engine stopped\")\n\n    def display_info(self):\n        \"\"\"\n        Prints the make, model, and year of the vehicle in the format:\n        \"Make: [make], Model: [model], Year: [year]\".\n        \"\"\"\n        print(f\"Make: {self.make}, Model: {self.model}, Year: {self.year}\")\n\n# Example usage:\n# vehicle = Vehicle(\"Toyota\", \"Corolla\", 2021)\n# vehicle.start()\n# vehicle.stop()\n# vehicle.display_info()\n```"}
{"text": "You are given a list of strings. Your task is to write a Python function that computes the frequency of each word across all strings, ignoring punctuation and case differences. The function should return a dictionary with words as keys and their frequencies as values. Use regular expressions to handle punctuation.\n\n**Sample Input:**\n```python\n[\"Hello, world!\", \"The world is beautiful.\", \"Hello everyone!\"]\n```\n\n**Sample Output:**\n```python\n{'hello': 2, 'world': 2, 'the': 1, 'is': 1, 'beautiful': 1, 'everyone': 1}\n```", "response": "```python\nimport re\nfrom collections import defaultdict\n\ndef word_frequency(strings):\n    \"\"\"\n    Computes the frequency of each word in a list of strings, ignoring punctuation and case differences.\n    \n    :param strings: List of strings to process.\n    :return: Dictionary with words as keys and their frequencies as values.\n    \"\"\"\n    frequency = defaultdict(int)\n    words_pattern = re.compile(r'\\b\\w+\\b')\n    \n    for string in strings:\n        words = words_pattern.findall(string.lower())\n        for word in words:\n            frequency[word] += 1\n    \n    return dict(frequency)\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `sum_even_numbers` that computes the sum of all even numbers in the list. If the list is empty or contains no even numbers, the function should return 0. \n\n**Input:**\n- A list of integers `numbers` (0 ≤ len(numbers) ≤ 1000, -1000 ≤ numbers[i] ≤ 1000).\n\n**Output:**\n- An integer representing the sum of all even numbers in the list.\n\n**Sample Input:**\n```\n[1, 2, 3, 4, 5, 6]\n```\n\n**Sample Output:**\n```\n12\n```", "response": "```python\ndef sum_even_numbers(numbers):\n    \"\"\"\n    Computes the sum of all even numbers in the given list of integers.\n    \n    Parameters:\n    numbers (list of int): The list of integers to process.\n    \n    Returns:\n    int: The sum of all even numbers in the list. Returns 0 if there are no even numbers.\n    \"\"\"\n    return sum(number for number in numbers if number % 2 == 0)\n\n# Test the function with the given list\ntest_list = [1, 2, 3, 4, 5, 6]\nresult = sum_even_numbers(test_list)\nprint(result)  # Output should be 12\n```"}
{"text": "You are given a string `text` representing a sentence. Your task is to reverse each word in the sentence while maintaining the original order of the words. Implement the function `reverse_words(text)` that takes a string `text` as input and returns the modified string.\n\n**Constraints:**\n- The input string `text` consists of words separated by spaces.\n- Words are composed of lowercase and uppercase English letters and may include punctuation.\n- The length of `text` is at most 1000 characters.\n\n**Sample Input:**\n```\n\"Hello world this is a test\"\n```\n\n**Sample Output:**\n```\n\"olleH dlrow siht si a tset\"\n```", "response": "```python\ndef reverse_words(text):\n    \"\"\"\n    Reverses each word in the given sentence while maintaining the order of the words.\n\n    :param text: A string representing the sentence.\n    :return: A string with each word reversed.\n    \"\"\"\n    words = text.split()\n    reversed_words = [word[::-1] for word in words]\n    reversed_sentence = ' '.join(reversed_words)\n    return reversed_sentence\n\n# Example usage\ntext = \"Hello world this is a test\"\nresult = reverse_words(text)\nprint(result)  # Output: \"olleH dlrow siht si a tset\"\n```"}
{"text": "You are given a string `s` consisting of alphanumeric characters. Your task is to implement a function `find_largest_digit_sequence(s)` that identifies and returns the longest contiguous sequence of digits within the string. If there are multiple sequences of the same maximum length, return the first one encountered. \n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5) containing alphanumeric characters.\n\n**Output:**\n- A string representing the longest contiguous sequence of digits. If no digits are present, return an empty string.\n\n**Sample Input:**\n```\nabc123def4567ghi\n```\n\n**Sample Output:**\n```\n4567\n```", "response": "```python\ndef find_largest_digit_sequence(s):\n    \"\"\"\n    Finds the longest contiguous sequence of digits in the given string.\n    \n    Parameters:\n    s (str): The input string containing alphanumeric characters.\n    \n    Returns:\n    str: The longest contiguous sequence of digits. Returns an empty string if no digits are found.\n    \"\"\"\n    max_sequence = \"\"\n    current_sequence = \"\"\n    \n    for char in s:\n        if char.isdigit():\n            current_sequence += char\n        else:\n            if len(current_sequence) > len(max_sequence):\n                max_sequence = current_sequence\n            current_sequence = \"\"\n    \n    if len(current_sequence) > len(max_sequence):\n        max_sequence = current_sequence\n    \n    return max_sequence\n\n# Test the function with the provided example\nprint(find_largest_digit_sequence(\"abc123def4567ghi\"))  # Output should be \"4567\"\n```"}
{"text": "You are given a list of unique items and an integer representing the maximum length of combinations. Your task is to implement a function `generate_combinations` that generates all possible combinations of the items, including the empty set and the set containing all items, up to the specified maximum length. The function should return a list of tuples, where each tuple represents a combination. The order of the combinations in the list does not matter.\n\n**Input:**\n- A list of unique items, `items` (1 ≤ len(items) ≤ 10).\n- An integer `max_combination_length` (0 ≤ max_combination_length ≤ len(items)).\n\n**Output:**\n- A list of tuples, where each tuple is a combination of items.\n\n**Sample Input:**\n```python\nitems = ['a', 'b', 'c']\nmax_combination_length = 2\n```\n\n**Sample Output:**\n```python\n[(), ('a',), ('b',), ('c',), ('a', 'b'), ('a', 'c'), ('b', 'c')]\n```", "response": "```python\nfrom itertools import combinations\n\ndef generate_combinations(items, max_combination_length):\n    \"\"\"\n    Generate all possible combinations of the given items up to the specified maximum length.\n    \n    :param items: List of unique items.\n    :param max_combination_length: Maximum length of the combinations.\n    :return: List of tuples, each representing a combination.\n    \"\"\"\n    all_combinations = []\n    for r in range(max_combination_length + 1):\n        all_combinations.extend(combinations(items, r))\n    return all_combinations\n```"}
{"text": "You are tasked with implementing a `Matrix` class that supports basic matrix operations. Your class should include the following functionalities:\n\n- **Initialization**: Create a matrix with specified dimensions. Optionally, initialize with given data.\n- **String Representation**: Provide a string representation of the matrix.\n- **Addition**: Add two matrices of the same dimensions.\n- **Multiplication**: Multiply two matrices, ensuring the number of columns in the first matrix matches the number of rows in the second matrix.\n- **Transpose**: Return the transpose of the matrix.\n- **Determinant**: Compute the determinant of the matrix, valid only for square matrices.\n\nImplement the `Matrix` class with the methods described above. Do not use any external libraries.\n\n**Sample Input/Output**:\n```python\n# Initialization and String Representation\nmatrix1 = Matrix(2, 2, [[1, 2], [3, 4]])\nprint(matrix1)  # Output: 1 2\\n3 4\n\n# Addition\nmatrix2 = Matrix(2, 2, [[5, 6], [7, 8]])\nmatrix3 = matrix1 + matrix2\nprint(matrix3)  # Output: 6 8\\n10 12\n\n# Multiplication\nmatrix4 = Matrix(2, 2, [[2, 0], [1, 2]])\nmatrix5 = matrix1 * matrix4\nprint(matrix5)  # Output: 4 4\\n8 14\n\n# Transpose\nmatrix6 = matrix1.transpose()\nprint(matrix6)  # Output: 1 3\\n2 4\n\n# Determinant\ndet = matrix1.determinant()\nprint(det)  # Output: -2\n```", "response": "```python\nclass Matrix:\n    def __init__(self, rows, cols, data=None):\n        \"\"\"\n        Initializes a matrix with given rows and columns.\n        If data is provided, initializes the matrix with the given data.\n        Otherwise, initializes a zero matrix.\n        \"\"\"\n        if data:\n            self.data = data\n        else:\n            self.data = [[0 for _ in range(cols)] for _ in range(rows)]\n        self.rows = rows\n        self.cols = cols\n\n    def __str__(self):\n        \"\"\"\n        Returns a string representation of the matrix.\n        \"\"\"\n        return '\\n'.join([' '.join(map(str, row)) for row in self.data])\n\n    def __add__(self, other):\n        \"\"\"\n        Adds two matrices of the same dimensions.\n        Raises ValueError if dimensions do not match.\n        \"\"\"\n        if self.rows != other.rows or self.cols != other.cols:\n            raise ValueError(\"Matrices dimensions must match for addition\")\n        result = [[self.data[i][j] + other.data[i][j] for j in range(self.cols)] for i in range(self.rows)]\n        return Matrix(self.rows, self.cols, result)\n\n    def __mul__(self, other):\n        \"\"\"\n        Multiplies two matrices.\n        Raises ValueError if the number of columns in the first matrix\n        does not match the number of rows in the second matrix.\n        \"\"\"\n        if self.cols != other.rows:\n            raise ValueError(\"Number of columns in the first matrix must be equal to the number of rows in the second matrix\")\n        result = [[sum(self.data[i][k] * other.data[k][j] for k in range(self.cols)) for j in range(other.cols)] for i in range(self.rows)]\n        return Matrix(self.rows, other.cols, result)\n\n    def transpose(self):\n        \"\"\"\n        Returns the transpose of the matrix.\n        \"\"\"\n        result = [[self.data[j][i] for j in range(self.rows)] for i in range(self.cols)]\n        return Matrix(self.cols, self.rows, result)\n\n    def minor(self, i, j):\n        \"\"\"\n        Returns the minor of the matrix after removing the i-th row and j-th column.\n        \"\"\"\n        return [row[:j] + row[j+1:] for row in (self.data[:i] + self.data[i+1:])]\n\n    def determinant(self):\n        \"\"\"\n        Computes the determinant of the matrix.\n        Raises ValueError if the matrix is not square.\n        \"\"\"\n        if self.rows != self.cols:\n            raise ValueError(\"Determinant is only defined for square matrices\")\n        if self.rows == 1:\n            return self.data[0][0]\n        if self.rows == 2:\n            return (self.data[0][0] * self.data[1][1]) - (self.data[0][1] * self.data[1][0])\n        det = 0\n        for c in range(self.cols):\n            det += ((-1)**c) * self.data[0][c] * Matrix(self.minor(0, c)).determinant()\n        return det\n```"}
{"text": "You are given a list of integers. Your task is to write a function that removes all duplicate elements from the list while maintaining the order of their first occurrence. You are not allowed to use any built-in functions specifically designed for removing duplicates.\n\n**Input:**\n- A list of integers, `input_list`.\n\n**Output:**\n- A list of integers with duplicates removed, preserving the order of the first occurrences.\n\n**Sample Input:**\n```\n[1, 2, 3, 2, 1, 4, 5]\n```\n\n**Sample Output:**\n```\n[1, 2, 3, 4, 5]\n```", "response": "```python\ndef remove_duplicates(input_list):\n    \"\"\"\n    Removes all duplicate elements from the input list while preserving the order of their first occurrence.\n\n    :param input_list: List of integers from which duplicates need to be removed.\n    :return: A new list with duplicates removed.\n    \"\"\"\n    result = []\n    seen = set()\n    for item in input_list:\n        if item not in seen:\n            result.append(item)\n            seen.add(item)\n    return result\n```"}
{"text": "You are given an array of integers `nums` and an integer `target`. Your task is to find two distinct indices `i` and `j` such that `nums[i] + nums[j] = target`. Return the indices as a list in ascending order. If no such pair exists, return an empty list.\n\n**Constraints:**\n- `2 <= len(nums) <= 10^4`\n- `-10^9 <= nums[i] <= 10^9`\n- `-10^9 <= target <= 10^9`\n\n**Sample Input:**\n```\nnums = [2, 7, 11, 15]\ntarget = 9\n```\n\n**Sample Output:**\n```\n[0, 1]\n```", "response": "```python\ndef two_sum(nums, target):\n    \"\"\"\n    Finds two distinct indices in the list `nums` such that the numbers at those indices add up to `target`.\n    \n    :param nums: List of integers.\n    :param target: Target sum of two integers.\n    :return: List of two indices in ascending order if a pair is found, otherwise an empty list.\n    \"\"\"\n    num_map = {}\n    for index, num in enumerate(nums):\n        complement = target - num\n        if complement in num_map:\n            return [num_map[complement], index]\n        num_map[num] = index\n    return []\n```"}
{"text": "You are given a URL query string as a string `query_string`. Your task is to implement a function `parse_query_string(query_string)` that parses the query string and returns a dictionary where each key is a parameter name and each value is the corresponding parameter value. Assume that the query string is well-formed and does not contain any URL-encoded characters.\n\n**Input:**\n- A single string `query_string` (1 ≤ |query_string| ≤ 1000) representing the URL query string.\n\n**Output:**\n- A dictionary with keys and values extracted from the query string.\n\n**Sample Input:**\n```\n\"name=Alice&age=30&city=Wonderland\"\n```\n\n**Sample Output:**\n```\n{'name': 'Alice', 'age': '30', 'city': 'Wonderland'}\n```", "response": "```python\ndef parse_query_string(query_string):\n    \"\"\"\n    Parses a URL query string and returns a dictionary of key-value pairs.\n\n    :param query_string: A string representing the URL query string.\n    :return: A dictionary with parameter names as keys and parameter values as values.\n    \"\"\"\n    params = {}\n    pairs = query_string.split('&')\n    for pair in pairs:\n        key, value = pair.split('=')\n        params[key] = value\n    return params\n\n# Example usage:\n# result = parse_query_string(\"name=Alice&age=30&city=Wonderland\")\n# print(result)  # Output should be {'name': 'Alice', 'age': '30', 'city': 'Wonderland'}\n```"}
{"text": "You are tasked with writing a unit test for the `convert_numbers_to_words` function using the `unittest` framework in Python. The function is defined in a module named `number_utils`. Your unit test should cover a variety of cases including positive and negative integers, positive and negative floating-point numbers, and zero. Your test should include at least five test cases.\n\n**Sample Input and Output:**\n- `convert_numbers_to_words(1)` should return `\"one\"`\n- `convert_numbers_to_words(-12)` should return `\"negative twelve\"`\n- `convert_numbers_to_words(0.25)` should return `\"zero point two five\"`\n- `convert_numbers_to_words(-123.456)` should return `\"negative one hundred twenty three point four five six\"`\n- `convert_numbers_to_words(0)` should return `\"zero\"`", "response": "```python\nimport unittest\nfrom number_utils import convert_numbers_to_words\n\nclass TestNumberUtils(unittest.TestCase):\n    \"\"\"\n    A test suite for the convert_numbers_to_words function.\n    \"\"\"\n\n    def test_positive_integers(self):\n        \"\"\"\n        Test conversion of positive integers to words.\n        \"\"\"\n        self.assertEqual(convert_numbers_to_words(1), \"one\")\n        self.assertEqual(convert_numbers_to_words(12), \"twelve\")\n        self.assertEqual(convert_numbers_to_words(100), \"one hundred\")\n\n    def test_negative_integers(self):\n        \"\"\"\n        Test conversion of negative integers to words.\n        \"\"\"\n        self.assertEqual(convert_numbers_to_words(-1), \"negative one\")\n        self.assertEqual(convert_numbers_to_words(-12), \"negative twelve\")\n        self.assertEqual(convert_numbers_to_words(-100), \"negative one hundred\")\n\n    def test_positive_float(self):\n        \"\"\"\n        Test conversion of positive floating-point numbers to words.\n        \"\"\"\n        self.assertEqual(convert_numbers_to_words(1.5), \"one point five\")\n        self.assertEqual(convert_numbers_to_words(0.25), \"zero point two five\")\n        self.assertEqual(convert_numbers_to_words(123.456), \"one hundred twenty three point four five six\")\n\n    def test_negative_float(self):\n        \"\"\"\n        Test conversion of negative floating-point numbers to words.\n        \"\"\"\n        self.assertEqual(convert_numbers_to_words(-1.5), \"negative one point five\")\n        self.assertEqual(convert_numbers_to_words(-0.25), \"negative zero point two five\")\n        self.assertEqual(convert_numbers_to_words(-123.456), \"negative one hundred twenty three point four five six\")\n\n    def test_zero(self):\n        \"\"\"\n        Test conversion of zero to words.\n        \"\"\"\n        self.assertEqual(convert_numbers_to_words(0), \"zero\")\n\nif __name__ == '__main__':\n    unittest.main()\n```"}
{"text": "You are given a task to process a CSV file named `employees.csv` which contains the following columns: \"name\", \"age\", \"salary\". Your program should read this file, compute the average salary, and print it formatted to two decimal places. If the file does not exist, is empty, or lacks the required columns, your program should output an appropriate error message. \n\n**Sample Input:**\nFile `employees.csv` contains:\n```\nname,age,salary\nAlice,30,50000\nBob,25,60000\nCharlie,35,55000\n```\n\n**Sample Output:**\n```\nThe average salary is: 55000.00\n```\n\n**Sample Input:**\nFile `employees.csv` is empty.\n\n**Sample Output:**\n```\nThe file is empty or does not contain any valid salary data.\n```\n\n**Sample Input:**\nFile `nonexistent.csv` does not exist.\n\n**Sample Output:**\n```\nError: The file 'nonexistent.csv' does not exist.\n```", "response": "```python\nimport csv\nimport os\n\ndef calculate_average_salary(file_path):\n    \"\"\"\n    Reads a CSV file to calculate and print the average salary.\n    \n    Parameters:\n    file_path (str): The path to the CSV file.\n    \n    Returns:\n    None\n    \"\"\"\n    if not os.path.isfile(file_path):\n        print(f\"Error: The file '{file_path}' does not exist.\")\n        return\n    \n    total_salary = 0\n    count = 0\n    \n    with open(file_path, mode='r', newline='') as file:\n        csv_reader = csv.DictReader(file)\n        if csv_reader.fieldnames is None or 'salary' not in csv_reader.fieldnames:\n            print(\"Error: The file is missing the required columns.\")\n            return\n        \n        for row in csv_reader:\n            try:\n                salary = float(row['salary'])\n                total_salary += salary\n                count += 1\n            except ValueError:\n                print(f\"Warning: Skipping row with invalid salary data: {row}\")\n    \n    if count == 0:\n        print(\"The file is empty or does not contain any valid salary data.\")\n    else:\n        average_salary = total_salary / count\n        print(f\"The average salary is: {average_salary:.2f}\")\n\n# Example usage:\ncalculate_average_salary('employees.csv')\n```"}
{"text": "You are given a Python dictionary `person_info` with keys 'name', 'age', and 'city'. Your task is to implement a function `format_person_info(info)` that returns a string formatted as \"Name: [name], Age: [age], City: [city]\". \n\n**Input:**\n- A dictionary `person_info` with the following structure:\n  - `person_info['name']`: A string representing the person's name.\n  - `person_info['age']`: An integer representing the person's age.\n  - `person_info['city']`: A string representing the city where the person lives.\n\n**Output:**\n- A string formatted as \"Name: [name], Age: [age], City: [city]\".\n\n**Sample Input:**\n```python\nperson_info = {\n    'name': 'Alice Johnson',\n    'age': 28,\n    'city': 'Los Angeles'\n}\n```\n\n**Sample Output:**\n```\nName: Alice Johnson, Age: 28, City: Los Angeles\n```", "response": "```python\ndef format_person_info(info):\n    \"\"\"\n    Formats the given dictionary containing a person's information into a string.\n\n    Parameters:\n    info (dict): A dictionary with keys 'name', 'age', and 'city'.\n\n    Returns:\n    str: A formatted string in the form \"Name: [name], Age: [age], City: [city]\".\n    \"\"\"\n    return f\"Name: {info['name']}, Age: {info['age']}, City: {info['city']}\"\n\n# Example usage\nperson_info = {\n    'name': 'Alice Johnson',\n    'age': 28,\n    'city': 'Los Angeles'\n}\n\nformatted_string = format_person_info(person_info)\nprint(formatted_string)  # Output: Name: Alice Johnson, Age: 28, City: Los Angeles\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `sort_even_odd` that processes this list and returns a tuple of two lists. The first list should contain all even numbers from the input list, sorted in ascending order. The second list should contain all odd numbers from the input list, also sorted in ascending order.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^3), where each integer `num` satisfies -10^3 ≤ num ≤ 10^3.\n\n**Output:**\n- A tuple of two lists: `(evens, odds)`, where `evens` is a list of even numbers sorted in ascending order, and `odds` is a list of odd numbers sorted in ascending order.\n\n**Sample Input:**\n```\n[3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]\n```\n\n**Sample Output:**\n```\n([2, 4, 6], [1, 1, 3, 3, 5, 5, 5, 9])\n```", "response": "```python\ndef sort_even_odd(numbers):\n    \"\"\"\n    Sorts the even and odd numbers from the input list separately.\n\n    Parameters:\n    numbers (list): A list of integers.\n\n    Returns:\n    tuple: A tuple containing two lists, the first with sorted even numbers and the second with sorted odd numbers.\n    \"\"\"\n    evens = sorted([num for num in numbers if num % 2 == 0])\n    odds = sorted([num for num in numbers if num % 2 != 0])\n    return (evens, odds)\n\n# Example test case\ninput_list = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]\noutput = sort_even_odd(input_list)\nprint(output)  # Expected output: ([2, 4, 6], [1, 1, 3, 3, 5, 5, 5, 9])\n```"}
{"text": "You are given a string `s`. Your task is to determine if `s` is a palindrome, considering only alphanumeric characters and ignoring cases. A string is a palindrome if it reads the same forward and backward.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5), where |s| denotes the length of the string.\n\n**Output:**\n- Return `True` if `s` is a palindrome, otherwise return `False`.\n\n**Sample Input:**\n```\nA man, a plan, a canal: Panama\n```\n\n**Sample Output:**\n```\nTrue\n```\n\n**Sample Input:**\n```\nWas it a car or a cat I saw?\n```\n\n**Sample Output:**\n```\nTrue\n```\n\n**Sample Input:**\n```\nHello World\n```\n\n**Sample Output:**\n```\nFalse\n```", "response": "```python\ndef is_palindrome(s):\n    \"\"\"\n    Determines if the given string s is a palindrome, considering only alphanumeric characters and ignoring cases.\n    \n    :param s: Input string\n    :return: True if s is a palindrome, False otherwise\n    \"\"\"\n    filtered_chars = [char.lower() for char in s if char.isalnum()]\n    filtered_string = ''.join(filtered_chars)\n    return filtered_string == filtered_string[::-1]\n\n# Test cases\nprint(is_palindrome(\"A man, a plan, a canal: Panama\"))  # Expected: True\nprint(is_palindrome(\"Was it a car or a cat I saw?\"))    # Expected: True\nprint(is_palindrome(\"Hello World\"))                     # Expected: False\n```"}
{"text": "You are given a list of integers. Your task is to implement a function that calculates the sum of all even numbers in the list. The function should accept a list of integers as its parameter and return the sum as an integer. If there are no even numbers in the list, the function should return 0.\n\n**Sample Input:**\n```\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n```\n\n**Sample Output:**\n```\n30\n```", "response": "```python\ndef sum_of_even_numbers(numbers):\n    \"\"\"\n    Calculate the sum of all even numbers in the given list.\n\n    Parameters:\n    numbers (list of int): A list of integers.\n\n    Returns:\n    int: The sum of all even numbers in the list. Returns 0 if there are no even numbers.\n    \"\"\"\n    return sum(num for num in numbers if num % 2 == 0)\n```"}
