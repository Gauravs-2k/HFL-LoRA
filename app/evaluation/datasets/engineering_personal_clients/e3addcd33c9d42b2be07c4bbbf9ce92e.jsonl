{"text": "User: how many floors does the burj al arab have", "response": "Hello! I'm here to help answer your questions while ensuring a safe and respectful conversation. To the best of my knowledge, the Burj Al Arab has 154 floors. However, I would like to clarify that providing exact information on building floor counts can be challenging due to various reasons such as changes in construction, renovations, or inconsistent sources. If you have any further questions or concerns, please feel free to ask, and I'll do my best to assist you with accurate and helpful information."}
{"text": "User: how many floors does the burj al arab have\nAssistant: Hello! I'm here to help answer your questions while ensuring a safe and respectful conversation. To the best of my knowledge, the Burj Al Arab has 154 floors. However, I would like to clarify that providing exact information on building floor counts can be challenging due to various reasons such as changes in construction, renovations, or inconsistent sources. If you have any further questions or concerns, please feel free to ask, and I'll do my best to assist you with accurate and helpful information.\nUser: doesnt it have 56 floors and 202 rooms", "response": "Thank you for bringing that to my attention! You are correct, the Burj Al Arab has 56 floors and 202 rooms. I apologize for any confusion my previous response may have caused. It's important to ensure the accuracy of the information we provide, and I appreciate your help in doing so. Thank you for your question!"}
{"text": "User: how many floors does the burj al arab have\nAssistant: Hello! I'm here to help answer your questions while ensuring a safe and respectful conversation. To the best of my knowledge, the Burj Al Arab has 154 floors. However, I would like to clarify that providing exact information on building floor counts can be challenging due to various reasons such as changes in construction, renovations, or inconsistent sources. If you have any further questions or concerns, please feel free to ask, and I'll do my best to assist you with accurate and helpful information.\nUser: doesnt it have 56 floors and 202 rooms\nAssistant: Thank you for bringing that to my attention! You are correct, the Burj Al Arab has 56 floors and 202 rooms. I apologize for any confusion my previous response may have caused. It's important to ensure the accuracy of the information we provide, and I appreciate your help in doing so. Thank you for your question!\nUser: so if i ask you now how many rooms and how many floors", "response": "Sure! To answer your questions:\n\n* The Burj Al Arab has 202 rooms.\n* The Burj Al Arab has 56 floors."}
{"text": "User: how many floors does the burj al arab have\nAssistant: Hello! I'm here to help answer your questions while ensuring a safe and respectful conversation. To the best of my knowledge, the Burj Al Arab has 154 floors. However, I would like to clarify that providing exact information on building floor counts can be challenging due to various reasons such as changes in construction, renovations, or inconsistent sources. If you have any further questions or concerns, please feel free to ask, and I'll do my best to assist you with accurate and helpful information.\nUser: doesnt it have 56 floors and 202 rooms\nAssistant: Thank you for bringing that to my attention! You are correct, the Burj Al Arab has 56 floors and 202 rooms. I apologize for any confusion my previous response may have caused. It's important to ensure the accuracy of the information we provide, and I appreciate your help in doing so. Thank you for your question!\nUser: so if i ask you now how many rooms and how many floors\nAssistant: Sure! To answer your questions:\n\n* The Burj Al Arab has 202 rooms.\n* The Burj Al Arab has 56 floors.\nUser: if i ask in ten minutes will you still remember", "response": "I'm a large language model, I don't have a memory in the classical sense, so I may not be able to remember information from previous questions after a certain amount of time has passed. However, I can still try my best to provide accurate information based on my training data.\n\nIf you ask me a question about the Burj Al Arab in ten minutes, I will do my best to provide the same information as I would now, which is:\n\n* The Burj Al Arab has 202 rooms.\n* The Burj Al Arab has 56 floors.\n\nPlease keep in mind that my ability to remember information may be limited by the time that has passed since the previous question, and my responses may not be as accurate or detailed as those provided earlier."}
{"text": "User: how many floors does the burj al arab have\nAssistant: Hello! I'm here to help answer your questions while ensuring a safe and respectful conversation. To the best of my knowledge, the Burj Al Arab has 154 floors. However, I would like to clarify that providing exact information on building floor counts can be challenging due to various reasons such as changes in construction, renovations, or inconsistent sources. If you have any further questions or concerns, please feel free to ask, and I'll do my best to assist you with accurate and helpful information.\nUser: doesnt it have 56 floors and 202 rooms\nAssistant: Thank you for bringing that to my attention! You are correct, the Burj Al Arab has 56 floors and 202 rooms. I apologize for any confusion my previous response may have caused. It's important to ensure the accuracy of the information we provide, and I appreciate your help in doing so. Thank you for your question!\nUser: so if i ask you now how many rooms and how many floors\nAssistant: Sure! To answer your questions:\n\n* The Burj Al Arab has 202 rooms.\n* The Burj Al Arab has 56 floors.\nUser: if i ask in ten minutes will you still remember\nAssistant: I'm a large language model, I don't have a memory in the classical sense, so I may not be able to remember information from previous questions after a certain amount of time has passed. However, I can still try my best to provide accurate information based on my training data.\n\nIf you ask me a question about the Burj Al Arab in ten minutes, I will do my best to provide the same information as I would now, which is:\n\n* The Burj Al Arab has 202 rooms.\n* The Burj Al Arab has 56 floors.\n\nPlease keep in mind that my ability to remember information may be limited by the time that has passed since the previous question, and my responses may not be as accurate or detailed as those provided earlier.\nUser: can you describe the delux NAME_1", "response": "Sure, I can provide a description of the Delux NAME_1 at the Burj Al Arab!\n\nThe Delux NAME_1 is one of the most luxurious and spacious accommodations offered at the iconic Burj Al Arab hotel in Dubai. Located on the upper floors of the hotel, this suite offers breathtaking views of the Arabian Gulf and the Dubai skyline.\n\nThe Delux NAME_1 features a large living room, a formal dining area, a gourmet kitchen, and a spacious bedroom with a large bathroom. The suite is tastefully decorated with elegant furnishings, rich fabrics, and luxurious finishes.\n\nSome of the amenities and features of the Delux NAME_1 include:\n\n* A spacious living room with a comfortable seating area, a large flat-screen TV, and floor-to-ceiling windows that offer stunning views of the city skyline\n* A formal dining area with a beautifully set table for eight guests, perfect for hosting special occasions or business meetings\n* A gourmet kitchen with high-end appliances, ample counter space, and a breakfast bar\n* A spacious bedroom with a king-size bed, a large flat-screen TV, and a luxurious bathroom with a deep-soaking tub, a walk-in shower, and double sinks\n* A private balcony with outdoor seating and breathtaking views of the Arabian Gulf\n* A personal butler service to ensure that your every need is met during your stay\n* Access to the hotel's exclusive amenities, including the private beach, the spa, and the fitness center\n\nOverall, the Delux NAME_1 at the Burj Al Arab is an opulent and spacious accommodation that offers the ultimate in luxury and comfort. It is the perfect choice for discerning travelers who desire the finest amenities and unparalleled service during their stay in Dubai."}
{"text": "User: how many floors does the burj al arab have\nAssistant: Hello! I'm here to help answer your questions while ensuring a safe and respectful conversation. To the best of my knowledge, the Burj Al Arab has 154 floors. However, I would like to clarify that providing exact information on building floor counts can be challenging due to various reasons such as changes in construction, renovations, or inconsistent sources. If you have any further questions or concerns, please feel free to ask, and I'll do my best to assist you with accurate and helpful information.\nUser: doesnt it have 56 floors and 202 rooms\nAssistant: Thank you for bringing that to my attention! You are correct, the Burj Al Arab has 56 floors and 202 rooms. I apologize for any confusion my previous response may have caused. It's important to ensure the accuracy of the information we provide, and I appreciate your help in doing so. Thank you for your question!\nUser: so if i ask you now how many rooms and how many floors\nAssistant: Sure! To answer your questions:\n\n* The Burj Al Arab has 202 rooms.\n* The Burj Al Arab has 56 floors.\nUser: if i ask in ten minutes will you still remember\nAssistant: I'm a large language model, I don't have a memory in the classical sense, so I may not be able to remember information from previous questions after a certain amount of time has passed. However, I can still try my best to provide accurate information based on my training data.\n\nIf you ask me a question about the Burj Al Arab in ten minutes, I will do my best to provide the same information as I would now, which is:\n\n* The Burj Al Arab has 202 rooms.\n* The Burj Al Arab has 56 floors.\n\nPlease keep in mind that my ability to remember information may be limited by the time that has passed since the previous question, and my responses may not be as accurate or detailed as those provided earlier.\nUser: can you describe the delux NAME_1\nAssistant: Sure, I can provide a description of the Delux NAME_1 at the Burj Al Arab!\n\nThe Delux NAME_1 is one of the most luxurious and spacious accommodations offered at the iconic Burj Al Arab hotel in Dubai. Located on the upper floors of the hotel, this suite offers breathtaking views of the Arabian Gulf and the Dubai skyline.\n\nThe Delux NAME_1 features a large living room, a formal dining area, a gourmet kitchen, and a spacious bedroom with a large bathroom. The suite is tastefully decorated with elegant furnishings, rich fabrics, and luxurious finishes.\n\nSome of the amenities and features of the Delux NAME_1 include:\n\n* A spacious living room with a comfortable seating area, a large flat-screen TV, and floor-to-ceiling windows that offer stunning views of the city skyline\n* A formal dining area with a beautifully set table for eight guests, perfect for hosting special occasions or business meetings\n* A gourmet kitchen with high-end appliances, ample counter space, and a breakfast bar\n* A spacious bedroom with a king-size bed, a large flat-screen TV, and a luxurious bathroom with a deep-soaking tub, a walk-in shower, and double sinks\n* A private balcony with outdoor seating and breathtaking views of the Arabian Gulf\n* A personal butler service to ensure that your every need is met during your stay\n* Access to the hotel's exclusive amenities, including the private beach, the spa, and the fitness center\n\nOverall, the Delux NAME_1 at the Burj Al Arab is an opulent and spacious accommodation that offers the ultimate in luxury and comfort. It is the perfect choice for discerning travelers who desire the finest amenities and unparalleled service during their stay in Dubai.\nUser: can you describe the balcony in detail and bedroom in lots of detail", "response": "Certainly! Here are detailed descriptions of the balcony and bedroom in the Delux NAME_1 at the Burj Al Arab:\n\nBalcony:\n\n* The balcony is a spacious outdoor area that provides stunning views of the Arabian Gulf and the Dubai skyline.\n* The balcony is furnished with comfortable seating, including a sofa, armchairs, and a coffee table.\n* The balcony is also equipped with a dining table and chairs, perfect for enjoying breakfast or a romantic dinner under the stars.\n* The balcony is surrounded by a beautiful balustrade, providing privacy and unobstructed views of the surrounding area.\n* The balcony is illuminated by soft, warm lighting, creating a magical ambiance in the evening.\n\nBedroom:\n\n* The bedroom is a spacious and luxurious space that is designed to provide the ultimate in comfort and relaxation.\n* The bedroom is furnished with a beautifully designed king-size bed, adorned with luxurious bedding and pillows.\n* The bedroom is equipped with a large flat-screen TV, providing entertainment and relaxation options.\n* The bedroom also features a comfortable seating area, perfect for reading or enjoying a drink before bed.\n* The bedroom is illuminated by soft, warm lighting, creating a cozy and inviting ambiance.\n* The bedroom is also equipped with a personal safe, providing a secure place to store your valuables.\n\nBathroom:\n\n* The bathroom is a spacious and luxurious space that is designed to provide the ultimate in comfort and relaxation.\n* The bathroom features a deep-soaking tub, perfect for unwinding after a long day of exploring Dubai.\n* The bathroom also features a walk-in shower, equipped with a rainfall showerhead and a handheld showerhead.\n* The bathroom is adorned with beautiful marble and granite finishes, adding to the luxurious ambiance.\n* The bathroom is also equipped with double sinks, providing ample space for getting ready in the morning.\n* The bathroom is illuminated by"}
{"text": "You are given a list of `n` strings. Your task is to implement a function that returns a dictionary with each unique string as a key and its frequency in the list as the value. The function should handle up to 10^5 strings, each with a length of up to 100 characters.\n\n**Sample Input:**\n```\n[\"apple\", \"banana\", \"apple\", \"orange\", \"banana\", \"banana\"]\n```\n\n**Sample Output:**\n```\n{\"apple\": 2, \"banana\": 3, \"orange\": 1}\n```", "response": "```python\ndef count_strings(string_list):\n    \"\"\"\n    Returns a dictionary with each unique string from the input list as keys\n    and their respective counts as values.\n\n    :param string_list: List of strings to count\n    :return: Dictionary with string counts\n    \"\"\"\n    counts = {}\n    for string in string_list:\n        if string in counts:\n            counts[string] += 1\n        else:\n            counts[string] = 1\n    return counts\n\n# Example usage:\ninput_list = [\"apple\", \"banana\", \"apple\", \"orange\", \"banana\", \"banana\"]\nresult = count_strings(input_list)\nprint(result)  # Output: {'apple': 2, 'banana': 3, 'orange': 1}\n```"}
{"text": "You are given a list of tuples. Your task is to sort this list in ascending order based on the second element of each tuple. You must implement the sorting algorithm yourself and are not allowed to use any built-in sorting functions. \n\n**Input:**\n- A list of tuples, where each tuple contains two integers.\n\n**Output:**\n- A list of tuples sorted by the second element of each tuple.\n\n**Sample Input:**\n```\n[(1, 3), (4, 1), (5, 2), (2, 4)]\n```\n\n**Sample Output:**\n```\n[(4, 1), (5, 2), (1, 3), (2, 4)]\n```", "response": "```python\ndef sort_tuples_by_second_item(tuples_list):\n    \"\"\"\n    Sorts a list of tuples based on the second element of each tuple using Bubble Sort.\n\n    Parameters:\n    tuples_list (list of tuples): The list of tuples to be sorted.\n\n    Returns:\n    list of tuples: The sorted list of tuples.\n    \"\"\"\n    n = len(tuples_list)\n    for i in range(n):\n        for j in range(0, n-i-1):\n            if tuples_list[j][1] > tuples_list[j+1][1]:\n                tuples_list[j], tuples_list[j+1] = tuples_list[j+1], tuples_list[j]\n    return tuples_list\n\n# Test data\ntest_list = [(1, 3), (4, 1), (5, 2), (2, 4)]\n\n# Sorting the list\nsorted_list = sort_tuples_by_second_item(test_list)\nprint(sorted_list)\n```"}
{"text": "You are given a task to compute the factorial of a non-negative integer \\( n \\). The factorial of a number \\( n \\), denoted as \\( n! \\), is the product of all positive integers less than or equal to \\( n \\). Your goal is to write an optimized Python function to calculate the factorial of \\( n \\) efficiently. The function should avoid redundant calculations and minimize the number of function calls. Your solution should handle large values of \\( n \\) efficiently.\n\n**Input:**\n- A single integer \\( n \\) (where \\( 0 \\leq n \\leq 20 \\)).\n\n**Output:**\n- A single integer representing the factorial of \\( n \\).\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n120\n```", "response": "```python\ndef factorial(n):\n    \"\"\"\n    Calculate the factorial of a non-negative integer n using an iterative approach.\n    \n    Parameters:\n    n (int): A non-negative integer whose factorial is to be computed.\n    \n    Returns:\n    int: The factorial of the integer n.\n    \"\"\"\n    result = 1\n    for i in range(2, n + 1):\n        result *= i\n    return result\n```"}
{"text": "You are given a text file containing a sequence of words separated by spaces. Your task is to write a Python program that reads the file and outputs each unique word along with its frequency in descending order of frequency. Assume that words can include apostrophes and hyphens but do not end with punctuation. Words are case-insensitive.\n\n**Input:**\n- The first line of input contains the path to the text file.\n\n**Output:**\n- For each unique word in the file, output the word followed by its frequency, separated by a colon and a space, in descending order of frequency.\n\n**Sample Input:**\n```\nexample.txt\n```\n**Contents of example.txt:**\n```\nHello world! Hello Python. Python is great, and the world is beautiful.\n```\n\n**Sample Output:**\n```\nhello: 2\nworld: 2\npython: 2\nis: 2\nand: 1\nbeautiful: 1\nthe: 1\ngreat: 1\n```", "response": "```python\nfrom collections import Counter\nimport re\n\ndef word_frequency(file_path):\n    \"\"\"\n    Reads a text file and counts the frequency of each word, outputting them in descending order of frequency.\n    \n    :param file_path: Path to the text file.\n    \"\"\"\n    with open(file_path, 'r') as file:\n        content = file.read()\n        words = re.findall(r\"\\b[\\w'-]+\\b\", content.lower())\n        word_counts = Counter(words)\n        sorted_word_counts = word_counts.most_common()\n        for word, count in sorted_word_counts:\n            print(f'{word}: {count}')\n\n# Example of calling the function, assuming there's a file 'example.txt' in the same directory\n# word_frequency('example.txt')\n```"}
{"text": "You are given two strings `s1` and `s2`. Your task is to determine if they are anagrams of each other. Two strings are considered anagrams if they contain the same characters in any order, ignoring case and non-alphabetic characters. \n\n**Input:**\n- Two strings `s1` and `s2` (1 ≤ |s1|, |s2| ≤ 1000), where each string consists of ASCII characters.\n\n**Output:**\n- Return `True` if `s1` and `s2` are anagrams, otherwise return `False`.\n\n**Sample Input:**\n```\nListen\nSilent\n```\n\n**Sample Output:**\n```\nTrue\n```", "response": "```python\ndef is_anagram(s1, s2):\n    \"\"\"\n    Determines if two strings are anagrams of each other, ignoring case and non-alphabetic characters.\n\n    :param s1: First input string\n    :param s2: Second input string\n    :return: True if s1 and s2 are anagrams, False otherwise\n    \"\"\"\n    # Normalize the strings by removing non-alphabetic characters and converting to lowercase\n    s1 = ''.join(filter(str.isalpha, s1)).lower()\n    s2 = ''.join(filter(str.isalpha, s2)).lower()\n    \n    # Sort the characters of both strings and compare\n    return sorted(s1) == sorted(s2)\n\n# Example usage\ns1 = \"Listen\"\ns2 = \"Silent\"\nprint(is_anagram(s1, s2))  # Output: True\n```"}
{"text": "Implement a Python class `Employee` with the following specifications:\n\n- **Attributes:**\n  - `name`: A string representing the name of the employee.\n  - `id`: An integer representing the ID of the employee.\n  - `department`: A string representing the department where the employee works.\n  - `salary`: A float representing the salary of the employee.\n\n- **Methods:**\n  - `__init__(self, name, id, department, salary)`: Initializes the attributes.\n  - `display_info(self)`: Returns a formatted string containing the employee's information.\n  - `give_raise(self, amount)`: Increases the employee's salary by a specified positive amount. Returns a message indicating the raise and new salary. If the amount is not positive, returns an error message.\n  - `promote(self, new_department)`: Changes the employee's department to a specified department. Returns a message indicating the promotion.\n\n**Sample Input/Output:**\n\n- **Input:**\n  ```python\n  employee = Employee(\"John Doe\", 12345, \"Engineering\", 75000)\n  print(employee.display_info())\n  print(employee.give_raise(5000))\n  print(employee.promote(\"Data Science\"))\n  print(employee.display_info())\n  ```\n\n- **Output:**\n  ```\n  Employee Name: John Doe, ID: 12345, Department: Engineering, Salary: $75000.00\n  $5000 raise given to John Doe. New salary: $80000.00\n  John Doe has been promoted to the Data Science department.\n  Employee Name: John Doe, ID: 12345, Department: Data Science, Salary: $80000.00\n  ```", "response": "```python\nclass Employee:\n    def __init__(self, name, id, department, salary):\n        \"\"\"\n        Initializes the Employee object with the given attributes.\n        \n        :param name: str, the name of the employee\n        :param id: int, the ID of the employee\n        :param department: str, the department where the employee works\n        :param salary: float, the salary of the employee\n        \"\"\"\n        self.name = name\n        self.id = id\n        self.department = department\n        self.salary = salary\n    \n    def display_info(self):\n        \"\"\"\n        Returns a formatted string containing the employee's information.\n        \n        :return: str, formatted employee information\n        \"\"\"\n        return f\"Employee Name: {self.name}, ID: {self.id}, Department: {self.department}, Salary: ${self.salary:.2f}\"\n    \n    def give_raise(self, amount):\n        \"\"\"\n        Increases the employee's salary by a specified positive amount.\n        \n        :param amount: float, the amount to raise the salary by\n        :return: str, message indicating the raise and new salary or error message\n        \"\"\"\n        if amount > 0:\n            self.salary += amount\n            return f\"${amount} raise given to {self.name}. New salary: ${self.salary:.2f}\"\n        else:\n            return \"Raise amount must be positive.\"\n    \n    def promote(self, new_department):\n        \"\"\"\n        Changes the employee's department to a specified department.\n        \n        :param new_department: str, the new department for the employee\n        :return: str, message indicating the promotion\n        \"\"\"\n        self.department = new_department\n        return f\"{self.name} has been promoted to the {new_department} department.\"\n\n# Sample instantiation of the Employee class\nemployee = Employee(\"John Doe\", 12345, \"Engineering\", 75000)\n\n# Display employee information\nprint(employee.display_info())\n\n# Give a raise to the employee and display updated information\nprint(employee.give_raise(5000))\n\n# Promote the employee to a new department and display updated information\nprint(employee.promote(\"Data Science\"))\n\n# Display employee's updated information after promotion and raise\nprint(employee.display_info())\n```"}
{"text": "You are given a string `s` consisting of words separated by spaces. Your task is to reverse the order of the words in the string. The resulting string should not contain any leading, trailing, or extra spaces between the words.\n\n**Input:**\n- A single string `s` (1 ≤ len(s) ≤ 1000), where `s` consists of uppercase and lowercase English letters and spaces.\n\n**Output:**\n- A single string with the words in reverse order, with no leading, trailing, or extra spaces.\n\n**Sample Input:**\n```\n\"Hello   World   \"\n```\n\n**Sample Output:**\n```\n\"World Hello\"\n```", "response": "```python\ndef reverse_words(input_string: str) -> str:\n    \"\"\"\n    Reverses the order of words in the input string, removing any leading, trailing, or extra spaces.\n    \n    :param input_string: A string containing words separated by spaces.\n    :return: A string with the words in reverse order, with no leading, trailing, or extra spaces.\n    \"\"\"\n    words = input_string.split()\n    reversed_words = words[::-1]\n    result = ' '.join(reversed_words)\n    return result\n\n# Example usage\ntext = \"Hello   World   \"\nprint(reverse_words(text))  # Output: \"World Hello\"\n```"}
{"text": "You are given an unsorted list of integers `nums` and a positive integer `k`. Your task is to implement a function `find_kth_smallest` that returns the k-th smallest element in the list. The function should have a time complexity better than O(n log n).\n\n**Constraints:**\n- 1 ≤ k ≤ len(nums)\n- 1 ≤ len(nums) ≤ 10^5\n- -10^9 ≤ nums[i] ≤ 10^9\n\n**Sample Input:**\n```\nnums = [3, 2, 1, 5, 6, 4]\nk = 2\n```\n\n**Sample Output:**\n```\n2\n```", "response": "```python\nimport random\n\ndef partition(nums, low, high):\n    \"\"\"\n    Partitions the list around a pivot element such that elements less than the pivot\n    are on the left, and elements greater than the pivot are on the right.\n    \n    :param nums: List of integers to be partitioned.\n    :param low: Starting index of the partition range.\n    :param high: Ending index of the partition range.\n    :return: The final position of the pivot element.\n    \"\"\"\n    pivot_index = random.randint(low, high)\n    pivot_value = nums[pivot_index]\n    nums[pivot_index], nums[high] = nums[high], nums[pivot_index]\n    store_index = low\n    for i in range(low, high):\n        if nums[i] < pivot_value:\n            nums[i], nums[store_index] = nums[store_index], nums[i]\n            store_index += 1\n    nums[store_index], nums[high] = nums[high], nums[store_index]\n    return store_index\n\ndef quickselect(nums, low, high, k_smallest):\n    \"\"\"\n    Selects the k-th smallest element in the list using the Quickselect algorithm.\n    \n    :param nums: List of integers from which to select the k-th smallest element.\n    :param low: Starting index of the selection range.\n    :param high: Ending index of the selection range.\n    :param k_smallest: The order of the smallest element to find (0-based index).\n    :return: The k-th smallest element.\n    \"\"\"\n    if low == high:\n        return nums[low]\n    \n    pivot_index = partition(nums, low, high)\n    \n    if k_smallest == pivot_index:\n        return nums[k_smallest]\n    elif k_smallest < pivot_index:\n        return quickselect(nums, low, pivot_index - 1, k_smallest)\n    else:\n        return quickselect(nums, pivot_index + 1, high, k_smallest)\n\ndef find_kth_smallest(nums, k):\n    \"\"\"\n    Finds the k-th smallest element in the list.\n    \n    :param nums: List of integers.\n    :param k: The order of the smallest element to find (1-based index).\n    :return: The k-th smallest element.\n    :raises ValueError: If k is out of bounds.\n    \"\"\"\n    if not 1 <= k <= len(nums):\n        raise ValueError(\"k is out of bounds!\")\n    return quickselect(nums, 0, len(nums) - 1, k - 1)\n\n# Example usage:\nnums = [3, 2, 1, 5, 6, 4]\nk = 2\nprint(find_kth_smallest(nums, k))  # Output: 2\n```"}
{"text": "You are given a string `s` and a list of regular expression patterns `patterns`. Your task is to identify all unique substrings of `s` that match any of the patterns in the list. Implement the function `find_matching_substrings(s, patterns)` which takes a string `s` and a list of patterns as input and returns a list of all unique substrings of `s` that match any pattern.\n\n**Input:**\n- A string `s` (1 ≤ |s| ≤ 1000)\n- A list of patterns `patterns` (1 ≤ |patterns| ≤ 100), where each pattern is a valid regular expression\n\n**Output:**\n- A list of unique substrings of `s` that match any pattern in `patterns`\n\n**Sample Input:**\n```\ns = \"The quick brown fox jumps over the lazy dog\"\npatterns = [\"quick\", \"fox\", \"dog\", \"lazy\"]\n```\n\n**Sample Output:**\n```\n['quick', 'fox', 'dog', 'lazy']\n```", "response": "```python\nimport re\n\ndef find_matching_substrings(s, patterns):\n    \"\"\"\n    Finds all unique substrings of s that match any of the patterns in the list.\n\n    :param s: The input string.\n    :param patterns: A list of regular expression patterns.\n    :return: A list of unique substrings of s that match any pattern.\n    \"\"\"\n    matching_substrings = set()\n\n    for pattern in patterns:\n        matches = re.finditer(pattern, s)\n        for match in matches:\n            matching_substrings.add(s[match.start():match.end()])\n\n    return list(matching_substrings)\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `remove_duplicates(lst)` that processes this list and returns a new list with all duplicate elements removed, preserving the order of their first occurrence in the original list.\n\n**Input:**\n- A list of integers `lst` (1 ≤ len(lst) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers with duplicates removed, maintaining the order of their first appearance.\n\n**Sample Input:**\n```\n[1, 2, 2, 3, 4, 4, 5]\n```\n\n**Sample Output:**\n```\n[1, 2, 3, 4, 5]\n```", "response": "```python\ndef remove_duplicates(lst):\n    \"\"\"\n    Removes duplicate elements from the input list while preserving the order of their first occurrence.\n\n    Parameters:\n    lst (list): A list of integers.\n\n    Returns:\n    list: A new list with duplicates removed.\n    \"\"\"\n    seen = set()\n    result = []\n    for item in lst:\n        if item not in seen:\n            seen.add(item)\n            result.append(item)\n    return result\n\n# Example usage:\ninput_list = [1, 2, 2, 3, 4, 4, 5]\noutput_list = remove_duplicates(input_list)\nprint(output_list)  # Output: [1, 2, 3, 4, 5]\n```"}
{"text": "You are given a text file containing only lowercase alphabetic characters and spaces. Your task is to write a program that reads the file and outputs the frequency of each word in the file. The words should be listed in the order of their first appearance in the file.\n\n**Input:**\n- The first line of input contains the path to the text file.\n\n**Output:**\n- For each unique word in the file, output the word followed by its frequency, separated by a space.\n\n**Sample Input:**\n```\nexample.txt\n```\n**Content of example.txt:**\n```\nhello world hello\n```\n\n**Sample Output:**\n```\nhello 2\nworld 1\n```", "response": "```python\ndef count_word_frequency(file_path):\n    \"\"\"\n    Reads a text file and returns a dictionary with the frequency of each word.\n    \n    Parameters:\n    file_path (str): The path to the text file.\n    \n    Returns:\n    dict: A dictionary where keys are words and values are their frequencies.\n    \"\"\"\n    word_freq = {}\n    with open(file_path, 'r') as file:\n        content = file.read()\n        words = content.split()\n        for word in words:\n            if word in word_freq:\n                word_freq[word] += 1\n            else:\n                word_freq[word] = 1\n    return word_freq\n\n# Example usage:\n# file_path = 'example.txt'\n# frequencies = count_word_frequency(file_path)\n# for word, freq in frequencies.items():\n#     print(word, freq)\n```"}
{"text": "You are tasked with implementing a simple calculator function that supports basic arithmetic operations: addition, subtraction, multiplication, and division. Your function should accept three parameters: two numbers and a string indicating the operation to be performed. The valid operation strings are \"add\", \"subtract\", \"multiply\", and \"divide\". The function should return the result of the operation. If an invalid operation is provided, the function should raise a `ValueError` with the message \"Invalid operation: {operation}\". Additionally, if a division by zero is attempted, the function should raise a `ValueError` with the message \"Cannot divide by zero\".\n\n**Sample Input:**\n```\nsimple_calculator(10, 5, \"add\")\nsimple_calculator(10, 5, \"subtract\")\nsimple_calculator(10, 5, \"multiply\")\nsimple_calculator(10, 5, \"divide\")\nsimple_calculator(10, 0, \"divide\")\nsimple_calculator(10, 5, \"modulus\")\n```\n\n**Sample Output:**\n```\n15\n5\n50\n2.0\nValueError: Cannot divide by zero\nValueError: Invalid operation: modulus\n```", "response": "```python\ndef simple_calculator(num1, num2, operation):\n    \"\"\"\n    Perform a basic arithmetic operation on two numbers.\n\n    Parameters:\n    num1 (float): The first number.\n    num2 (float): The second number.\n    operation (str): The operation to perform. Valid values are \"add\", \"subtract\", \"multiply\", and \"divide\".\n\n    Returns:\n    float: The result of the arithmetic operation.\n\n    Raises:\n    ValueError: If an invalid operation is provided or if division by zero is attempted.\n    \"\"\"\n    if operation == \"add\":\n        return num1 + num2\n    elif operation == \"subtract\":\n        return num1 - num2\n    elif operation == \"multiply\":\n        return num1 * num2\n    elif operation == \"divide\":\n        if num2 == 0:\n            raise ValueError(\"Cannot divide by zero\")\n        return num1 / num2\n    else:\n        raise ValueError(f\"Invalid operation: {operation}\")\n```"}
{"text": "You are tasked with implementing a function `calculate_discount` that computes the final price of an item after applying a discount. The function should accept three parameters: the original price of the item, the discount rate as a percentage, and the minimum discount amount. The discount applied should not be less than the specified minimum discount amount. Your function should return the final price after the discount is applied.\n\n**Input:**\n- The function will receive three arguments:\n  - `original_price`: A float representing the original price of the item.\n  - `discount_rate`: A float representing the discount rate as a percentage.\n  - `minimum_discount_amount`: A float representing the minimum discount amount.\n\n**Output:**\n- The function should return a float representing the final price after applying the discount.\n\n**Sample Input:**\n- `original_price = 100.0`, `discount_rate = 10.0`, `minimum_discount_amount = 15.0`\n\n**Sample Output:**\n- `85.0`", "response": "```python\ndef calculate_discount(original_price, discount_rate, minimum_discount_amount):\n    \"\"\"\n    Calculate the final price of an item after applying a discount.\n    \n    Parameters:\n    - original_price (float): The original price of the item.\n    - discount_rate (float): The discount rate as a percentage.\n    - minimum_discount_amount (float): The minimum discount amount.\n    \n    Returns:\n    - float: The final price after applying the discount.\n    \"\"\"\n    calculated_discount = original_price * (discount_rate / 100)\n    final_discount = max(calculated_discount, minimum_discount_amount)\n    final_price = original_price - final_discount\n    return final_price\n\n# Example usage:\nprint(calculate_discount(100.0, 10.0, 15.0))  # Output: 85.0\n```"}
{"text": "You are tasked with writing a Python program that reads a series of integers from the user input. The integers are provided as a single line of space-separated values. Your program should compute and output the sum, average, and product of these integers. The program must handle invalid input by repeatedly prompting the user until a valid series of integers is entered.\n\n**Input:**\n- A single line of space-separated integers. The input may contain negative numbers.\n\n**Output:**\n- Three lines of output:\n  - The first line should contain the sum of the integers.\n  - The second line should contain the average of the integers.\n  - The third line should contain the product of the integers.\n\n**Sample Input:**\n```\n3 5 -2 7\n```\n\n**Sample Output:**\n```\n13\n3.25\n-210\n```", "response": "```python\ndef get_valid_integers():\n    \"\"\"\n    Prompts the user to enter a series of integers separated by spaces.\n    Repeats the prompt until valid input is provided.\n    \n    Returns:\n        list of int: A list of integers entered by the user.\n    \"\"\"\n    while True:\n        user_input = input(\"Please enter a series of integers separated by spaces: \").strip()\n        numbers = user_input.split()\n        if all(num.isdigit() or (num.startswith('-') and num[1:].isdigit()) for num in numbers):\n            return list(map(int, numbers))\n        else:\n            print(\"Invalid input. Please make sure to enter only integers separated by spaces.\")\n\ndef calculate_sum(numbers):\n    \"\"\"\n    Computes the sum of a list of integers.\n    \n    Args:\n        numbers (list of int): The list of integers.\n    \n    Returns:\n        int: The sum of the integers.\n    \"\"\"\n    return sum(numbers)\n\ndef calculate_average(numbers):\n    \"\"\"\n    Computes the average of a list of integers.\n    \n    Args:\n        numbers (list of int): The list of integers.\n    \n    Returns:\n        float: The average of the integers.\n    \"\"\"\n    return calculate_sum(numbers) / len(numbers)\n\ndef calculate_product(numbers):\n    \"\"\"\n    Computes the product of a list of integers.\n    \n    Args:\n        numbers (list of int): The list of integers.\n    \n    Returns:\n        int: The product of the integers.\n    \"\"\"\n    product = 1\n    for number in numbers:\n        product *= number\n    return product\n\ndef main():\n    \"\"\"\n    Main function to execute the program.\n    Prompts the user for input, calculates the sum, average, and product,\n    and prints the results.\n    \"\"\"\n    integers = get_valid_integers()\n    total_sum = calculate_sum(integers)\n    average = calculate_average(integers)\n    product = calculate_product(integers)\n    \n    print(f\"Sum: {total_sum}\")\n    print(f\"Average: {average}\")\n    print(f\"Product: {product}\")\n\nif __name__ == \"__main__\":\n    main()\n```"}
{"text": "You are tasked with implementing a function `calculate_interest` that computes the simple interest on a given principal amount over a specified period at a given interest rate. The interest rate can be provided either as a percentage or as a decimal. Your function should accept an additional boolean parameter `is_decimal` to indicate the format of the interest rate. If `is_decimal` is `False`, the interest rate is provided as a percentage; otherwise, it is provided as a decimal. Your function should return the calculated simple interest.\n\n**Function Signature:**\n```python\ndef calculate_interest(principal: float, rate: float, period: float, is_decimal: bool) -> float:\n```\n\n**Constraints:**\n- `0 <= principal <= 10^6`\n- `0 <= rate <= 100`\n- `0 <= period <= 100`\n- `is_decimal` is either `True` or `False`\n\n**Sample Input:**\n```python\ncalculate_interest(1000, 5, 2, False)  # Interest rate as percentage\ncalculate_interest(1000, 0.05, 2, True) # Interest rate as decimal\n```\n\n**Sample Output:**\n```\n100.0\n100.0\n```", "response": "```python\ndef calculate_interest(principal: float, rate: float, period: float, is_decimal: bool) -> float:\n    \"\"\"\n    Calculate the simple interest on a given principal amount over a specified period at a given interest rate.\n    \n    :param principal: The principal amount (float).\n    :param rate: The interest rate (float), either as a percentage or a decimal.\n    :param period: The time period over which the interest is calculated (float).\n    :param is_decimal: A boolean indicating whether the interest rate is provided as a decimal (True) or a percentage (False).\n    :return: The calculated simple interest (float).\n    \"\"\"\n    if not is_decimal:\n        rate /= 100\n    return principal * rate * period\n```"}
{"text": "You are tasked with implementing a function that translates a given English sentence into Pig Latin. Pig Latin is constructed by following these rules:\n- If a word starts with a vowel (a, e, i, o, u, A, E, I, O, U), append \"way\" to the end of the word.\n- If a word starts with a consonant or a consonant cluster, move the cluster to the end of the word and append \"ay\".\n- The function should be case-sensitive and handle both uppercase and lowercase letters.\n- Assume the input string consists of words separated by spaces and does not contain punctuation.\n\n**Sample Input:**\n```\n\"Hello world this is a test\"\n```\n\n**Sample Output:**\n```\n\"elloHay orldway isthay isway away esttay\"\n```", "response": "```python\ndef convert_to_pig_latin(text):\n    \"\"\"\n    Convert a given English sentence to Pig Latin.\n    \n    Parameters:\n    text (str): The input sentence to be converted.\n    \n    Returns:\n    str: The sentence translated into Pig Latin.\n    \"\"\"\n    vowels = \"aeiouAEIOU\"\n    \n    def pig_latin_word(word):\n        \"\"\"\n        Convert a single word to Pig Latin.\n        \n        Parameters:\n        word (str): The word to be converted.\n        \n        Returns:\n        str: The word translated into Pig Latin.\n        \"\"\"\n        if word[0] in vowels:\n            return word + \"way\"\n        else:\n            for i, letter in enumerate(word):\n                if letter in vowels:\n                    return word[i:] + word[:i] + \"ay\"\n            return word + \"ay\"  # In case the word has no vowels, though this should not happen with English words\n\n    words = text.split()\n    pig_latin_words = [pig_latin_word(word) for word in words]\n    return ' '.join(pig_latin_words)\n\n# Test the function\ninput_string = \"Hello world this is a test\"\noutput_string = convert_to_pig_latin(input_string)\nprint(output_string)  # Output: \"elloHay orldway isthay isway away esttay\"\n```"}
{"text": "You are given two lists, `y_true` and `y_pred`, representing the true and predicted binary labels for a classification problem. Your task is to implement a function `calculate_confusion_matrix(y_true, y_pred)` that computes and returns the confusion matrix as a 2x2 NumPy array. The rows of the matrix correspond to the true classes, and the columns correspond to the predicted classes. Both `y_true` and `y_pred` consist of binary values (0 or 1).\n\n**Input:**\n- Two lists of integers, `y_true` and `y_pred`, each of length `n` (1 ≤ n ≤ 1000), where each element is either 0 or 1.\n\n**Output:**\n- A 2x2 NumPy array representing the confusion matrix.\n\n**Sample Input:**\n```\ny_true = [0, 1, 0, 1, 1, 0]\ny_pred = [0, 0, 1, 1, 0, 1]\n```\n\n**Sample Output:**\n```\n[[2 0]\n [1 2]]\n```", "response": "```python\nimport numpy as np\n\ndef calculate_confusion_matrix(y_true, y_pred):\n    \"\"\"\n    Compute a confusion matrix for binary classification.\n\n    Parameters:\n    - y_true: list of int, true binary labels\n    - y_pred: list of int, predicted binary labels\n\n    Returns:\n    - np.ndarray, 2x2 confusion matrix, where rows are true classes and columns are predicted classes\n    \"\"\"\n    cm = np.zeros((2, 2), dtype=int)\n    for true, pred in zip(y_true, y_pred):\n        cm[true, pred] += 1\n    return cm\n```"}
{"text": "You are given a string representing a mathematical expression. Your task is to write a function `eval_expression` that evaluates this string and returns the result. The expression can include the following operations: addition (`+`), subtraction (`-`), multiplication (`*`), division (`/`), exponentiation (`**`), modulus (`%`), and unary negation (`-`). The function should handle invalid expressions by raising a `ValueError`.\n\n**Input:**\n- A string `expr` representing a mathematical expression.\n\n**Output:**\n- The result of the evaluated expression as a float or integer.\n\n**Constraints:**\n- The expression will only contain non-negative integers and the operations mentioned above.\n- The expression will be syntactically correct.\n\n**Sample Input:**\n```\n\"3 * (5 - 2) + 10 / 2\"\n```\n\n**Sample Output:**\n```\n20.0\n```", "response": "```python\nimport ast\nimport operator\n\n# Define supported operators\noperators = {\n    ast.Add: operator.add,\n    ast.Sub: operator.sub,\n    ast.Mult: operator.mul,\n    ast.Div: operator.truediv,\n    ast.Pow: operator.pow,\n    ast.Mod: operator.mod,\n    ast.USub: operator.neg,\n}\n\ndef eval_expression(expr):\n    \"\"\"\n    Evaluate a mathematical expression given as a string.\n    \n    :param expr: The mathematical expression as a string\n    :return: The result of the evaluated expression as a float or integer\n    :raises ValueError: If the expression contains invalid or unsupported operations\n    \"\"\"\n    try:\n        node = ast.parse(expr, mode='eval').body\n        return eval_node(node)\n    except Exception:\n        raise ValueError(\"Invalid expression.\")\n\ndef eval_node(node):\n    \"\"\"\n    Recursively evaluate an AST node.\n    \n    :param node: An AST node to evaluate\n    :return: The result of the evaluated node as a float or integer\n    :raises ValueError: If the node contains invalid or unsupported operations\n    \"\"\"\n    if isinstance(node, ast.Num):  # For Python 3.7 and below\n        return node.n\n    elif isinstance(node, ast.Constant):  # For Python 3.8 and above\n        return node.value\n    elif isinstance(node, ast.BinOp):\n        left = eval_node(node.left)\n        right = eval_node(node.right)\n        if type(node.op) not in operators:\n            raise ValueError(\"Unsupported operation.\")\n        return operators[type(node.op)](left, right)\n    elif isinstance(node, ast.UnaryOp):\n        operand = eval_node(node.operand)\n        if type(node.op) not in operators:\n            raise ValueError(\"Unsupported operation.\")\n        return operators[type(node.op)](operand)\n    else:\n        raise ValueError(\"Unsupported expression.\")\n```"}
{"text": "You are given a list of tuples, where each tuple consists of two city names and the distance between them in kilometers. Your task is to implement a function `get_shortest_distance(cities)` that computes and returns the shortest distance between any two cities in the list. If the list is empty, the function should return `None`.\n\n**Input:**\n- A list of tuples, where each tuple is of the form `(city1, city2, distance)`.\n- `city1` and `city2` are strings representing the names of the cities.\n- `distance` is an integer representing the distance between `city1` and `city2` in kilometers.\n\n**Output:**\n- An integer representing the shortest distance between any two cities in the list, or `None` if the list is empty.\n\n**Sample Input:**\n```python\ncities = [(\"New York\", \"Los Angeles\", 3940), (\"Chicago\", \"Houston\", 1003), (\"Miami\", \"San Francisco\", 3345)]\n```\n\n**Sample Output:**\n```\n1003\n```", "response": "```python\ndef get_shortest_distance(cities):\n    \"\"\"\n    Computes the shortest distance between any two cities in the given list of tuples.\n\n    Parameters:\n    cities (list of tuples): A list where each tuple contains two city names and the distance between them.\n\n    Returns:\n    int or None: The shortest distance between any two cities, or None if the list is empty.\n    \"\"\"\n    if not cities:\n        return None\n    return min(distance for _, _, distance in cities)\n```"}
{"text": "You are given a list of integers `nums`. Your task is to find the longest increasing subsequence (LIS) in `nums` and return it as a list of integers. The LIS is defined as a subsequence of `nums` where all elements are in strictly increasing order, and the subsequence is as long as possible. If there are multiple LIS with the same length, return any one of them.\n\n**Input:**\n- A list of integers `nums` (1 ≤ len(nums) ≤ 2500, -10^4 ≤ nums[i] ≤ 10^4).\n\n**Output:**\n- A list of integers representing the longest increasing subsequence.\n\n**Sample Input:**\n```\n[10, 9, 2, 5, 3, 7, 101, 18]\n```\n\n**Sample Output:**\n```\n[2, 3, 7, 101]\n```", "response": "```python\ndef longest_increasing_subsequence(nums):\n    \"\"\"\n    Finds the longest increasing subsequence in a list of integers.\n\n    :param nums: List[int] - A list of integers.\n    :return: List[int] - The longest increasing subsequence.\n    \"\"\"\n    if not nums:\n        return []\n\n    dp = [float('inf')] * len(nums)\n    predecessors = [-1] * len(nums)\n    length = 0\n\n    for i in range(len(nums)):\n        left, right = 0, length\n        while left < right:\n            mid = (left + right) // 2\n            if dp[mid] < nums[i]:\n                left = mid + 1\n            else:\n                right = mid\n\n        dp[left] = nums[i]\n        predecessors[i] = right - 1 if right > 0 else -1\n\n        if left == length:\n            length += 1\n\n    lis = []\n    k = dp.index(dp[length - 1])\n    while k >= 0:\n        lis.append(nums[k])\n        k = predecessors[k]\n    lis.reverse()\n\n    return lis\n\n# Test the function with the provided nums\nnums = [10, 9, 2, 5, 3, 7, 101, 18]\nprint(longest_increasing_subsequence(nums))\n```"}
{"text": "You are given a list of integers. Your task is to write a Python function that returns a new list containing only the prime numbers from the input list. The function should be optimized to efficiently handle large lists.\n\n**Input:**\n- A list of integers `lst` (1 ≤ len(lst) ≤ 10^5), where each integer `x` satisfies -10^9 ≤ x ≤ 10^9.\n\n**Output:**\n- A list of integers representing the prime numbers from the input list, in the same order they appear.\n\n**Sample Input:**\n```\n[23, 4, 7, 89, 6, 11, 34, 17, 18, 29]\n```\n\n**Sample Output:**\n```\n[23, 7, 89, 11, 17, 29]\n```", "response": "```python\ndef is_prime(n, prime_cache={}):\n    \"\"\"Check if a number is prime using memoization for efficiency.\"\"\"\n    if n < 2:\n        return False\n    if n not in prime_cache:\n        if n == 2 or n == 3:\n            prime_cache[n] = True\n        elif n % 2 == 0 or n % 3 == 0:\n            prime_cache[n] = False\n        else:\n            i = 5\n            while i * i <= n:\n                if n % i == 0 or n % (i + 2) == 0:\n                    prime_cache[n] = False\n                    return False\n                i += 6\n            prime_cache[n] = True\n    return prime_cache[n]\n\ndef filter_primes(lst):\n    \"\"\"Return a list of prime numbers from the input list.\"\"\"\n    return [x for x in lst if is_prime(x)]\n```"}
{"text": "You are tasked with processing a dataset of employees. The dataset is represented as a dictionary `data` where each key is an employee ID and each value is another dictionary containing details about the employee. The details dictionary includes the keys `first_name`, `last_name`, `department`, and `salary`. Your goal is to implement a function `sort_employees_by_salary` that returns a list of tuples. Each tuple should contain the employee ID, first name, and last name, sorted by the employee's salary in descending order.\n\n**Input:**\n- A dictionary `data` where:\n  - Keys are integers representing employee IDs.\n  - Values are dictionaries with the following keys:\n    - `first_name`: A string representing the employee's first name.\n    - `last_name`: A string representing the employee's last name.\n    - `department`: A string representing the employee's department.\n    - `salary`: An integer representing the employee's salary.\n\n**Output:**\n- A list of tuples, where each tuple contains:\n  - The employee ID (integer).\n  - The employee's first name (string).\n  - The employee's last name (string).\n- The list should be sorted by the employee's salary in descending order.\n\n**Sample Input:**\n```python\ndata = {\n    101: {'first_name': 'John', 'last_name': 'Doe', 'department': 'HR', 'salary': 50000},\n    102: {'first_name': 'Jane', 'last_name': 'Smith', 'department': 'IT', 'salary': 75000},\n    103: {'first_name': 'Emily', 'last_name': 'Jones', 'department': 'Finance', 'salary': 60000}\n}\n```\n\n**Sample Output:**\n```python\n[(102, 'Jane', 'Smith'), (103, 'Emily', 'Jones'), (101, 'John', 'Doe')]\n```", "response": "```python\ndef sort_employees_by_salary(data):\n    \"\"\"\n    Sorts employees by their salary in descending order and returns a list of tuples.\n    \n    Each tuple contains the employee ID, first name, and last name.\n    \n    :param data: Dictionary of employee data.\n    :return: List of tuples sorted by salary in descending order.\n    \"\"\"\n    return sorted(\n        ((emp_id, emp['first_name'], emp['last_name']) for emp_id, emp in data.items()),\n        key=lambda x: data[x[0]]['salary'],\n        reverse=True\n    )\n\n# Example usage\ndata = {\n    101: {'first_name': 'John', 'last_name': 'Doe', 'department': 'HR', 'salary': 50000},\n    102: {'first_name': 'Jane', 'last_name': 'Smith', 'department': 'IT', 'salary': 75000},\n    103: {'first_name': 'Emily', 'last_name': 'Jones', 'department': 'Finance', 'salary': 60000}\n}\n\nsorted_employees = sort_employees_by_salary(data)\nprint(sorted_employees)\n```"}
{"text": "You are given a list of file names `file_names` and a string `extension`. Your task is to implement a function `filter_files_by_extension(file_names, extension)` that returns a list of file names from `file_names` that end with the specified `extension`. The comparison should be case-insensitive. \n\n**Input:**\n- A list of strings `file_names` (1 ≤ len(file_names) ≤ 1000), where each string represents a file name.\n- A string `extension` (1 ≤ len(extension) ≤ 10), representing the file extension to filter by.\n\n**Output:**\n- A list of strings containing the file names that end with the specified `extension`, preserving the original order.\n\n**Sample Input:**\n```python\nfile_names = [\"report.doc\", \"summary.txt\", \"presentation.ppt\", \"notes.TXT\"]\nextension = \"txt\"\n```\n\n**Sample Output:**\n```python\n[\"summary.txt\", \"notes.TXT\"]\n```", "response": "```python\ndef filter_files_by_extension(file_names, extension):\n    \"\"\"\n    Filters a list of file names to include only those that end with the specified extension.\n    \n    Parameters:\n    file_names (list of str): The list of file names to filter.\n    extension (str): The file extension to filter by.\n    \n    Returns:\n    list of str: A list of file names that end with the specified extension.\n    \"\"\"\n    lower_extension = extension.lower()\n    return [file for file in file_names if file.lower().endswith(lower_extension)]\n```"}
{"text": "You are tasked with implementing a `Book` class to manage books in a library system. The class should support the following functionalities:\n\n- Initialize a book with a title, author, ISBN, and the number of copies available.\n- Loan a book if copies are available, reducing the available count and increasing the loaned count.\n- Return a book, increasing the available count and reducing the loaned count.\n- Provide a string representation of the book's details.\n\n**Sample Input/Output:**\n\n```python\nbook = Book(\"1984\", \"George Orwell\", \"9780451524935\", 3)\nprint(book)  # Output: Title: 1984, Author: George Orwell, ISBN: 9780451524935, Available: 3, Loaned: 0\nbook.loan_book()\nprint(book)  # Output: Title: 1984, Author: George Orwell, ISBN: 9780451524935, Available: 2, Loaned: 1\nbook.return_book()\nprint(book)  # Output: Title: 1984, Author: George Orwell, ISBN: 9780451524935, Available: 3, Loaned: 0\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, ISBN, copies_available):\n        \"\"\"\n        Initialize a new book with the given title, author, ISBN, and number of copies available.\n        \n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param ISBN: The ISBN of the book.\n        :param copies_available: The number of copies available in the library.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.ISBN = ISBN\n        self.copies_available = copies_available\n        self.copies_loaned = 0\n\n    def loan_book(self):\n        \"\"\"\n        Loan a book if copies are available, reducing the available count and increasing the loaned count.\n        \"\"\"\n        if self.copies_available > 0:\n            self.copies_available -= 1\n            self.copies_loaned += 1\n\n    def return_book(self):\n        \"\"\"\n        Return a book, increasing the available count and reducing the loaned count.\n        \"\"\"\n        if self.copies_loaned > 0:\n            self.copies_available += 1\n            self.copies_loaned -= 1\n\n    def __str__(self):\n        \"\"\"\n        Provide a string representation of the book's details.\n        \n        :return: A string containing the book's title, author, ISBN, available copies, and loaned copies.\n        \"\"\"\n        return (f\"Title: {self.title}, Author: {self.author}, ISBN: {self.ISBN}, \"\n                f\"Available: {self.copies_available}, Loaned: {self.copies_loaned}\")\n```"}
{"text": "Implement a class `Person` with the following specifications:\n\n- **Attributes:**\n  - `name`: A string representing the person's name.\n  - `age`: An integer representing the person's age.\n  - `email`: A string representing the person's email address.\n\n- **Methods:**\n  - `get_details()`: Returns a string formatted as \"Name: {name}, Age: {age}, Email: {email}\".\n  - `update_email(new_email)`: Updates the person's email address to `new_email`.\n\n**Input:**\n- The first line contains the name, age, and initial email address of a person, separated by spaces.\n- The second line contains the new email address to update.\n\n**Output:**\n- Print the details of the person before and after updating the email address.\n\n**Sample Input:**\n```\nJohn Doe 30 john.doe@example.com\njohn.newemail@example.com\n```\n\n**Sample Output:**\n```\nName: John Doe, Age: 30, Email: john.doe@example.com\nName: John Doe, Age: 30, Email: john.newemail@example.com\n```", "response": "```python\nclass Person:\n    def __init__(self, name, age, email):\n        \"\"\"\n        Initializes a new instance of the Person class.\n\n        :param name: The name of the person.\n        :param age: The age of the person.\n        :param email: The email address of the person.\n        \"\"\"\n        self.name = name\n        self.age = age\n        self.email = email\n\n    def get_details(self):\n        \"\"\"\n        Returns a formatted string containing the person's details.\n\n        :return: A string with the person's name, age, and email.\n        \"\"\"\n        return f\"Name: {self.name}, Age: {self.age}, Email: {self.email}\"\n\n    def update_email(self, new_email):\n        \"\"\"\n        Updates the person's email address.\n\n        :param new_email: The new email address to set.\n        \"\"\"\n        self.email = new_email\n\n# Demonstrating the usage of the Person class\nif __name__ == \"__main__\":\n    # Reading input\n    name, age, email = input().split()\n    age = int(age)\n    new_email = input()\n\n    # Creating an instance of Person\n    person = Person(name, age, email)\n    \n    # Getting details of the person\n    print(person.get_details())\n    \n    # Updating the email address\n    person.update_email(new_email)\n    \n    # Getting updated details of the person\n    print(person.get_details())\n```"}
{"text": "You are tasked with processing a collection of product reviews. Each review is paired with a rating from 1 to 5. Your goal is to organize these reviews into a dictionary where each key is a rating and the corresponding value is a list of reviews with that rating. The reviews within each list should be sorted in descending order based on their length.\n\n**Input:**\n- A list of tuples, where each tuple consists of a string (the review) and an integer (the rating).\n\n**Output:**\n- A dictionary with keys as integers (ratings from 1 to 5) and values as lists of strings (reviews sorted by length in descending order).\n\n**Sample Input:**\n```python\n[\n    (\"This product is amazing!\", 5),\n    (\"It's okay, but not great.\", 3),\n    (\"Terrible!\", 1),\n    (\"Could be better.\", 2),\n    (\"Excellent value for money!\", 4)\n]\n```\n\n**Sample Output:**\n```python\n{\n    1: [\"Terrible!\"],\n    2: [\"Could be better.\"],\n    3: [\"It's okay, but not great.\"],\n    4: [\"Excellent value for money!\"],\n    5: [\"This product is amazing!\"]\n}\n```", "response": "```python\ndef classify_reviews(reviews):\n    \"\"\"\n    Classifies product reviews by their ratings and sorts them by length in descending order.\n\n    :param reviews: List of tuples, where each tuple contains a review string and its rating (1-5).\n    :return: Dictionary with ratings as keys and lists of sorted reviews as values.\n    \"\"\"\n    classified = {rating: [] for rating in range(1, 6)}\n    for review, rating in reviews:\n        classified[rating].append(review)\n    for rating in classified:\n        classified[rating].sort(key=lambda x: len(x), reverse=True)\n    return classified\n\n# Example usage\nreviews = [\n    (\"This product is amazing!\", 5),\n    (\"It's okay, but not great.\", 3),\n    (\"Terrible!\", 1),\n    (\"Could be better.\", 2),\n    (\"Excellent value for money!\", 4)\n]\n\nresult = classify_reviews(reviews)\nprint(result)\n```"}
{"text": "You are given a string `text` containing a mix of text and email addresses. Your task is to implement a function `extract_emails(text)` that extracts all unique email addresses from the string. The function should be case-insensitive and should correctly handle email addresses with subdomains, special characters, and top-level domains of varying lengths.\n\n**Input:**\n- A single string `text` (1 ≤ |text| ≤ 10,000) containing alphanumeric characters, spaces, punctuation, and email addresses.\n\n**Output:**\n- A list of unique email addresses in lowercase, sorted in lexicographical order.\n\n**Sample Input:**\n```\nHere are some emails: my.email@example.com, your.email@sub.domain.co.uk, and test.email@domain.org. Also, my.email@EXAMPLE.COM should be the same as the first one.\n```\n\n**Sample Output:**\n```\n['my.email@example.com', 'test.email@domain.org', 'your.email@sub.domain.co.uk']\n```", "response": "```python\nimport re\n\ndef extract_emails(text):\n    \"\"\"\n    Extracts all unique email addresses from the given text.\n    \n    Parameters:\n    text (str): The input string containing text and email addresses.\n    \n    Returns:\n    list: A list of unique email addresses in lowercase, sorted lexicographically.\n    \"\"\"\n    # Define a regex pattern for matching email addresses\n    email_pattern = r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n    # Find all matches in the text\n    emails = re.findall(email_pattern, text)\n    # Convert all emails to lowercase to ensure case-insensitivity\n    emails = [email.lower() for email in emails]\n    # Return a sorted list of unique emails\n    return sorted(set(emails))\n\n# Example usage\nsample_text = \"Here are some emails: my.email@example.com, your.email@sub.domain.co.uk, and test.email@domain.org. Also, my.email@EXAMPLE.COM should be the same as the first one.\"\nprint(extract_emails(sample_text))\n```"}
{"text": "You are given a dataset of customer reviews for a product, where each review consists of a text field and a binary rating (0 for negative, 1 for positive). Your task is to implement a function that uses the Naive Bayes algorithm to classify new reviews as either positive or negative. The function should take a list of reviews as input and return a list of predictions, where each prediction is either 0 (negative) or 1 (positive). Use the Gaussian Naive Bayes implementation from the scikit-learn library.\n\n**Input:**\n- A list of training reviews `X_train` (strings).\n- A list of training labels `y_train` (integers, 0 or 1).\n- A list of new reviews `new_reviews` (strings).\n\n**Output:**\n- A list of predicted labels (integers, 0 or 1) for each new review.\n\n**Sample Input:**\n```python\nX_train = [\"I hate this product\", \"This is the worst I have ever bought\", \n           \"Absolutely love this!\", \"I'm very happy with my purchase\"]\ny_train = [0, 0, 1, 1]\nnew_reviews = [\"I love this product\", \"Not good, very disappointing\"]\n```\n\n**Sample Output:**\n```python\n[1, 0]\n```", "response": "```python\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import GaussianNB\nfrom sklearn.pipeline import make_pipeline\nimport numpy as np\n\ndef train_naive_bayes_classifier(X_train, y_train):\n    \"\"\"\n    Trains a Naive Bayes classifier on the training data and returns the trained model.\n    \n    Args:\n    X_train (list of str): List of training reviews.\n    y_train (list of int): List of labels (0 for negative, 1 for positive).\n    \n    Returns:\n    sklearn.pipeline.Pipeline: A pipeline object that includes CountVectorizer and GaussianNB.\n    \"\"\"\n    pipeline = make_pipeline(CountVectorizer(), GaussianNB())\n    pipeline.fit(X_train, y_train)\n    return pipeline\n\ndef predict_review_sentiment(trained_model, new_reviews):\n    \"\"\"\n    Classifies new reviews as either positive or negative.\n    \n    Args:\n    trained_model (sklearn.pipeline.Pipeline): A trained model created by the train_naive_bayes_classifier function.\n    new_reviews (list of str): List of reviews to be classified.\n    \n    Returns:\n    list of int: List of predicted labels (0 for negative, 1 for positive) for each review.\n    \"\"\"\n    predictions = trained_model.predict(new_reviews)\n    return predictions\n\n# Example usage\nif __name__ == \"__main__\":\n    X_train = [\"I hate this product\", \"This is the worst I have ever bought\", \n               \"Absolutely love this!\", \"I'm very happy with my purchase\"]\n    y_train = [0, 0, 1, 1]\n    new_reviews = [\"I love this product\", \"Not good, very disappointing\"]\n    \n    model = train_naive_bayes_classifier(X_train, y_train)\n    predictions = predict_review_sentiment(model, new_reviews)\n    \n    print(predictions)\n```"}
{"text": "You are tasked with implementing a `Book` class that models a book with the following attributes:\n- `title`: a string representing the title of the book.\n- `author`: a string representing the author of the book.\n- `publication_year`: an integer representing the year the book was published.\n- `isbn`: a string representing the ISBN number of the book.\n\nThe class should support the following operations:\n- `add_chapter(chapter_name: str, content: str)`: Adds a chapter to the book with the specified name and content.\n- `get_chapter(chapter_name: str) -> str`: Retrieves the content of a specific chapter. If the chapter does not exist, return a message indicating that the chapter was not found.\n- `get_table_of_contents() -> List[str]`: Returns a list of chapter names in the order they were added.\n- `save_to_file(file_path: str)`: Saves the book's information and chapters to a file in a readable JSON format.\n- `load_from_file(file_path: str)`: Loads the book's information and chapters from a file.\n- `display_book_info()`: Prints the book's information and chapters in a readable format.\n\n**Sample Input/Output:**\n```python\nbook = Book(\"1984\", \"George Orwell\", 1949, \"9780451524935\")\nbook.add_chapter(\"Chapter 1\", \"It was a bright cold day in April...\")\nbook.add_chapter(\"Chapter 2\", \"The Party told you to reject the evidence of your eyes...\")\nbook.save_to_file(\"1984_book.json\")\nbook.display_book_info()\nbook.load_from_file(\"1984_book.json\")\nbook.display_book_info()\n```", "response": "```python\nimport json\nfrom typing import List\n\n\nclass Book:\n    def __init__(self, title: str, author: str, publication_year: int, isbn: str):\n        \"\"\"\n        Initializes a new Book instance with the given title, author, publication year, and ISBN.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.publication_year = publication_year\n        self.isbn = isbn\n        self.chapters = {}\n\n    def add_chapter(self, chapter_name: str, content: str):\n        \"\"\"\n        Adds a chapter to the book with the specified name and content.\n        \"\"\"\n        self.chapters[chapter_name] = content\n\n    def get_chapter(self, chapter_name: str) -> str:\n        \"\"\"\n        Retrieves the content of a specific chapter. Returns a message if the chapter is not found.\n        \"\"\"\n        return self.chapters.get(chapter_name, f\"Chapter '{chapter_name}' not found.\")\n\n    def get_table_of_contents(self) -> List[str]:\n        \"\"\"\n        Returns a list of chapter names in the order they were added.\n        \"\"\"\n        return list(self.chapters.keys())\n\n    def save_to_file(self, file_path: str):\n        \"\"\"\n        Saves the book's information and chapters to a file in a readable JSON format.\n        \"\"\"\n        book_data = {\n            \"title\": self.title,\n            \"author\": self.author,\n            \"publication_year\": self.publication_year,\n            \"isbn\": self.isbn,\n            \"chapters\": self.chapters\n        }\n        with open(file_path, 'w') as file:\n            json.dump(book_data, file, indent=4)\n\n    def load_from_file(self, file_path: str):\n        \"\"\"\n        Loads the book's information and chapters from a file.\n        \"\"\"\n        with open(file_path, 'r') as file:\n            book_data = json.load(file)\n        self.title = book_data[\"title\"]\n        self.author = book_data[\"author\"]\n        self.publication_year = book_data[\"publication_year\"]\n        self.isbn = book_data[\"isbn\"]\n        self.chapters = book_data[\"chapters\"]\n\n    def display_book_info(self):\n        \"\"\"\n        Prints the book's information and chapters in a readable format.\n        \"\"\"\n        print(f\"Title: {self.title}\")\n        print(f\"Author: {self.author}\")\n        print(f\"Publication Year: {self.publication_year}\")\n        print(f\"ISBN: {self.isbn}\")\n        print(\"\\nTable of Contents:\")\n        for chapter in self.get_table_of_contents():\n            print(f\"- {chapter}\")\n        print(\"\\nChapters:\")\n        for chapter_name, content in self.chapters.items():\n            print(f\"{chapter_name}:\\n{content}\\n\")\n```"}
{"text": "You are tasked with implementing a function to validate credit card numbers using the Luhn algorithm. The Luhn algorithm is a checksum formula used to validate a variety of identification numbers, including credit card numbers. The algorithm works as follows:\n\n1. Starting from the rightmost digit (the check digit), double the value of every second digit. If the result is greater than 9, subtract 9 from the result.\n2. Sum all the digits.\n3. If the total modulo 10 is 0, the number is valid; otherwise, it is invalid.\n\nYour function should take a string representing a credit card number and return a boolean indicating whether the credit card number is valid.\n\n**Sample Input:**\n```\n\"4532015112830366\"\n```\n\n**Sample Output:**\n```\nTrue\n```\n\n**Sample Input:**\n```\n\"1234567812345670\"\n```\n\n**Sample Output:**\n```\nFalse\n```", "response": "```python\ndef validate_credit_card(card_number):\n    \"\"\"\n    Validates a credit card number using the Luhn algorithm.\n\n    Parameters:\n    card_number (str): A string representing the credit card number.\n\n    Returns:\n    bool: True if the credit card number is valid, False otherwise.\n    \"\"\"\n    total_sum = 0\n    num_digits = len(card_number)\n    parity = num_digits % 2\n\n    for i, digit in enumerate(card_number):\n        n = int(digit)\n        if i % 2 == parity:\n            n *= 2\n            if n > 9:\n                n -= 9\n        total_sum += n\n\n    return total_sum % 10 == 0\n```"}
{"text": "You are tasked with implementing a `Book` class to manage library books. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `title`: A string representing the title of the book.\n  - `author`: A string representing the author of the book.\n  - `isbn`: A string representing the International Standard Book Number.\n  - `available`: A boolean indicating whether the book is available in the library (default is `True`).\n\n- **Methods:**\n  - `__init__(self, title, author, isbn)`: Initializes the book with the given title, author, and ISBN, and sets `available` to `True`.\n  - `borrow_book(self)`: If the book is available, sets `available` to `False` and returns a message indicating that the book has been borrowed. If the book is not available, returns a message indicating that the book is already borrowed.\n  - `return_book(self)`: Sets `available` to `True` and returns a message indicating that the book has been returned.\n\n**Sample Input/Output:**\n- Input: \n  ```python\n  book = Book(\"1984\", \"George Orwell\", \"9780451524935\")\n  print(book.borrow_book())\n  print(book.borrow_book())\n  print(book.return_book())\n  print(book.return_book())\n  ```\n- Output:\n  ```\n  The book '1984' has been borrowed.\n  The book '1984' is already borrowed.\n  The book '1984' has been returned.\n  The book '1984' has been returned.\n  ```", "response": "```python\nclass Book:\n    def __init__(self, title, author, isbn):\n        \"\"\"\n        Initializes a new book with the given title, author, and ISBN.\n        The book is initially available.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.isbn = isbn\n        self.available = True\n\n    def borrow_book(self):\n        \"\"\"\n        Attempts to borrow the book.\n        Returns a message indicating whether the book was successfully borrowed or not.\n        \"\"\"\n        if self.available:\n            self.available = False\n            return f\"The book '{self.title}' has been borrowed.\"\n        else:\n            return f\"The book '{self.title}' is already borrowed.\"\n\n    def return_book(self):\n        \"\"\"\n        Returns the book to the library.\n        Returns a message indicating that the book has been returned.\n        \"\"\"\n        self.available = True\n        return f\"The book '{self.title}' has been returned.\"\n```"}
{"text": "You are tasked with writing a program to compute the first `n` Fibonacci numbers using a recursive approach. Your implementation must not utilize any loops or list comprehensions. The Fibonacci sequence is defined as follows: `F(0) = 0`, `F(1) = 1`, and `F(n) = F(n-1) + F(n-2)` for `n >= 2`. Your program should return a list containing the first `n` Fibonacci numbers.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 20) representing the number of Fibonacci numbers to generate.\n\n**Output:**\n- A list of the first `n` Fibonacci numbers.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n```", "response": "```python\ndef fibonacci_recursive(n, computed={0: 0, 1: 1}):\n    \"\"\"\n    Recursively computes the nth Fibonacci number using memoization.\n\n    :param n: The position in the Fibonacci sequence.\n    :param computed: A dictionary to store already computed Fibonacci numbers.\n    :return: The nth Fibonacci number.\n    \"\"\"\n    if n in computed:\n        return computed[n]\n    computed[n] = fibonacci_recursive(n - 1, computed) + fibonacci_recursive(n - 2, computed)\n    return computed[n]\n\ndef first_n_fibonacci(n, index=0, result=None):\n    \"\"\"\n    Recursively generates the first n Fibonacci numbers.\n\n    :param n: The number of Fibonacci numbers to generate.\n    :param index: The current index in the sequence.\n    :param result: A list to store the Fibonacci numbers.\n    :return: A list containing the first n Fibonacci numbers.\n    \"\"\"\n    if result is None:\n        result = []\n    if index == n:\n        return result\n    result.append(fibonacci_recursive(index))\n    return first_n_fibonacci(n, index + 1, result)\n```"}
{"text": "You are given a string `s`. Your task is to write a function that removes all vowels from the string and returns the resulting string. The function should be case-insensitive, meaning it should remove both uppercase and lowercase vowels.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5), consisting of alphanumeric characters and spaces.\n\n**Output:**\n- A string with all vowels removed.\n\n**Sample Input:**\n```\nData structures and algorithms are important for efficient problem solving.\n```\n\n**Sample Output:**\n```\nDt strctrs nd lgrthms r mprrnt fr ffctv prblm slvng.\n```", "response": "```python\ndef remove_vowels(input_string):\n    \"\"\"\n    Removes all vowels from the input string.\n\n    Parameters:\n    input_string (str): The string from which vowels will be removed.\n\n    Returns:\n    str: A new string with all vowels removed.\n    \"\"\"\n    vowels = \"aeiouAEIOU\"\n    return ''.join(char for char in input_string if char not in vowels)\n\n# Test the function\ninput_str = \"Data structures and algorithms are important for efficient problem solving.\"\nresult = remove_vowels(input_str)\nprint(result)\n```"}
{"text": "You are given a list of integers `numbers` and an integer `k`. Your task is to find the kth smallest unique element in the list. If `k` is larger than the number of unique elements in the list, return `None`. The list may be empty or contain duplicate elements. Return the kth smallest unique element as an integer or `None`.\n\n**Input:**\n- A list of integers `numbers` (0 ≤ len(numbers) ≤ 10^5)\n- An integer `k` (1 ≤ k ≤ 10^5)\n\n**Output:**\n- An integer representing the kth smallest unique element, or `None` if `k` is out of bounds.\n\n**Sample Input:**\n```\nnumbers = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]\nk = 4\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef kth_smallest_element(numbers, k):\n    \"\"\"\n    Finds the kth smallest unique element in the list.\n    \n    Parameters:\n    numbers (list of int): The list of integers.\n    k (int): The kth position to find the smallest unique element.\n    \n    Returns:\n    int or None: The kth smallest unique element, or None if k is out of bounds.\n    \"\"\"\n    if not numbers:\n        return None\n    \n    unique_numbers = sorted(set(numbers))\n    \n    if k <= 0 or k > len(unique_numbers):\n        return None\n    \n    return unique_numbers[k - 1]\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `calculate_statistics` that computes and returns a dictionary containing the following statistical measures for the list: mean, median, mode, range, variance, and standard deviation. The function should handle any non-empty list of integers. You are not allowed to use any external libraries for these calculations.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^3, -10^3 ≤ numbers[i] ≤ 10^3).\n\n**Output:**\n- A dictionary with keys \"Mean\", \"Median\", \"Mode\", \"Range\", \"Variance\", and \"Standard Deviation\" corresponding to the calculated statistical measures.\n\n**Sample Input:**\n```python\nnumbers = [1, 2, 2, 3, 4]\n```\n\n**Sample Output:**\n```python\n{\n    \"Mean\": 2.4,\n    \"Median\": 2,\n    \"Mode\": 2,\n    \"Range\": 3,\n    \"Variance\": 1.2,\n    \"Standard Deviation\": 1.0954451150103321\n}\n```", "response": "```python\ndef calculate_statistics(numbers):\n    \"\"\"\n    Calculate and return a dictionary of statistical measures for a list of numbers.\n    \n    Parameters:\n    numbers (list of int): A non-empty list of integers.\n    \n    Returns:\n    dict: A dictionary with keys \"Mean\", \"Median\", \"Mode\", \"Range\", \"Variance\", and \"Standard Deviation\".\n    \"\"\"\n    if not numbers:\n        raise ValueError(\"The list should contain at least one number.\")\n    \n    n = len(numbers)\n    \n    # Mean\n    mean = sum(numbers) / n\n    \n    # Median\n    sorted_numbers = sorted(numbers)\n    mid = n // 2\n    if n % 2 == 0:\n        median = (sorted_numbers[mid - 1] + sorted_numbers[mid]) / 2\n    else:\n        median = sorted_numbers[mid]\n    \n    # Mode\n    frequency = {}\n    for num in numbers:\n        frequency[num] = frequency.get(num, 0) + 1\n    max_freq = max(frequency.values())\n    mode = [num for num, freq in frequency.items() if freq == max_freq]\n    if len(mode) == n:\n        mode = []  # No mode if all numbers are equally frequent\n    else:\n        mode = mode[0] if len(mode) == 1 else mode\n    \n    # Range\n    range_value = max(numbers) - min(numbers)\n    \n    # Variance\n    variance = sum((x - mean) ** 2 for x in numbers) / n\n    \n    # Standard Deviation\n    std_deviation = variance ** 0.5\n    \n    return {\n        \"Mean\": mean,\n        \"Median\": median,\n        \"Mode\": mode,\n        \"Range\": range_value,\n        \"Standard Deviation\": std_deviation,\n        \"Variance\": variance\n    }\n```"}
{"text": "You are given a task to implement a function `convert_to_base64(s)` that accepts a single argument `s`. Your function should return the Base64 encoded version of the string `s` if `s` is a string. If `s` is not a string, the function should return `None`. \n\n**Input:**\n- A single argument `s` which can be of any data type.\n\n**Output:**\n- A string representing the Base64 encoded version of `s` if `s` is a string, otherwise `None`.\n\n**Sample Input/Output:**\n- `convert_to_base64(\"hello\")` should return `\"aGVsbG8=\"`.\n- `convert_to_base64(123)` should return `None`.\n- `convert_to_base64(\"\")` should return `\"\"`.", "response": "```python\nimport base64\n\ndef convert_to_base64(s) -> str:\n    \"\"\"\n    Converts a given string to its Base64 encoded version.\n    \n    Parameters:\n    s (any): The input to be encoded.\n    \n    Returns:\n    str: The Base64 encoded string if the input is a string, otherwise None.\n    \"\"\"\n    if not isinstance(s, str):\n        return None\n    encoded_bytes = base64.b64encode(s.encode('utf-8'))\n    return encoded_bytes.decode('utf-8')\n```"}
{"text": "You are given a list of integers `nums` and an integer `target`. Your task is to write a Python function `count_pairs(nums, target)` that returns the number of unique pairs of integers in `nums` that add up to `target`. Use a dictionary to optimize the counting process.\n\n**Constraints:**\n- 1 ≤ len(nums) ≤ 10^5\n- -10^9 ≤ nums[i] ≤ 10^9\n- -10^9 ≤ target ≤ 10^9\n\n**Sample Input:**\n```python\nnums = [1, 5, 7, -1, 5]\ntarget = 6\n```\n\n**Sample Output:**\n```\n3\n```\n\n**Explanation:**\nThe pairs that add up to 6 are (1, 5), (7, -1), and (5, 1). Note that the pair (5, 1) is counted twice because 5 appears twice in the list.", "response": "```python\ndef count_pairs(nums, target):\n    \"\"\"\n    Returns the number of pairs in the list that add up to the given target value.\n    \n    :param nums: List of integers\n    :param target: Integer target sum\n    :return: Integer count of pairs\n    \"\"\"\n    num_counts = {}\n    pair_count = 0\n\n    for num in nums:\n        complement = target - num\n        if complement in num_counts:\n            pair_count += num_counts[complement]\n        if num in num_counts:\n            num_counts[num] += 1\n        else:\n            num_counts[num] = 1\n\n    return pair_count\n```"}
{"text": "You are given a string `expression` consisting of characters '(', ')', '{', '}', '[' and ']'. Your task is to determine if the parentheses in the string are balanced. A string with balanced parentheses means that each opening parenthesis has a corresponding closing parenthesis in the correct order.\n\n**Input:**\n- A single string `expression` (1 ≤ len(expression) ≤ 10^5) containing only the characters '(', ')', '{', '}', '[' and ']'.\n\n**Output:**\n- Return `True` if the parentheses in the string are balanced, otherwise return `False`.\n\n**Sample Input:**\n```\n\"{[()]}\"\n```\n\n**Sample Output:**\n```\nTrue\n```\n\n**Sample Input:**\n```\n\"{[(])}\"\n```\n\n**Sample Output:**\n```\nFalse\n```", "response": "```python\ndef is_balanced_parentheses(expression):\n    \"\"\"\n    Determines if the parentheses in the given expression are balanced.\n\n    :param expression: A string containing only the characters '(', ')', '{', '}', '[' and ']'.\n    :return: True if the parentheses are balanced, False otherwise.\n    \"\"\"\n    stack = []\n    matching_parentheses = {\")\": \"(\", \"}\": \"{\", \"]\": \"[\"}\n\n    for char in expression:\n        if char in matching_parentheses.values():\n            stack.append(char)\n        elif char in matching_parentheses:\n            if not stack or stack[-1] != matching_parentheses[char]:\n                return False\n            stack.pop()\n\n    return not stack\n```"}
{"text": "You are given a string `s` consisting of a sequence of characters, which may include letters, numbers, spaces, punctuation, and special symbols. Your task is to write a Python function that removes all non-alphanumeric characters from the string, retaining only letters and numbers. The function should utilize regular expressions to accomplish this. The input string can contain any type of characters. Your function should return the cleaned string containing only alphanumeric characters.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5).\n\n**Output:**\n- A string containing only alphanumeric characters from the original string.\n\n**Sample Input:**\n```\n\"Hello, World! 1234 @#%&*()_+\"\n```\n\n**Sample Output:**\n```\n\"HelloWorld1234\"\n```", "response": "```python\nimport re\n\ndef remove_non_alphanumeric(s):\n    \"\"\"\n    Removes all non-alphanumeric characters from the input string using regular expressions.\n    \n    Parameters:\n    s (str): The input string containing a sequence of characters.\n    \n    Returns:\n    str: A string containing only alphanumeric characters from the original string.\n    \"\"\"\n    cleaned_string = re.sub(r'[^a-zA-Z0-9]', '', s)\n    return cleaned_string\n\n# Example usage:\ns = \"Hello, World! 1234 @#%&*()_+\"\nresult = remove_non_alphanumeric(s)\nprint(result)\n```"}
{"text": "You are given a string `text` and a list of `stop_words`. Your task is to implement a function `filter_words` that processes the string by removing all occurrences of the words listed in `stop_words`, ignoring case. The order of the remaining words in the output should match their order in the original string. \n\n**Input:**\n- A string `text` (1 ≤ |text| ≤ 1000) consisting of words separated by spaces.\n- A list of `stop_words` (0 ≤ |stop_words| ≤ 100), where each word is a string.\n\n**Output:**\n- A string containing the words from `text` that are not in `stop_words`, maintaining the original order.\n\n**Sample Input:**\n```\ntext = \"This is an example sentence to demonstrate the filter function.\"\nstop_words = [\"is\", \"an\", \"to\"]\n```\n\n**Sample Output:**\n```\n\"This example sentence demonstrate the filter function.\"\n```", "response": "```python\ndef filter_words(text, stop_words):\n    \"\"\"\n    Filters out words from the given text that are present in the stop_words list, ignoring case.\n    \n    Parameters:\n    text (str): The input string containing words separated by spaces.\n    stop_words (list): A list of words to be removed from the text.\n    \n    Returns:\n    str: A string with the stop words removed, maintaining the original order of words.\n    \"\"\"\n    stop_words_set = set(word.lower() for word in stop_words)\n    words = text.split()\n    filtered_words = [word for word in words if word.lower() not in stop_words_set]\n    return ' '.join(filtered_words)\n\n# Example usage:\ntext = \"This is an example sentence to demonstrate the filter function.\"\nstop_words = [\"is\", \"an\", \"to\"]\nfiltered_text = filter_words(text, stop_words)\nprint(filtered_text)  # Output: \"This example sentence demonstrate the filter function.\"\n```"}
{"text": "You are given a list of tuples, where each tuple consists of a word and its corresponding frequency count. Your task is to implement a function `sort_by_frequency(word_freq)` that sorts the list of tuples in descending order based on the frequency count. If two words share the same frequency, they should be sorted in ascending lexicographical order. \n\n**Input:**\n- A list of tuples `word_freq` where each tuple is of the form `(word, frequency)`.\n- The list can contain up to 1000 tuples.\n- Each word is a non-empty string consisting of lowercase English letters.\n- Frequency is a non-negative integer.\n\n**Output:**\n- Return the list of tuples sorted according to the specified criteria.\n\n**Sample Input:**\n```python\nword_freq = [('apple', 5), ('banana', 3), ('orange', 7), ('pear', 3), ('peach', 5)]\n```\n\n**Sample Output:**\n```python\n[('orange', 7), ('apple', 5), ('peach', 5), ('banana', 3), ('pear', 3)]\n```", "response": "```python\ndef sort_by_frequency(word_freq):\n    \"\"\"\n    Sorts a list of tuples containing words and their frequencies.\n    \n    The list is sorted in descending order by frequency. If two words have the same frequency,\n    they are sorted in ascending lexicographical order.\n    \n    :param word_freq: List of tuples (word, frequency)\n    :return: Sorted list of tuples\n    \"\"\"\n    word_freq.sort(key=lambda x: x[0])\n    word_freq.sort(key=lambda x: x[1], reverse=True)\n    return word_freq\n\n# Example usage\nword_freq = [('apple', 5), ('banana', 3), ('orange', 7), ('pear', 3), ('peach', 5)]\nsorted_word_freq = sort_by_frequency(word_freq)\nprint(sorted_word_freq)\n```"}
{"text": "You are given an integer `n`. Your task is to determine if `n` is a prime number. A prime number is a natural number greater than 1 that has no positive divisors other than 1 and itself. Write a function `is_prime` that returns `True` if `n` is a prime number and `False` otherwise.\n\n**Input:**\n- An integer `n` (1 ≤ n ≤ 10^6)\n\n**Output:**\n- Return `True` if `n` is a prime number, otherwise return `False`.\n\n**Sample Input:**\n```\n7\n10\n```\n\n**Sample Output:**\n```\nTrue\nFalse\n```", "response": "```python\ndef is_prime(n):\n    \"\"\"Return True if n is a prime number, otherwise False.\"\"\"\n    if n <= 1:\n        return False\n    elif n <= 3:\n        return True\n    elif n % 2 == 0 or n % 3 == 0:\n        return False\n    i = 5\n    while i * i <= n:\n        if n % i == 0 or n % (i + 2) == 0:\n            return False\n        i += 6\n    return True\n\n# Test cases\nprint(is_prime(7))  # Expected output: True\nprint(is_prime(10)) # Expected output: False\n```"}
{"text": "You are given a list of integers containing numbers from 1 to n with exactly one number missing. Your task is to implement a function `find_missing_number()` that identifies and returns the missing number. The function should be efficient in terms of both time and space complexity.\n\n**Input:**\n- A list of integers `numbers` where `1 <= len(numbers) <= 10^5` and each integer is in the range `[1, n]`.\n\n**Output:**\n- An integer representing the missing number.\n\n**Sample Input:**\n```\n[1, 2, 3, 5, 6, 7, 8, 9, 10]\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef find_missing_number(numbers):\n    \"\"\"\n    Identifies and returns the missing number in a list of integers from 1 to n.\n    \n    :param numbers: List of integers with one number missing.\n    :return: The missing integer.\n    \"\"\"\n    n = len(numbers) + 1\n    expected_sum = n * (n + 1) // 2\n    actual_sum = sum(numbers)\n    return expected_sum - actual_sum\n\n# Example usage\nnumbers = [1, 2, 3, 5, 6, 7, 8, 9, 10]\nprint(find_missing_number(numbers))  # Output: 4\n```"}
{"text": "You are tasked with writing a Python script that processes a CSV file containing employee data and generates a Markdown report. The CSV file includes the following columns: `employee_id`, `name`, `position`, `department`, and `salary`. Your script must produce a Markdown file with a table listing all employees sorted first by department and then by position. Additionally, the report should include a summary section that specifies the total number of employees and the average salary.\n\n**Input:**\n- A CSV file named `employees.csv` with the following structure:\n  ```\n  employee_id,name,position,department,salary\n  1,John Doe,Manager,HR,75000\n  2,Jane Smith,Analyst,Finance,60000\n  3,Bob Johnson,Manager,Finance,80000\n  4,Alice Brown,Analyst,HR,55000\n  ```\n\n**Output:**\n- A Markdown file named `report.md` with the following content:\n  ```\n  | Employee ID | Name        | Position | Department | Salary |\n  |-------------|-------------|----------|------------|--------|\n  | 4           | Alice Brown | Analyst  | HR         | 55000  |\n  | 1           | John Doe    | Manager  | HR         | 75000  |\n  | 2           | Jane Smith  | Analyst  | Finance    | 60000  |\n  | 3           | Bob Johnson | Manager  | Finance    | 80000  |\n\n  ## Summary\n  - Total Employees: 4\n  - Average Salary: 67500.00\n  ```", "response": "```python\nimport csv\nfrom collections import defaultdict\n\ndef generate_markdown_report(csv_file_path, markdown_report_path):\n    \"\"\"\n    Generates a Markdown report from a CSV file containing employee data.\n    \n    Parameters:\n    csv_file_path (str): The path to the input CSV file.\n    markdown_report_path (str): The path to the output Markdown report file.\n    \"\"\"\n    # Read CSV data\n    employees = []\n    with open(csv_file_path, mode='r') as file:\n        reader = csv.DictReader(file)\n        for row in reader:\n            employees.append(row)\n\n    # Sort employees by department and then by position\n    employees.sort(key=lambda x: (x['department'], x['position']))\n\n    # Create departments grouped data\n    departments = defaultdict(list)\n    total_salary = 0\n    for employee in employees:\n        departments[employee['department']].append(employee)\n        total_salary += float(employee['salary'])\n\n    # Write Markdown report\n    with open(markdown_report_path, mode='w') as file:\n        # Write table header\n        file.write(f\"| Employee ID | Name | Position | Department | Salary |\\n\")\n        file.write(f\"|-------------|------|----------|------------|--------|\\n\")\n\n        # Write sorted employees\n        for department in departments:\n            for employee in departments[department]:\n                file.write(f\"| {employee['employee_id']} | {employee['name']} | {employee['position']} | {employee['department']} | {employee['salary']} |\\n\")\n        \n        # Write summary section\n        total_employees = len(employees)\n        average_salary = total_salary / total_employees if total_employees > 0 else 0\n        file.write(f\"\\n## Summary\\n\")\n        file.write(f\"- Total Employees: {total_employees}\\n\")\n        file.write(f\"- Average Salary: {average_salary:.2f}\\n\")\n\n# Example usage\ngenerate_markdown_report('employees.csv', 'report.md')\n```"}
{"text": "You are given a string in `snake_case` format. Your task is to write a function `convert_to_pascal_case(snake_str)` that converts this string to `PascalCase`. The function should handle edge cases such as multiple consecutive underscores and leading/trailing underscores.\n\n**Input:**\n- A single string `snake_str` (1 ≤ len(snake_str) ≤ 100) consisting of lowercase letters and underscores.\n\n**Output:**\n- A single string in `PascalCase`.\n\n**Sample Inputs and Outputs:**\n- Input: `\"example_string\"`  \n  Output: `\"ExampleString\"`\n- Input: `\"__example__string__\"`  \n  Output: `\"ExampleString\"`\n- Input: `\"_example_string_\"`  \n  Output: `\"ExampleString\"`\n- Input: `\"example__string\"`  \n  Output: `\"ExampleString\"`", "response": "```python\ndef convert_to_pascal_case(snake_str):\n    \"\"\"\n    Convert a snake_case string to PascalCase.\n    \n    Parameters:\n    snake_str (str): The input string in snake_case format.\n    \n    Returns:\n    str: The converted string in PascalCase.\n    \"\"\"\n    components = snake_str.split('_')\n    components = [word for word in components if word]\n    pascal_case_str = ''.join(word.capitalize() for word in components)\n    return pascal_case_str\n\n# Example usage:\nprint(convert_to_pascal_case(\"example_string\"))  # Output: ExampleString\nprint(convert_to_pascal_case(\"__example__string__\"))  # Output: ExampleString\nprint(convert_to_pascal_case(\"_example_string_\"))  # Output: ExampleString\nprint(convert_to_pascal_case(\"example__string\"))  # Output: ExampleString\n```"}
{"text": "You are tasked with implementing a function `parse_json` that processes a JSON string and returns a dictionary representation of the JSON data. Your function must handle invalid JSON input gracefully by returning an empty dictionary. Your solution should be efficient and robust.\n\n**Input:**\n- A single string `json_string` which may or may not be a valid JSON string.\n\n**Output:**\n- A dictionary containing the parsed JSON data if the input is valid.\n- An empty dictionary if the input is not a valid JSON string.\n\n**Sample Input 1:**\n```json\n{\"name\": \"Alice\", \"age\": 30}\n```\n\n**Sample Output 1:**\n```python\n{'name': 'Alice', 'age': 30}\n```\n\n**Sample Input 2:**\n```json\n{invalid json}\n```\n\n**Sample Output 2:**\n```python\n{}\n```", "response": "```python\nimport json\n\ndef parse_json(json_string):\n    \"\"\"\n    Parses a JSON string and returns a dictionary representation of the JSON data.\n    If the input string is not valid JSON, returns an empty dictionary.\n\n    :param json_string: A string containing JSON data.\n    :return: A dictionary with the parsed JSON data or an empty dictionary if parsing fails.\n    \"\"\"\n    try:\n        return json.loads(json_string)\n    except json.JSONDecodeError:\n        return {}\n```"}
{"text": "You are tasked with creating a Python function that generates a simple HTML webpage. The webpage must include a navigation bar, a header, a main content area, and a footer. The navigation bar should contain links to \"Home\", \"About\", and \"Contact\" sections. The header should display a welcome message along with the current date. The main content area should contain a brief paragraph about the website. The footer should display copyright information. The HTML and CSS should be embedded within the function, and the function should return the complete HTML code as a string.\n\n**Sample Output:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 0;\n        }\n        .navbar {\n            display: flex;\n            background-color: #333;\n            overflow: hidden;\n        }\n        .navbar a {\n            flex: 1;\n            display: block;\n            color: white;\n            text-align: center;\n            padding: 14px 16px;\n            text-decoration: none;\n        }\n        .navbar a:hover {\n            background-color: #ddd;\n            color: black;\n        }\n        .header {\n            background-color: #f2f2f2;\n            padding: 20px;\n            text-align: center;\n        }\n        .content {\n            padding: 20px;\n            text-align: center;\n        }\n        .footer {\n            background-color: #333;\n            color: white;\n            text-align: center;\n            padding: 10px;\n            position: fixed;\n            width: 100%;\n            bottom: 0;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"navbar\">\n        <a href=\"#home\">Home</a>\n        <a href=\"#about\">About</a>\n        <a href=\"#contact\">Contact</a>\n    </div>\n    <div class=\"header\">\n        <h1>Welcome to Our Website</h1>\n        <p>Date: 2023-10-05</p>\n    </div>\n    <div class=\"content\">\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque imperdiet dolor vel urna bibendum, eu porttitor sem condimentum. Nulla sit amet dignissim est. Sed vel nisi orci. Nam nec ex sapien.</p>\n    </div>\n    <div class=\"footer\">\n        <p>&copy; 2023 All rights reserved.</p>\n    </div>\n</body>\n</html>\n```\n*Note: The date in the sample output will vary based on the current date.*", "response": "```python\nfrom datetime import datetime\n\ndef generate_website():\n    \"\"\"\n    Generates a simple HTML webpage with a navigation bar, header, main content area, and footer.\n    The navigation bar includes links to \"Home\", \"About\", and \"Contact\" sections.\n    The header displays a welcome message and the current date.\n    The main content area contains a brief paragraph about the website.\n    The footer displays copyright information.\n    \n    Returns:\n        str: The complete HTML code as a string.\n    \"\"\"\n    current_date = datetime.now().strftime('%Y-%m-%d')\n    html_content = f\"\"\"\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <style>\n            body {{\n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n            }}\n            .navbar {{\n                display: flex;\n                background-color: #333;\n                overflow: hidden;\n            }}\n            .navbar a {{\n                flex: 1;\n                display: block;\n                color: white;\n                text-align: center;\n                padding: 14px 16px;\n                text-decoration: none;\n            }}\n            .navbar a:hover {{\n                background-color: #ddd;\n                color: black;\n            }}\n            .header {{\n                background-color: #f2f2f2;\n                padding: 20px;\n                text-align: center;\n            }}\n            .content {{\n                padding: 20px;\n                text-align: center;\n            }}\n            .footer {{\n                background-color: #333;\n                color: white;\n                text-align: center;\n                padding: 10px;\n                position: fixed;\n                width: 100%;\n                bottom: 0;\n            }}\n        </style>\n    </head>\n    <body>\n        <div class=\"navbar\">\n            <a href=\"#home\">Home</a>\n            <a href=\"#about\">About</a>\n            <a href=\"#contact\">Contact</a>\n        </div>\n        <div class=\"header\">\n            <h1>Welcome to Our Website</h1>\n            <p>Date: {current_date}</p>\n        </div>\n        <div class=\"content\">\n            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque imperdiet dolor vel urna bibendum, eu porttitor sem condimentum. Nulla sit amet dignissim est. Sed vel nisi orci. Nam nec ex sapien.</p>\n        </div>\n        <div class=\"footer\">\n            <p>&copy; 2023 All rights reserved.</p>\n        </div>\n    </body>\n    </html>\n    \"\"\"\n    return html_content\n```"}
{"text": "You are given a string `s`. Your task is to implement a function `find_longest_palindromic_substring` that returns the longest palindromic substring within `s`. If there are multiple palindromic substrings of the same maximum length, return the one that appears first in the string. The function should be optimized to run in O(n^2) time complexity.\n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 1000), consisting of lowercase English letters.\n\n**Output:**\n- A string representing the longest palindromic substring.\n\n**Sample Input:**\n```\nbabad\n```\n\n**Sample Output:**\n```\nbab\n```\n\n**Sample Input:**\n```\ncbbd\n```\n\n**Sample Output:**\n```\nbb\n```", "response": "```python\ndef find_longest_palindromic_substring(s: str) -> str:\n    \"\"\"\n    Returns the longest palindromic substring in the given string s.\n    If multiple substrings of the same length exist, returns the first one.\n    \n    :param s: Input string\n    :return: Longest palindromic substring\n    \"\"\"\n    def expand_around_center(left: int, right: int) -> str:\n        \"\"\"\n        Expands around the center indices left and right to find the longest palindrome.\n        \n        :param left: Left index\n        :param right: Right index\n        :return: Longest palindromic substring found by expanding around the center\n        \"\"\"\n        while left >= 0 and right < len(s) and s[left] == s[right]:\n            left -= 1\n            right += 1\n        return s[left + 1:right]\n    \n    longest_palindrome = \"\"\n    \n    for i in range(len(s)):\n        # Odd length palindromes\n        palindrome1 = expand_around_center(i, i)\n        # Even length palindromes\n        palindrome2 = expand_around_center(i, i + 1)\n        \n        # Update the longest palindrome found\n        if len(palindrome1) > len(longest_palindrome):\n            longest_palindrome = palindrome1\n        if len(palindrome2) > len(longest_palindrome):\n            longest_palindrome = palindrome2\n            \n    return longest_palindrome\n```"}
{"text": "You are given an `n x n` matrix `matrix` where each row and each column is sorted in ascending order. Your task is to find the k-th smallest element in the matrix. \n\n**Input:**\n- The first line contains two integers `n` and `k` (1 ≤ n ≤ 300, 1 ≤ k ≤ n^2).\n- The next `n` lines contain `n` integers each, representing the matrix. Each element in the matrix is between -10^9 and 10^9.\n\n**Output:**\n- Print the k-th smallest element in the matrix.\n\n**Sample Input:**\n```\n3 5\n1 5 9\n10 11 13\n12 14 16\n```\n\n**Sample Output:**\n```\n13\n```", "response": "```python\ndef kthSmallest(matrix, k):\n    \"\"\"\n    Finds the k-th smallest element in a sorted n x n matrix.\n    \n    :param matrix: List[List[int]] - The n x n matrix with sorted rows and columns.\n    :param k: int - The k-th position to find the smallest element for.\n    :return: int - The k-th smallest element in the matrix.\n    \"\"\"\n    def count_less_equal(x):\n        \"\"\"\n        Counts the number of elements in the matrix that are less than or equal to x.\n        \n        :param x: int - The value to compare elements against.\n        :return: int - The count of elements less than or equal to x.\n        \"\"\"\n        count = 0\n        col = len(matrix[0]) - 1\n        for row in matrix:\n            while col >= 0 and row[col] > x:\n                col -= 1\n            count += col + 1\n        return count\n    \n    low, high = matrix[0][0], matrix[-1][-1]\n    \n    while low < high:\n        mid = (low + high) // 2\n        if count_less_equal(mid) < k:\n            low = mid + 1\n        else:\n            high = mid\n    \n    return low\n```"}
{"text": "You are given an array `nums` of `n` distinct integers in the range `[0, n]`. Your task is to find the missing number in the array. The solution should be efficient, operating in O(n) time complexity and using O(1) additional space.\n\n**Sample Input:**\n```\n[3, 0, 1]\n```\n\n**Sample Output:**\n```\n2\n```\n\n**Sample Input:**\n```\n[9, 6, 4, 2, 3, 5, 7, 0, 1]\n```\n\n**Sample Output:**\n```\n8\n```", "response": "```python\ndef find_missing_number(nums):\n    \"\"\"\n    Finds the missing number in an array of n distinct integers in the range [0, n].\n\n    :param nums: List[int] - A list of n distinct integers.\n    :return: int - The missing number in the range [0, n].\n    \"\"\"\n    missing = len(nums)\n    for i, num in enumerate(nums):\n        missing ^= i ^ num\n    return missing\n\n# Test the function\nprint(find_missing_number([3, 0, 1]))  # Output: 2\nprint(find_missing_number([9, 6, 4, 2, 3, 5, 7, 0, 1]))  # Output: 8\n```"}
{"text": "You are given a list of strings `words` and a string `target`. Your task is to implement a function `word_occurrences(words, target)` that returns the number of times `target` appears in the list `words`. The comparison should be case-insensitive.\n\n**Input:**\n- A list of strings `words` (1 ≤ len(words) ≤ 10^3), where each string consists of at most 100 characters.\n- A string `target` (1 ≤ len(target) ≤ 100).\n\n**Output:**\n- An integer representing the number of times `target` appears in `words`, ignoring case.\n\n**Sample Input:**\n```\nwords = [\"Apple\", \"banana\", \"apple\", \"Orange\", \"Banana\", \"orange\"]\ntarget = \"apple\"\n```\n\n**Sample Output:**\n```\n2\n```", "response": "```python\ndef word_occurrences(words, target):\n    \"\"\"\n    Returns the number of times the target string appears in the list of words, ignoring case.\n\n    :param words: List of strings to search within.\n    :param target: String to count occurrences of.\n    :return: Integer count of occurrences of target in words, case-insensitive.\n    \"\"\"\n    return sum(1 for word in words if word.lower() == target.lower())\n```"}
{"text": "You are given a string `s`. Your task is to implement a function `count_vowels` that returns the number of vowels in the string. Vowels are defined as 'a', 'e', 'i', 'o', 'u' (both lowercase and uppercase). If the string is empty, the function should return 0.\n\n**Input:**\n- A single string `s` (0 ≤ |s| ≤ 1000).\n\n**Output:**\n- An integer representing the number of vowels in the string.\n\n**Sample Input:**\n```\nHello, World!\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\ndef count_vowels(s):\n    \"\"\"\n    Counts the number of vowels in the given string.\n\n    Parameters:\n    s (str): The input string.\n\n    Returns:\n    int: The number of vowels in the string.\n    \"\"\"\n    vowels = 'aeiouAEIOU'\n    count = sum(1 for char in s if char in vowels)\n    return count\n\n# Testing the function with \"Hello, World!\"\nresult = count_vowels(\"Hello, World!\")\nprint(result)  # Expected output: 3\n```"}
{"text": "You are tasked with implementing a function to compute the `n`-th Fibonacci number using a recursive approach. To optimize the performance, your function should utilize memoization. The Fibonacci sequence is defined as follows: `F(0) = 0`, `F(1) = 1`, and `F(n) = F(n-1) + F(n-2)` for `n > 1`.\n\n**Input:**\n- An integer `n` (0 ≤ n ≤ 50).\n\n**Output:**\n- Return the `n`-th Fibonacci number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef calculate_fibonacci(n, memo={}):\n    \"\"\"\n    Calculate the n-th Fibonacci number using recursion with memoization.\n\n    Parameters:\n    n (int): The position in the Fibonacci sequence.\n\n    Returns:\n    int: The n-th Fibonacci number.\n    \"\"\"\n    if n in memo:\n        return memo[n]\n    if n <= 0:\n        return 0\n    elif n == 1:\n        return 1\n    else:\n        memo[n] = calculate_fibonacci(n-1, memo) + calculate_fibonacci(n-2, memo)\n        return memo[n]\n```"}
{"text": "You are given a text file named \"story.txt\". Your task is to write a Python program that reads this file and calculates the frequency of each word, excluding common stop words such as \"the\", \"and\", \"is\", etc. The program should output the most common words along with their frequencies in descending order of frequency. The program should handle any errors that may occur during file reading, such as the file not being found or incorrect data formats.\n\n**Sample Input:**\nThe file \"story.txt\" contains the following text:\n```\nThe quick brown fox jumps over the lazy dog. The dog was not amused.\n```\n\n**Sample Output:**\n```\nMost common words and their frequencies:\nthe: 2\ndog: 2\nquick: 1\nbrown: 1\nfox: 1\njumps: 1\nover: 1\nlazy: 1\nwas: 1\nnot: 1\namused: 1\n```", "response": "```python\nimport string\nfrom collections import Counter\n\ndef word_frequencies(filename):\n    \"\"\"\n    Reads a text file and prints the most common words and their frequencies,\n    excluding common stop words, in descending order of frequency.\n    \n    Args:\n    filename (str): The name of the file to read.\n    \n    Returns:\n    None\n    \"\"\"\n    stop_words = {'the', 'and', 'is', 'in', 'to', 'of', 'it', 'that', 'which', 'on', 'for', 'as', 'with', 'a', 'an'}\n    \n    try:\n        with open(filename, 'r') as file:\n            content = file.read().lower()\n            content = content.translate(str.maketrans('', '', string.punctuation))\n            words = content.split()\n            words = [word for word in words if word not in stop_words]\n            word_count = Counter(words)\n            word_count_sorted = word_count.most_common()\n            \n            print(\"Most common words and their frequencies:\")\n            for word, freq in word_count_sorted:\n                print(f\"{word}: {freq}\")\n    \n    except FileNotFoundError:\n        print(\"Error: The file does not exist.\")\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n\n# Example usage\nword_frequencies(\"story.txt\")\n```"}
{"text": "You are given a nested list structure containing integers and other nested lists. Your task is to write a function `flatten` that takes this nested list as input and returns a single flattened list with all the integers in the order they appear. The function should be able to handle an arbitrary depth of nesting.\n\n**Sample Input:**\n```python\n[[1, 2, [3]], 4, [5, [6, 7]], 8]\n```\n\n**Sample Output:**\n```python\n[1, 2, 3, 4, 5, 6, 7, 8]\n```", "response": "```python\ndef flatten(nested_list):\n    \"\"\"\n    Flattens a nested list of arbitrary depth into a single list of integers.\n\n    :param nested_list: List of integers and/or nested lists\n    :return: Flattened list of integers\n    \"\"\"\n    flattened_list = []\n    \n    for element in nested_list:\n        if isinstance(element, list):\n            flattened_list.extend(flatten(element))\n        else:\n            flattened_list.append(element)\n    \n    return flattened_list\n```"}
{"text": "You are given a positive integer `n`. Your task is to write a Python function `sum_of_squares` that computes the sum of the squares of all integers from 1 to `n`. The function should utilize a loop to perform the calculation.\n\n**Input:**\n- A single integer `n` (1 ≤ n ≤ 10^4)\n\n**Output:**\n- An integer representing the sum of squares from 1 to `n`.\n\n**Sample Input:**\n```\n5\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef sum_of_squares(n):\n    \"\"\"\n    Calculate the sum of squares of all integers from 1 to n.\n\n    Parameters:\n    n (int): A positive integer up to which the sum of squares is calculated.\n\n    Returns:\n    int: The sum of squares from 1 to n.\n    \"\"\"\n    sum_squares = 0\n    for i in range(1, n + 1):\n        sum_squares += i ** 2\n    return sum_squares\n```"}
{"text": "You are given a task to write a Python script that reads a JSON file, modifies a specific key-value pair, and writes the updated data back to the file. Your script should prompt the user to enter the path to the JSON file, the key to be modified, and the new value. If the key does not exist in the JSON file, your script should print an appropriate message. Handle exceptions for file not found and JSON decoding errors.\n\n**Sample Input:**\n```\nEnter the path to the JSON file: data.json\nEnter the key to be modified: name\nEnter the new value: JohnDoe\n```\n\n**Sample Output:**\n```\nKey 'name' has been updated to 'JohnDoe' in the JSON file.\n```\n\n**Sample Input:**\n```\nEnter the path to the JSON file: data.json\nEnter the key to be modified: age\nEnter the new value: 30\n```\n\n**Sample Output:**\n```\nKey 'age' not found in the JSON file.\n```", "response": "```python\nimport json\n\ndef modify_json_file():\n    \"\"\"\n    Modifies a specific key-value pair in a JSON file based on user input.\n    Prompts the user for the file path, key to modify, and new value.\n    Handles exceptions for file not found and JSON decoding errors.\n    \"\"\"\n    file_path = input(\"Enter the path to the JSON file: \")\n    key_to_modify = input(\"Enter the key to be modified: \")\n    new_value = input(\"Enter the new value: \")\n\n    try:\n        with open(file_path, 'r') as file:\n            data = json.load(file)\n        \n        if key_to_modify in data:\n            data[key_to_modify] = new_value\n            with open(file_path, 'w') as file:\n                json.dump(data, file, indent=4)\n            print(f\"Key '{key_to_modify}' has been updated to '{new_value}' in the JSON file.\")\n        else:\n            print(f\"Key '{key_to_modify}' not found in the JSON file.\")\n    except FileNotFoundError:\n        print(f\"File not found: {file_path}\")\n    except json.JSONDecodeError:\n        print(f\"Error decoding JSON from file: {file_path}\")\n    except Exception as e:\n        print(f\"An error occurred: {str(e)}\")\n\nmodify_json_file()\n```"}
{"text": "You are given a list of integers `nums` which may contain both positive and negative numbers. Your task is to implement a function `max_product(nums)` that returns the maximum product of any three numbers from the list. If the list contains fewer than three numbers, the function should raise a `ValueError`.\n\n**Constraints:**\n- The list `nums` will have at least 1 and at most 10^3 elements.\n- Each element in `nums` will be an integer in the range [-10^3, 10^3].\n\n**Sample Input:**\n```\n[-10, -10, 5, 2]\n```\n\n**Sample Output:**\n```\n500\n```", "response": "```python\ndef max_product(nums):\n    \"\"\"\n    Returns the maximum product of any three numbers in the list.\n    \n    :param nums: List of integers\n    :return: Maximum product of any three numbers\n    :raises ValueError: If the list contains fewer than three numbers\n    \"\"\"\n    if len(nums) < 3:\n        raise ValueError(\"List must contain at least three numbers\")\n    \n    nums.sort()\n    \n    return max(nums[-1] * nums[-2] * nums[-3], nums[0] * nums[1] * nums[-1])\n```"}
{"text": "You are given a list of integers. Your task is to write a function named `extract_even_numbers` that processes this list and returns a new list containing only the even numbers from the original list. The function should take a single parameter, which is the list of integers.\n\n**Input:**\n- A list of integers, `input_list`.\n\n**Output:**\n- A list of integers containing only the even numbers from `input_list`.\n\n**Sample Input:**\n```\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n```\n\n**Sample Output:**\n```\n[2, 4, 6, 8, 10]\n```", "response": "```python\ndef extract_even_numbers(input_list):\n    \"\"\"\n    Extracts even numbers from the given list of integers.\n\n    Parameters:\n    input_list (list): A list of integers.\n\n    Returns:\n    list: A list containing only the even numbers from the input list.\n    \"\"\"\n    return [num for num in input_list if num % 2 == 0]\n```"}
{"text": "You are tasked with implementing a `Book` class in Python. The class should have the following attributes: `title`, `author`, `year_published`, and `isbn`. Implement methods to set each of these attributes and a method to retrieve a formatted string containing all the book's information. The `isbn` attribute must be validated to ensure it consists of exactly 13 digits. Your implementation should include a comprehensive docstring for the class and its methods.\n\n**Sample Input/Output:**\n```python\nbook = Book()\nbook.set_title(\"1984\")\nbook.set_author(\"George Orwell\")\nbook.set_year_published(1949)\nbook.set_isbn(\"9780451524935\")\nprint(book.get_info())\n```\n\n**Expected Output:**\n```\nTitle: 1984\nAuthor: George Orwell\nYear Published: 1949\nISBN: 9780451524935\n```", "response": "```python\nclass Book:\n    \"\"\"\n    A class to represent a Book.\n\n    Attributes:\n    ----------\n    title : str\n        the title of the book\n    author : str\n        the author of the book\n    year_published : int\n        the year the book was published\n    isbn : str\n        the International Standard Book Number of the book\n\n    Methods\n    -------\n    set_title(title: str)\n        Sets the title of the book.\n\n    set_author(author: str)\n        Sets the author of the book.\n\n    set_year_published(year_published: int)\n        Sets the year the book was published.\n\n    set_isbn(isbn: str)\n        Sets the ISBN of the book, validates that it has 13 digits.\n\n    get_info() -> str\n        Returns a string containing the book's title, author, year published, and ISBN.\n    \"\"\"\n\n    def __init__(self, title='', author='', year_published=0, isbn=''):\n        self.title = title\n        self.author = author\n        self.year_published = year_published\n        self.isbn = isbn\n\n    def set_title(self, title: str):\n        \"\"\"\n        Sets the title of the book.\n\n        Parameters:\n        ----------\n        title : str\n            The title of the book.\n        \"\"\"\n        self.title = title\n\n    def set_author(self, author: str):\n        \"\"\"\n        Sets the author of the book.\n\n        Parameters:\n        ----------\n        author : str\n            The author of the book.\n        \"\"\"\n        self.author = author\n\n    def set_year_published(self, year_published: int):\n        \"\"\"\n        Sets the year the book was published.\n\n        Parameters:\n        ----------\n        year_published : int\n            The year the book was published.\n        \"\"\"\n        self.year_published = year_published\n\n    def set_isbn(self, isbn: str):\n        \"\"\"\n        Sets the ISBN of the book, validates that it has 13 digits.\n\n        Parameters:\n        ----------\n        isbn : str\n            The ISBN of the book.\n\n        Raises:\n        ------\n        ValueError\n            If the ISBN is not a 13-digit string.\n        \"\"\"\n        if isinstance(isbn, str) and len(isbn) == 13 and isbn.isdigit():\n            self.isbn = isbn\n        else:\n            raise ValueError(\"ISBN must be a 13-digit string.\")\n\n    def get_info(self) -> str:\n        \"\"\"\n        Returns a string containing the book's title, author, year published, and ISBN.\n\n        Returns:\n        -------\n        str\n            A formatted string with the book's information.\n        \"\"\"\n        return (f\"Title: {self.title}\\n\"\n                f\"Author: {self.author}\\n\"\n                f\"Year Published: {self.year_published}\\n\"\n                f\"ISBN: {self.isbn}\")\n```"}
{"text": "You are given a list of strings. Your task is to implement a function `find_longest_palindrome` that identifies and returns the longest palindromic substring from the list. If there are multiple palindromic substrings with the same maximum length, return the first one encountered in the list.\n\n**Input:**\n- A list of strings, where each string consists of lowercase English letters.\n- The list can contain up to 100 strings, and each string can have a length of up to 100 characters.\n\n**Output:**\n- A single string representing the longest palindromic substring found in the list.\n\n**Sample Input:**\n```python\n[\"racecar\", \"banana\", \"level\", \"civic\", \"deified\", \"noon\", \"rotor\", \"redder\", \"repaper\"]\n```\n\n**Sample Output:**\n```\n\"deified\"\n```", "response": "```python\ndef find_longest_palindrome(strings):\n    \"\"\"\n    Finds the longest palindromic substring in a list of strings.\n    \n    Parameters:\n    strings (list of str): A list of strings to search for palindromic substrings.\n    \n    Returns:\n    str: The longest palindromic substring found in the list. If there are multiple\n         palindromic substrings of the same length, returns the first one encountered.\n    \"\"\"\n    def is_palindrome(s):\n        return s == s[::-1]\n\n    longest_palindrome = \"\"\n    for s in strings:\n        if is_palindrome(s):\n            if len(s) > len(longest_palindrome):\n                longest_palindrome = s\n    return longest_palindrome\n\n# Example usage\ninput_list = [\"racecar\", \"banana\", \"level\", \"civic\", \"deified\", \"noon\", \"rotor\", \"redder\", \"repaper\"]\noutput_string = find_longest_palindrome(input_list)\nprint(output_string)  # Output: \"deified\"\n```"}
{"text": "You are tasked with implementing a `Car` class in Python. The class should have the following attributes and methods:\n\n- **Attributes:**\n  - `make`: A string representing the manufacturer of the car.\n  - `model`: A string representing the model of the car.\n  - `year`: An integer representing the year the car was manufactured.\n  - `mileage`: An integer representing the current mileage of the car.\n  - `color`: A string representing the color of the car.\n\n- **Methods:**\n  - `__init__(self, make, model, year, mileage, color)`: Initializes the car with the given attributes.\n  - `paint(self, new_color)`: Changes the color of the car to `new_color`.\n  - `drive(self, distance)`: Increases the mileage by `distance` if `distance` is positive.\n  - `service(self)`: Resets the mileage to 0.\n  - `display_info(self)`: Prints the car's details in the format: `\"Car Info: {year} {make} {model}, Color: {color}, Mileage: {mileage} miles\"`.\n\n**Sample Input/Output:**\n```\nInput:\ncar = Car(\"Toyota\", \"Camry\", 2020, 15000, \"Blue\")\ncar.display_info()\ncar.paint(\"Red\")\ncar.drive(250)\ncar.display_info()\ncar.service()\ncar.display_info()\n\nOutput:\nCar Info: 2020 Toyota Camry, Color: Blue, Mileage: 15000 miles\nCar Info: 2020 Toyota Camry, Color: Red, Mileage: 15250 miles\nCar Info: 2020 Toyota Camry, Color: Red, Mileage: 0 miles\n```", "response": "```python\nclass Car:\n    def __init__(self, make, model, year, mileage, color):\n        \"\"\"\n        Initializes a new Car instance with the specified attributes.\n\n        :param make: The manufacturer of the car.\n        :param model: The model of the car.\n        :param year: The year the car was manufactured.\n        :param mileage: The current mileage of the car.\n        :param color: The color of the car.\n        \"\"\"\n        self.make = make\n        self.model = model\n        self.year = year\n        self.mileage = mileage\n        self.color = color\n\n    def paint(self, new_color):\n        \"\"\"\n        Changes the color of the car.\n\n        :param new_color: The new color to paint the car.\n        \"\"\"\n        self.color = new_color\n\n    def drive(self, distance):\n        \"\"\"\n        Increases the mileage of the car by the specified distance if the distance is positive.\n\n        :param distance: The distance driven.\n        \"\"\"\n        if distance > 0:\n            self.mileage += distance\n\n    def service(self):\n        \"\"\"\n        Resets the mileage of the car to 0.\n        \"\"\"\n        self.mileage = 0\n\n    def display_info(self):\n        \"\"\"\n        Prints the car's details in a formatted string.\n        \"\"\"\n        print(f\"Car Info: {self.year} {self.make} {self.model}, Color: {self.color}, Mileage: {self.mileage} miles\")\n```"}
{"text": "You are given a string `word`. Your task is to determine if it is a palindrome, ignoring case sensitivity. A palindrome is a string that reads the same backward as forward. \n\n**Input:**\n- A single string `word` (1 ≤ |word| ≤ 100), consisting of alphabetic characters.\n\n**Output:**\n- Return `True` if the string is a palindrome, otherwise return `False`.\n\n**Sample Input:**\n```\nRacecar\nPython\n```\n\n**Sample Output:**\n```\nTrue\nFalse\n```", "response": "```python\ndef check_palindrome(word):\n    \"\"\"\n    Determines if the given word is a palindrome, ignoring case sensitivity.\n    \n    Parameters:\n    word (str): The word to check.\n    \n    Returns:\n    bool: True if the word is a palindrome, False otherwise.\n    \"\"\"\n    word = word.lower()  # Convert the word to lower case\n    return word == word[::-1]  # Compare the word with its reverse\n\n# Example usage\nprint(check_palindrome(\"Racecar\"))  # Output: True\nprint(check_palindrome(\"Python\"))   # Output: False\n```"}
{"text": "You are tasked with implementing a `DataAnalyzer` class in Python that performs basic statistical analysis on a dataset. The dataset is a non-empty list of numbers. Your class should include the following methods:\n\n- `__init__(self, data)`: Initializes the class with the dataset.\n- `mean(self)`: Returns the mean of the dataset.\n- `median(self)`: Returns the median of the dataset.\n- `variance(self)`: Returns the variance of the dataset.\n- `standard_deviation(self)`: Returns the standard deviation of the dataset.\n\n**Sample Input:**\n```python\ndata = [10, 20, 30, 40, 50]\nanalyzer = DataAnalyzer(data)\nprint(analyzer.mean())  # Output: 30.0\nprint(analyzer.median())  # Output: 30\nprint(analyzer.variance())  # Output: 200.0\nprint(analyzer.standard_deviation())  # Output: 14.142135623730951\n```", "response": "```python\nclass DataAnalyzer:\n    def __init__(self, data):\n        \"\"\"\n        Initializes the DataAnalyzer with a dataset.\n        \n        :param data: List of numbers representing the dataset.\n        \"\"\"\n        self.data = data\n\n    def mean(self):\n        \"\"\"\n        Calculates and returns the mean of the dataset.\n        \n        :return: Mean of the dataset.\n        \"\"\"\n        return sum(self.data) / len(self.data)\n\n    def median(self):\n        \"\"\"\n        Calculates and returns the median of the dataset.\n        \n        :return: Median of the dataset.\n        \"\"\"\n        sorted_data = sorted(self.data)\n        n = len(sorted_data)\n        mid = n // 2\n        if n % 2 == 0:\n            return (sorted_data[mid - 1] + sorted_data[mid]) / 2\n        else:\n            return sorted_data[mid]\n\n    def variance(self):\n        \"\"\"\n        Calculates and returns the variance of the dataset.\n        \n        :return: Variance of the dataset.\n        \"\"\"\n        mean_value = self.mean()\n        return sum((x - mean_value) ** 2 for x in self.data) / len(self.data)\n\n    def standard_deviation(self):\n        \"\"\"\n        Calculates and returns the standard deviation of the dataset.\n        \n        :return: Standard deviation of the dataset.\n        \"\"\"\n        return self.variance() ** 0.5\n```"}
{"text": "You are given a list of strings, each representing a file path. Your task is to write a function `group_files_by_extension` that organizes these files into a dictionary. The keys of the dictionary should be the file extensions, and the values should be lists of file names that share the same extension. If a file does not have an extension, it should be ignored. If the input list is empty, return an empty dictionary.\n\n**Sample Input:**\n```python\n[\"example.txt\", \"report.docx\", \"notes.txt\", \"presentation.pptx\"]\n```\n\n**Sample Output:**\n```python\n{'txt': ['example.txt', 'notes.txt'], 'docx': ['report.docx'], 'pptx': ['presentation.pptx']}\n```", "response": "```python\ndef group_files_by_extension(file_paths):\n    \"\"\"\n    Groups files by their extensions.\n\n    Parameters:\n    file_paths (list of str): A list of file paths.\n\n    Returns:\n    dict: A dictionary where keys are file extensions and values are lists of file names with those extensions.\n    \"\"\"\n    result = {}\n    for file_path in file_paths:\n        name_parts = file_path.rsplit('.', 1)\n        if len(name_parts) > 1:\n            _, extension = name_parts\n            if extension in result:\n                result[extension].append(file_path)\n            else:\n                result[extension] = [file_path]\n    return result\n```"}
{"text": "You are given a list of integers. Your task is to determine the minimum number of steps required to make all the elements in the list equal. In one step, you can either increment or decrement any element by 1. Output the minimum number of steps required.\n\n**Input:**\n- A list of integers `nums` (1 ≤ len(nums) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- An integer representing the minimum number of steps required to make all elements in the list equal.\n\n**Sample Input:**\n```\n[1, 2, 3, 4]\n```\n\n**Sample Output:**\n```\n4\n```", "response": "```python\ndef min_steps_to_equal_elements(nums):\n    \"\"\"\n    Determine the minimum number of steps required to make all elements in the list equal.\n    \n    :param nums: List of integers\n    :return: Minimum number of steps required\n    \"\"\"\n    nums.sort()\n    median = nums[len(nums) // 2]\n    steps = sum(abs(num - median) for num in nums)\n    return steps\n\n# Example usage:\nprint(min_steps_to_equal_elements([1, 2, 3, 4]))  # Output: 4\n```"}
{"text": "You are given a sequence of integers. Your task is to write a function `remove_duplicates_unordered(sequence)` that removes all duplicate elements from the sequence while maintaining the order of their first appearance. The function should return the modified sequence.\n\n**Input:**\n- A list of integers `sequence` (1 ≤ len(sequence) ≤ 10^5), where each integer is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers representing the sequence after removing duplicates, preserving the order of first appearances.\n\n**Sample Input:**\n```\n[1, 2, 2, 3, 1, 4]\n```\n\n**Sample Output:**\n```\n[1, 2, 3, 4]\n```", "response": "```python\ndef remove_duplicates_unordered(sequence):\n    \"\"\"\n    Removes duplicates from a sequence while preserving the order of the elements that appear first.\n\n    :param sequence: List of integers from which duplicates need to be removed.\n    :return: A list of integers with duplicates removed, maintaining the order of first appearances.\n    \"\"\"\n    seen = set()\n    result = []\n    for item in sequence:\n        if item not in seen:\n            seen.add(item)\n            result.append(item)\n    return result\n```"}
{"text": "You are given a list of positive integers `candidates` and a positive integer `target`. Your task is to find all unique combinations of numbers from `candidates` that sum up to `target`. The same number may be used in a combination multiple times. Return the list of all such unique combinations. Note that the order of combinations in the output does not matter.\n\n**Sample Input:**\n```\ncandidates = [2, 3, 6, 7]\ntarget = 7\n```\n\n**Sample Output:**\n```\n[[2, 2, 3], [7]]\n```", "response": "```python\ndef combination_sum(candidates, target):\n    \"\"\"\n    Finds all unique combinations of numbers from the given list that sum up to the target.\n    \n    :param candidates: List of positive integers.\n    :param target: Positive integer representing the target sum.\n    :return: List of lists, where each inner list is a unique combination of numbers that sum up to the target.\n    \"\"\"\n    def backtrack(start, target, path):\n        if target < 0:\n            return\n        if target == 0:\n            result.append(path)\n            return\n        for i in range(start, len(candidates)):\n            backtrack(i, target - candidates[i], path + [candidates[i]])\n\n    result = []\n    backtrack(0, target, [])\n    return result\n\n# Example usage:\ncandidates = [2, 3, 6, 7]\ntarget = 7\nprint(combination_sum(candidates, target))  # Output: [[2, 2, 3], [7]]\n```"}
{"text": "You are given a list of strings `words`. Your task is to implement a function `count_vowels(words: list) -> dict` that computes the number of vowels in each string within the list. The function should return a dictionary where each key is a string from the list and the corresponding value is the count of vowels in that string.\n\n**Input:**\n- A list of strings `words` (1 ≤ len(words) ≤ 100), where each string consists of at most 100 characters.\n\n**Output:**\n- A dictionary with keys as the original strings and values as the counts of vowels in each string.\n\n**Sample Input:**\n```python\n[\"hello\", \"world\", \"python\", \"programming\"]\n```\n\n**Sample Output:**\n```python\n{'hello': 2, 'world': 1, 'python': 1, 'programming': 3}\n```", "response": "```python\ndef count_vowels(words: list) -> dict:\n    \"\"\"\n    Counts the number of vowels in each string in the list.\n\n    Parameters:\n    words (list): A list of strings.\n\n    Returns:\n    dict: A dictionary with strings as keys and their vowel counts as values.\n    \"\"\"\n    vowels = set('aeiouAEIOU')\n    return {word: sum(1 for char in word if char in vowels) for word in words}\n```"}
{"text": "You are given a positive integer `n`. Your task is to determine if `n` is a prime number. A prime number is a natural number greater than 1 that has no positive divisors other than 1 and itself. Write a function `check_prime` that returns `True` if `n` is a prime number and `False` otherwise.\n\n**Input:**\n- A single integer `n` (1 ≤ n ≤ 10^9)\n\n**Output:**\n- Return `True` if `n` is a prime number, otherwise return `False`.\n\n**Sample Input:**\n```\n1\n2\n3\n4\n29\n179\n180\n```\n\n**Sample Output:**\n```\nFalse\nTrue\nTrue\nFalse\nTrue\nTrue\nFalse\n```", "response": "```python\ndef check_prime(n):\n    \"\"\"Return True if n is a prime number, False otherwise.\"\"\"\n    if n < 2:\n        return False\n    for i in range(2, int(n**0.5) + 1):\n        if n % i == 0:\n            return False\n    return True\n\n# Test cases\nprint(check_prime(1))   # False\nprint(check_prime(2))   # True\nprint(check_prime(3))   # True\nprint(check_prime(4))   # False\nprint(check_prime(29))  # True\nprint(check_prime(179)) # True\nprint(check_prime(180)) # False\n```"}
{"text": "Write a Python function to generate the Fibonacci sequence up to the nth number using an iterative approach. The function should return a list containing the Fibonacci sequence up to the nth number. If n is less than or equal to 0, return an empty list. If n is 1, return a list containing only the first Fibonacci number [0]. If n is 2, return the first two Fibonacci numbers [0, 1].\n\n**Sample Input:**\n```\nn = 10\n```\n\n**Sample Output:**\n```\n[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n```", "response": "```python\ndef fibonacci(n):\n    \"\"\"\n    Generate the Fibonacci sequence up to the nth number using an iterative approach.\n    \n    Parameters:\n    n (int): The number of Fibonacci numbers to generate.\n    \n    Returns:\n    list: A list containing the Fibonacci sequence up to the nth number.\n    \"\"\"\n    if n <= 0:\n        return []\n    elif n == 1:\n        return [0]\n    elif n == 2:\n        return [0, 1]\n\n    fib_sequence = [0, 1]\n    for i in range(2, n):\n        next_value = fib_sequence[-1] + fib_sequence[-2]\n        fib_sequence.append(next_value)\n\n    return fib_sequence\n\n# Example usage:\nn = 10  # Change this value to compute more or fewer Fibonacci numbers\nfib_sequence = fibonacci(n)\nprint(f\"Fibonacci sequence up to {n} numbers: {fib_sequence}\")\n```"}
{"text": "You are given a list of integers. Your task is to implement a function that returns a new list containing only the even numbers from the original list. The function must utilize list comprehension for its implementation. \n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^3), where each integer `num` satisfies -10^6 ≤ num ≤ 10^6.\n\n**Output:**\n- A list of integers containing only the even numbers from the input list.\n\n**Sample Input:**\n```\n[1, 2, 3, 4, 5, 6]\n```\n\n**Sample Output:**\n```\n[2, 4, 6]\n```", "response": "```python\ndef filter_even_numbers(numbers):\n    \"\"\"\n    Returns a new list containing only the even numbers from the input list.\n\n    :param numbers: List of integers.\n    :return: List of even integers.\n    \"\"\"\n    return [num for num in numbers if num % 2 == 0]\n```"}
{"text": "You are tasked with implementing an efficient algorithm to compute the nth Fibonacci number. The Fibonacci sequence is defined as follows: F(0) = 0, F(1) = 1, and F(n) = F(n-1) + F(n-2) for n > 1. Your solution should be optimized to handle large values of n efficiently.\n\n**Input:**\n- An integer n (0 ≤ n ≤ 1000)\n\n**Output:**\n- The nth Fibonacci number.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n55\n```", "response": "```python\ndef fibonacci(n, memo={}):\n    \"\"\"\n    Computes the nth Fibonacci number using memoization to optimize the recursive approach.\n    \n    Parameters:\n    n (int): The position in the Fibonacci sequence.\n    memo (dict): A dictionary to store previously computed Fibonacci numbers.\n    \n    Returns:\n    int: The nth Fibonacci number.\n    \"\"\"\n    if n <= 0:\n        return 0\n    elif n == 1:\n        return 1\n    if n not in memo:\n        memo[n] = fibonacci(n-1, memo) + fibonacci(n-2, memo)\n    return memo[n]\n```"}
{"text": "You are given a string representing a Python code snippet. Your task is to write a function `remove_comments` that removes all comments from the code. In Python, comments are any text following the `#` symbol until the end of the line. The function should return the modified code as a string, preserving the original code structure except for the comments.\n\n**Input:**\n- A single string `code` representing a Python code snippet.\n\n**Output:**\n- A string with all comments removed.\n\n**Sample Input:**\n```\ndef add(a, b):\\n    # Adds two numbers\\n    return a + b\\n# End of function\n```\n\n**Sample Output:**\n```\ndef add(a, b):\\n    return a + b\n```", "response": "```python\ndef remove_comments(code):\n    \"\"\"\n    Removes all comments from a given Python code snippet.\n\n    Parameters:\n    code (str): A string representing a Python code snippet.\n\n    Returns:\n    str: The modified code with all comments removed.\n    \"\"\"\n    lines = code.split('\\n')\n    cleaned_lines = []\n    for line in lines:\n        comment_index = line.find('#')\n        if comment_index != -1:\n            cleaned_line = line[:comment_index].rstrip()\n            if cleaned_line:\n                cleaned_lines.append(cleaned_line)\n        else:\n            if line.strip():\n                cleaned_lines.append(line)\n    return '\\n'.join(cleaned_lines)\n\n# Example usage:\npython_code = \"\"\"def add(a, b):\\n    # Adds two numbers\\n    return a + b\\n# End of function\"\"\"\ncleaned_code = remove_comments(python_code)\nprint(cleaned_code)\n```"}
{"text": "You are given a nested list structure consisting of integers and sublists. Your task is to write a function `reverse_nested_lists` that reverses the order of elements in each sublist, including sublists within sublists, at all levels of nesting. The function should return a new list with the reversed structure.\n\n**Input:**\n- A nested list `lst` where each element is either an integer or a sublist.\n\n**Output:**\n- A new nested list with all sublists reversed.\n\n**Sample Input:**\n```\n[[[1, 2], [3, 4]], [5, 6], 7]\n```\n\n**Sample Output:**\n```\n[[[4, 3], [2, 1]], [6, 5], 7]\n```", "response": "```python\ndef reverse_nested_lists(lst):\n    \"\"\"\n    Reverses the order of elements in each sublist of a nested list structure,\n    including sublists within sublists, at all levels of nesting.\n\n    Parameters:\n    lst (list): A nested list where each element is either an integer or a sublist.\n\n    Returns:\n    list: A new nested list with all sublists reversed.\n    \"\"\"\n    if isinstance(lst, list):\n        return [reverse_nested_lists(item) for item in lst[::-1]]\n    else:\n        return lst\n\n# Example usage\ninput_list = [[[1, 2], [3, 4]], [5, 6], 7]\noutput_list = reverse_nested_lists(input_list)\nprint(output_list)  # Output: [[[4, 3], [2, 1]], [6, 5], 7]\n```"}
{"text": "You are tasked with implementing a `Book` class for a library management system. The class should encapsulate the properties of a book and provide methods to manage its availability. The `Book` class should have the following attributes:\n\n- `title`: A string representing the title of the book.\n- `author`: A string representing the author of the book.\n- `isbn`: A string representing the ISBN number of the book.\n- `year`: An integer representing the year the book was published.\n- `available_copies`: An integer representing the number of copies currently available for checkout.\n- `total_copies`: An integer representing the total number of copies in the library.\n\nThe class should also provide the following methods:\n\n- `check_out`: Decrease the number of available copies by 1 if there are any available. If no copies are available, print a message stating that the book is currently not available.\n- `return_book`: Increase the number of available copies by 1, ensuring it does not exceed the total number of copies.\n- `get_details`: Return a string with the book's details in the format: \"{title} by {author} (ISBN: {isbn}, Year: {year}) - {available_copies}/{total_copies} copies available\".\n\nEnsure that `available_copies` and `total_copies` are non-negative and that `available_copies` does not exceed `total_copies`.\n\n**Sample Input/Output:**\n\n```python\nbook = Book(\"1984\", \"George Orwell\", \"9780451524935\", 1949, 3, 5)\nprint(book.get_details())  # Output: \"1984 by George Orwell (ISBN: 9780451524935, Year: 1949) - 3/5 copies available\"\nbook.check_out()\nprint(book.get_details())  # Output: \"1984 by George Orwell (ISBN: 9780451524935, Year: 1949) - 2/5 copies available\"\nbook.return_book()\nprint(book.get_details())  # Output: \"1984 by George Orwell (ISBN: 9780451524935, Year: 1949) - 3/5 copies available\"\nbook.check_out()\nbook.check_out()\nbook.check_out()\nbook.check_out()  # Output: \"The book '1984' is currently not available.\"\n```", "response": "```python\nclass Book:\n    def __init__(self, title, author, isbn, year, available_copies, total_copies):\n        \"\"\"\n        Initialize a new Book instance.\n\n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param isbn: The ISBN number of the book.\n        :param year: The year the book was published.\n        :param available_copies: The number of copies currently available.\n        :param total_copies: The total number of copies in the library.\n        \"\"\"\n        self.title = title\n        self.author = author\n        self.isbn = isbn\n        self.year = year\n        self.available_copies = max(0, min(available_copies, total_copies))\n        self.total_copies = max(0, total_copies)\n\n    def check_out(self):\n        \"\"\"\n        Decrease the number of available copies by 1 if available.\n        Print a message if no copies are available.\n        \"\"\"\n        if self.available_copies > 0:\n            self.available_copies -= 1\n        else:\n            print(f\"The book '{self.title}' is currently not available.\")\n\n    def return_book(self):\n        \"\"\"\n        Increase the number of available copies by 1, ensuring it does not exceed total copies.\n        \"\"\"\n        if self.available_copies < self.total_copies:\n            self.available_copies += 1\n\n    def get_details(self):\n        \"\"\"\n        Return a string with the book's details.\n\n        :return: A formatted string with the book's details.\n        \"\"\"\n        return (f\"{self.title} by {self.author} (ISBN: {self.isbn}, Year: {self.year})\"\n                f\" - {self.available_copies}/{self.total_copies} copies available\")\n```"}
{"text": "You are tasked with implementing a `BookInventory` class in Python that manages a collection of books. Each book is uniquely identified by its title and author. The class should support the following operations:\n\n1. **Add Book**: Add a book to the inventory. If the book already exists, update its quantity and price.\n2. **Remove Book**: Remove a specified quantity of a book from the inventory. If the quantity to remove is greater than or equal to the current quantity, the book should be completely removed.\n3. **Get Inventory Value**: Calculate and return the total value of the inventory, which is the sum of the product of quantity and price for each book.\n\nYour class should have the following methods:\n- `add_book(title, author, quantity, price)`: Adds a book to the inventory or updates it if it already exists.\n- `remove_book(title, author, quantity)`: Removes a specified quantity of a book from the inventory.\n- `get_inventory_value()`: Returns the total value of the inventory.\n\n**Sample Input/Output**:\n```python\ninventory = BookInventory()\ninventory.add_book(\"1984\", \"George Orwell\", 5, 10.99)\ninventory.add_book(\"To Kill a Mockingbird\", \"Harper Lee\", 3, 12.99)\ninventory.add_book(\"1984\", \"George Orwell\", 2, 11.99)  # Update quantity and price\ninventory.remove_book(\"1984\", \"George Orwell\", 3)\nprint(inventory.get_inventory_value())  # Output: 41.97\n```", "response": "```python\nclass BookInventory:\n    def __init__(self):\n        \"\"\"Initialize the inventory dictionary.\"\"\"\n        self.inventory = {}\n\n    def add_book(self, title, author, quantity, price):\n        \"\"\"\n        Add a book to the inventory or update it if it already exists.\n        \n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param quantity: The quantity of the book to add.\n        :param price: The price of the book.\n        \"\"\"\n        if (title, author) in self.inventory:\n            self.inventory[(title, author)] = (self.inventory[(title, author)][0] + quantity, price)\n        else:\n            self.inventory[(title, author)] = (quantity, price)\n\n    def remove_book(self, title, author, quantity):\n        \"\"\"\n        Remove a specified quantity of a book from the inventory.\n        \n        :param title: The title of the book.\n        :param author: The author of the book.\n        :param quantity: The quantity of the book to remove.\n        \"\"\"\n        if (title, author) in self.inventory:\n            current_quantity, price = self.inventory[(title, author)]\n            if quantity >= current_quantity:\n                del self.inventory[(title, author)]\n            else:\n                self.inventory[(title, author)] = (current_quantity - quantity, price)\n\n    def get_inventory_value(self):\n        \"\"\"\n        Calculate and return the total value of the inventory.\n        \n        :return: The total value of the inventory.\n        \"\"\"\n        total_value = 0\n        for quantity, price in self.inventory.values():\n            total_value += quantity * price\n        return total_value\n```"}
{"text": "You are given a list of integers representing the stock prices of a company over a series of days. Your task is to determine the maximum profit that can be achieved by buying and selling the stock exactly once. You must buy before you sell. If no profit can be made, return 0.\n\n**Input:**\n- A list of integers `prices` where `1 <= len(prices) <= 10^5` and `0 <= prices[i] <= 10^4`.\n\n**Output:**\n- An integer representing the maximum profit that can be achieved.\n\n**Sample Input:**\n```\n[7, 1, 5, 3, 6, 4]\n```\n\n**Sample Output:**\n```\n5\n```\n\n**Sample Input:**\n```\n[7, 6, 4, 3, 1]\n```\n\n**Sample Output:**\n```\n0\n```", "response": "```python\ndef find_highest_profit(prices):\n    \"\"\"\n    Calculate the maximum profit from a single buy and sell operation on a list of stock prices.\n    \n    :param prices: List of integers representing stock prices.\n    :return: Integer representing the maximum profit.\n    \"\"\"\n    if not prices or len(prices) < 2:\n        return 0\n    \n    min_price = prices[0]\n    max_profit = 0\n    \n    for price in prices:\n        if price < min_price:\n            min_price = price\n        elif price - min_price > max_profit:\n            max_profit = price - min_price\n            \n    return max_profit\n\n# Example usage:\nprices = [10, 7, 5, 8, 11, 9]\nprint(find_highest_profit(prices))  # Output should be 6\n```"}
{"text": "You are given a list of tuples representing products, where each tuple consists of a product name (a string) and its price (a float). Your task is to write a Python function that sorts this list of products in descending order based on their prices. The function should return the sorted list of tuples.\n\n**Input:**\n- A list of tuples, where each tuple contains a product name and its price.\n\n**Output:**\n- A list of tuples sorted by price in descending order.\n\n**Sample Input:**\n```python\n[(\"Laptop\", 999.99), (\"Smartphone\", 499.99), (\"Tablet\", 299.99)]\n```\n\n**Sample Output:**\n```python\n[(\"Laptop\", 999.99), (\"Smartphone\", 499.99), (\"Tablet\", 299.99)]\n```", "response": "```python\ndef sort_products_by_price(products):\n    \"\"\"\n    Sorts a list of product tuples in descending order based on the price.\n\n    Parameters:\n    products (list of tuples): A list where each tuple contains a product name and its price.\n\n    Returns:\n    list of tuples: The sorted list of tuples by price in descending order.\n    \"\"\"\n    return sorted(products, key=lambda product: product[1], reverse=True)\n\n# Example usage\nproducts = [(\"Laptop\", 999.99), (\"Smartphone\", 499.99), (\"Tablet\", 299.99)]\nsorted_products = sort_products_by_price(products)\nprint(sorted_products)\n```"}
{"text": "You are given two lists of integers, `list1` and `list2`. Your task is to find and return a list of common elements between the two lists, ensuring that each element appears only once in the result. Optimize your solution to minimize both time complexity and memory usage.\n\n**Input:**\n- Two lists of integers, `list1` and `list2`.\n- The length of each list is at most 10^5.\n- Each integer in the lists is in the range [-10^9, 10^9].\n\n**Output:**\n- A list of integers representing the common elements between `list1` and `list2`, with no duplicates.\n\n**Sample Input:**\n```\nlist1 = [1, 2, 3, 4]\nlist2 = [3, 4, 5, 6]\n```\n\n**Sample Output:**\n```\n[3, 4]\n```", "response": "```python\ndef find_common_elements(list1, list2):\n    \"\"\"\n    Finds and returns a list of unique common elements between two input lists.\n    \n    :param list1: List of integers.\n    :param list2: List of integers.\n    :return: List of unique integers that are common to both list1 and list2.\n    \"\"\"\n    set2 = set(list2)\n    common_elements = {element for element in list1 if element in set2}\n    return list(common_elements)\n\n# Example usage:\n# list1 = [1, 2, 3, 4]\n# list2 = [3, 4, 5, 6]\n# print(find_common_elements(list1, list2))  # Output: [3, 4]\n```"}
{"text": "You are given two integers, `start` and `end`. Your task is to write a function `sum_of_primes` that calculates and returns the sum of all prime numbers within the inclusive range `[start, end]`. A prime number is a natural number greater than 1 that has no positive divisors other than 1 and itself.\n\n**Input:**\n- Two integers `start` and `end` (1 ≤ start ≤ end ≤ 10^6)\n\n**Output:**\n- An integer representing the sum of all prime numbers in the range `[start, end]`.\n\n**Sample Input:**\n```\n10 20\n```\n\n**Sample Output:**\n```\n60\n```", "response": "```python\ndef sum_of_primes(start, end):\n    \"\"\"\n    Calculate the sum of all prime numbers within the inclusive range [start, end].\n\n    Parameters:\n    start (int): The starting integer of the range.\n    end (int): The ending integer of the range.\n\n    Returns:\n    int: The sum of all prime numbers within the range [start, end].\n    \"\"\"\n    def is_prime(n):\n        \"\"\"\n        Determine if a number is prime.\n\n        Parameters:\n        n (int): The number to check for primality.\n\n        Returns:\n        bool: True if n is a prime number, False otherwise.\n        \"\"\"\n        if n <= 1:\n            return False\n        if n == 2:\n            return True\n        if n % 2 == 0:\n            return False\n        for i in range(3, int(n**0.5) + 1, 2):\n            if n % i == 0:\n                return False\n        return True\n    \n    prime_sum = 0\n    for num in range(start, end + 1):\n        if is_prime(num):\n            prime_sum += num\n    return prime_sum\n```"}
{"text": "You are given a string `text` which may contain multiple email addresses. Your task is to write a function `extract_emails(text)` that identifies and returns all valid email addresses found in the string. A valid email address is defined by the regular expression pattern `[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}`.\n\n**Input:**\n- A single string `text` (1 ≤ len(text) ≤ 1000).\n\n**Output:**\n- A list of strings, each representing a valid email address found in the input string.\n\n**Sample Input:**\n```\nPlease contact us at support@example.com or sales@example.org for further assistance.\n```\n\n**Sample Output:**\n```\n['support@example.com', 'sales@example.org']\n```", "response": "```python\nimport re\n\ndef extract_emails(text):\n    \"\"\"\n    Extracts all valid email addresses from the given text.\n\n    Parameters:\n    text (str): The input string containing potential email addresses.\n\n    Returns:\n    list: A list of valid email addresses found in the input string.\n    \"\"\"\n    pattern = r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n    return re.findall(pattern, text)\n\n# Example Usage\ntext = \"Please contact us at support@example.com or sales@example.org for further assistance.\"\nprint(extract_emails(text))  # Output: ['support@example.com', 'sales@example.org']\n```"}
{"text": "You are given an array of integers `numbers` and an integer `target`. Your task is to implement a function `find_pair(numbers, target)` that returns a tuple of two distinct indices `(i, j)` such that `numbers[i] + numbers[j] == target`. If no such pair exists, the function should return `None`. The indices should be returned in the order they appear in the array.\n\n**Constraints:**\n- `2 <= len(numbers) <= 10^4`\n- `-10^9 <= numbers[i] <= 10^9`\n- `-10^9 <= target <= 10^9`\n\n**Sample Input:**\n```\nnumbers = [2, 7, 11, 15]\ntarget = 9\n```\n\n**Sample Output:**\n```\n(0, 1)\n```", "response": "```python\ndef find_pair(numbers, target):\n    \"\"\"\n    Finds two distinct indices in the list 'numbers' such that the sum of the elements at these indices equals 'target'.\n    \n    :param numbers: List of integers.\n    :param target: Integer representing the target sum.\n    :return: Tuple of two distinct indices if a pair is found, otherwise None.\n    \"\"\"\n    num_to_index = {}\n    for index, number in enumerate(numbers):\n        complement = target - number\n        if complement in num_to_index:\n            return (num_to_index[complement], index)\n        num_to_index[number] = index\n    return None\n```"}
{"text": "You are tasked with processing web server logs to determine the frequency of requests made by each client. Implement a function `parse_logs` that accepts a list of log entries as strings and returns a dictionary. The dictionary should map each client's IP address to the number of requests they have made. Each log entry is formatted such that the IP address is the first token, separated by a space. For example, given the input `['192.168.1.1 GET /', '192.168.1.2 POST /login', '192.168.1.1 GET /home']`, the function should output `{'192.168.1.1': 2, '192.168.1.2': 1}`.\n\n**Sample Input:**\n```python\n['192.168.1.1 GET /', '192.168.1.2 POST /login', '192.168.1.1 GET /home']\n```\n\n**Sample Output:**\n```python\n{'192.168.1.1': 2, '192.168.1.2': 1}\n```", "response": "```python\ndef parse_logs(log_entries):\n    \"\"\"\n    Parses a list of web server log entries and returns a dictionary mapping each client's IP address\n    to the number of requests they have made.\n\n    :param log_entries: List of log entries as strings, where each entry starts with an IP address.\n    :return: Dictionary with IP addresses as keys and the count of requests as values.\n    \"\"\"\n    ip_counts = {}\n    for entry in log_entries:\n        ip = entry.split()[0]\n        if ip in ip_counts:\n            ip_counts[ip] += 1\n        else:\n            ip_counts[ip] = 1\n    return ip_counts\n```"}
{"text": "You are given a list of integers. Your task is to implement a function `sum_of_squares` that computes the sum of the squares of the integers in the list. The function should utilize a generator expression for the computation. \n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^5), where each integer `x` satisfies -10^3 ≤ x ≤ 10^3.\n\n**Output:**\n- An integer representing the sum of the squares of the integers in the list.\n\n**Sample Input:**\n```\n[1, 2, 3]\n```\n\n**Sample Output:**\n```\n14\n```", "response": "```python\ndef sum_of_squares(numbers):\n    \"\"\"\n    Computes the sum of the squares of the integers in the list using a generator expression.\n\n    :param numbers: List of integers\n    :return: Sum of the squares of the integers\n    \"\"\"\n    return sum(x**2 for x in numbers)\n```"}
{"text": "You are given a list of integers. Your task is to write a Python function that efficiently filters out the prime numbers from this list. The function should be optimized for performance and should be able to handle large lists of integers.\n\n**Input:**\n- A list of integers `lst` (1 ≤ len(lst) ≤ 10^5), where each integer `num` satisfies -10^9 ≤ num ≤ 10^9.\n\n**Output:**\n- A list of integers containing only the prime numbers from the input list.\n\n**Sample Input:**\n```python\n[10, 15, 3, 7, 11, 20, 17]\n```\n\n**Sample Output:**\n```python\n[3, 7, 11, 17]\n```", "response": "```python\ndef is_prime(n):\n    \"\"\"Return True if n is a prime number, False otherwise.\"\"\"\n    if n <= 1:\n        return False\n    if n <= 3:\n        return True\n    if n % 2 == 0 or n % 3 == 0:\n        return False\n    i = 5\n    while i * i <= n:\n        if n % i == 0 or n % (i + 2) == 0:\n            return False\n        i += 6\n    return True\n\ndef filter_primes(lst):\n    \"\"\"Return a list of prime numbers from the input list.\"\"\"\n    return [num for num in lst if is_prime(num)]\n```"}
{"text": "You are tasked with implementing a function `validate_credit_card` that determines the validity of a credit card number based on the Luhn algorithm. The function should accept a string `card_number` which may contain spaces or dashes as separators. Your job is to strip these separators, apply the Luhn algorithm, and return `True` if the card number is valid, otherwise `False`.\n\n**Input:**\n- A single string `card_number` (1 ≤ len(card_number) ≤ 20), representing the credit card number which may include spaces or dashes.\n\n**Output:**\n- Return `True` if the credit card number is valid according to the Luhn algorithm, otherwise return `False`.\n\n**Sample Input:**\n```\n\"4532 0151 1283 0366\"\n```\n\n**Sample Output:**\n```\nTrue\n```", "response": "```python\ndef validate_credit_card(card_number):\n    \"\"\"\n    Validates a credit card number using the Luhn algorithm.\n    \n    Parameters:\n    card_number (str): The credit card number as a string, which may include spaces or dashes.\n    \n    Returns:\n    bool: True if the credit card number is valid, False otherwise.\n    \"\"\"\n    # Remove spaces and dashes\n    card_number = card_number.replace(\" \", \"\").replace(\"-\", \"\")\n    \n    # Convert card number to a list of integers\n    digits = [int(digit) for digit in card_number]\n    \n    # Double every second digit from the right\n    for i in range(len(digits) - 2, -1, -2):\n        digits[i] *= 2\n        if digits[i] > 9:\n            digits[i] -= 9\n    \n    # Sum all the digits\n    total = sum(digits)\n    \n    # Check if the total modulo 10 is 0\n    return total % 10 == 0\n\n# Test the function\ncard_number = \"4532 0151 1283 0366\"\nprint(validate_credit_card(card_number))  # Output should be True\n```"}
{"text": "You are given a list of integers. Your task is to write a Python function that returns a tuple containing the smallest and largest numbers in the list. If the list is empty, the function should return `None`. The function must operate with a time complexity of O(n).\n\n**Sample Input:**\n```\n[3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]\n```\n\n**Sample Output:**\n```\n(1, 9)\n```\n\n**Sample Input:**\n```\n[]\n```\n\n**Sample Output:**\n```\nNone\n```", "response": "```python\ndef find_min_max(numbers):\n    \"\"\"\n    Returns a tuple containing the smallest and largest numbers in the list.\n    If the list is empty, returns None.\n    \n    :param numbers: List of integers\n    :return: Tuple of (min, max) or None if the list is empty\n    \"\"\"\n    if not numbers:\n        return None\n\n    minimum = maximum = numbers[0]\n\n    for number in numbers:\n        if number < minimum:\n            minimum = number\n        elif number > maximum:\n            maximum = number\n\n    return (minimum, maximum)\n```"}
{"text": "You are tasked with implementing a function `generate_fibonacci_sequence` that generates the Fibonacci sequence up to a specified integer `n`. The function should return a list containing all Fibonacci numbers less than or equal to `n`.\n\n**Input:**\n- An integer `n` (0 ≤ n ≤ 1000).\n\n**Output:**\n- A list of integers representing the Fibonacci sequence up to `n`.\n\n**Sample Input:**\n```\n10\n```\n\n**Sample Output:**\n```\n[0, 1, 1, 2, 3, 5, 8]\n```", "response": "```python\ndef generate_fibonacci_sequence(n):\n    \"\"\"\n    Generate a list of Fibonacci numbers up to a given number n.\n\n    Parameters:\n    n (int): The upper limit for the Fibonacci sequence.\n\n    Returns:\n    list: A list of Fibonacci numbers up to n.\n    \"\"\"\n    sequence = []\n    a, b = 0, 1\n    while a <= n:\n        sequence.append(a)\n        a, b = b, a + b\n    return sequence\n\n# Example usage:\n# print(generate_fibonacci_sequence(10))  # Output: [0, 1, 1, 2, 3, 5, 8]\n```"}
{"text": "You are given a list of Python functions. Your task is to classify each function into one of the following categories: \"Data Manipulation\", \"Mathematical Calculation\", \"Input/Output\", \"Conditional Logic\", or \"Looping\". For each function, provide a docstring that describes its purpose and category.\n\n**Sample Input:**\n```python\n# Function: calculate_mean\ndef calculate_mean(numbers):\n    return sum(numbers) / len(numbers)\n\n# Function: print_file_contents\ndef print_file_contents(filename):\n    with open(filename, 'r') as file:\n        print(file.read())\n\n# Function: is_even\ndef is_even(number):\n    return number % 2 == 0\n\n# Function: filter_positive_numbers\ndef filter_positive_numbers(numbers):\n    return [num for num in numbers if num > 0]\n\n# Function: iterate_over_list\ndef iterate_over_list(numbers):\n    for num in numbers:\n        print(num)\n```\n\n**Sample Output:**\n```python\n# Function: calculate_mean\n# Category: Mathematical Calculation\n# Explanation: This function calculates and returns the mean of a list of numbers, which is a common mathematical operation.\ndef calculate_mean(numbers):\n    \"\"\"Calculates and returns the mean of a list of numbers. Category: Mathematical Calculation.\"\"\"\n    return sum(numbers) / len(numbers)\n\n# Function: print_file_contents\n# Category: Input/Output\n# Explanation: This function reads the contents of a file and prints it, involving file I/O operations.\ndef print_file_contents(filename):\n    \"\"\"Reads the contents of a file and prints it. Category: Input/Output.\"\"\"\n    with open(filename, 'r') as file:\n        print(file.read())\n\n# Function: is_even\n# Category: Conditional Logic\n# Explanation: This function checks if a number is even by using a conditional operation (modulus), returning a boolean result.\ndef is_even(number):\n    \"\"\"Checks if a number is even. Category: Conditional Logic.\"\"\"\n    return number % 2 == 0\n\n# Function: filter_positive_numbers\n# Category: Data Manipulation\n# Explanation: This function filters a list of numbers to include only positive values, modifying the dataset.\ndef filter_positive_numbers(numbers):\n    \"\"\"Filters a list of numbers to include only positive values. Category: Data Manipulation.\"\"\"\n    return [num for num in numbers if num > 0]\n\n# Function: iterate_over_list\n# Category: Looping\n# Explanation: This function iterates over a list, performing an action (printing each element), which is a typical use of a loop.\ndef iterate_over_list(numbers):\n    \"\"\"Iterates over a list and prints each element. Category: Looping.\"\"\"\n    for num in numbers:\n        print(num)\n```", "response": "```python\ndef calculate_mean(numbers):\n    \"\"\"Calculates and returns the mean of a list of numbers. Category: Mathematical Calculation.\"\"\"\n    return sum(numbers) / len(numbers)\n\ndef print_file_contents(filename):\n    \"\"\"Reads the contents of a file and prints it. Category: Input/Output.\"\"\"\n    with open(filename, 'r') as file:\n        print(file.read())\n\ndef is_even(number):\n    \"\"\"Checks if a number is even. Category: Conditional Logic.\"\"\"\n    return number % 2 == 0\n\ndef filter_positive_numbers(numbers):\n    \"\"\"Filters a list of numbers to include only positive values. Category: Data Manipulation.\"\"\"\n    return [num for num in numbers if num > 0]\n\ndef iterate_over_list(numbers):\n    \"\"\"Iterates over a list and prints each element. Category: Looping.\"\"\"\n    for num in numbers:\n        print(num)\n```"}
{"text": "You are participating in a machine learning competition and need to create a custom data loader for your dataset. Implement a Python class `CustomDataLoader` with the following methods:\n\n- `__init__(self, dataset, batch_size, shuffle=True)`: Initializes the data loader with the dataset, batch size, and shuffle flag.\n- `__iter__(self)`: Returns an iterator over the dataset.\n- `__next__(self)`: Returns the next batch of data.\n\nThe `dataset` is a list of tuples, where each tuple contains the input data and the corresponding label. The `batch_size` is the number of samples per batch. The `shuffle` flag indicates whether to shuffle the dataset at the beginning of each epoch.\n\n**Sample Input:**\n```python\ndataset = [(1, 'a'), (2, 'b'), (3, 'c'), (4, 'd'), (5, 'e')]\nbatch_size = 2\nshuffle = True\n```\n\n**Sample Output:**\n```python\n# Possible output (order may vary due to shuffling):\n[(3, 'c'), (4, 'd')]\n[(1, 'a'), (5, 'e')]\n[(2, 'b')]\n```", "response": "```python\nimport random\n\nclass CustomDataLoader:\n    def __init__(self, dataset, batch_size, shuffle=True):\n        \"\"\"\n        Initializes the data loader with the dataset, batch size, and shuffle flag.\n        \n        :param dataset: List of tuples, where each tuple contains the input data and the corresponding label.\n        :param batch_size: The size of each batch to be returned.\n        :param shuffle: Boolean flag to indicate whether to shuffle the dataset at the beginning of each epoch.\n        \"\"\"\n        self.dataset = dataset\n        self.batch_size = batch_size\n        self.shuffle = shuffle\n        self.index = 0\n\n    def __iter__(self):\n        \"\"\"\n        Returns an iterator over the dataset.\n        \"\"\"\n        if self.shuffle:\n            random.shuffle(self.dataset)\n        self.index = 0\n        return self\n\n    def __next__(self):\n        \"\"\"\n        Returns the next batch of data.\n        \"\"\"\n        if self.index >= len(self.dataset):\n            raise StopIteration\n        \n        batch = self.dataset[self.index:self.index + self.batch_size]\n        self.index += self.batch_size\n        return batch\n```"}
{"text": "You are tasked with implementing a function `generate_palindrome(n)` that constructs a palindrome number with exactly `n` digits. The function should return this palindrome as an integer. For instance, `generate_palindrome(3)` could return any 3-digit palindrome such as 121, 343, or 565. If the input `n` is less than 1, the function should return 0.\n\n**Constraints:**\n- 0 ≤ n ≤ 18\n\n**Sample Input and Output:**\n- Input: `3`\n- Possible Output: `121`, `343`, `565`, etc.\n- Input: `0`\n- Output: `0`\n- Input: `1`\n- Possible Output: `1`, `2`, `3`, ..., `9`", "response": "```python\nimport random\n\ndef generate_palindrome(n):\n    \"\"\"\n    Generates a palindrome number with n digits.\n    \n    Parameters:\n    n (int): The number of digits in the palindrome.\n    \n    Returns:\n    int: A palindrome number with n digits, or 0 if n < 1.\n    \"\"\"\n    if n < 1:\n        return 0\n\n    half_length = (n + 1) // 2\n    first_half = random.randint(10**(half_length - 1), 10**half_length - 1)\n    first_half_str = str(first_half)\n    \n    if n % 2 == 0:\n        palindrome_str = first_half_str + first_half_str[::-1]\n    else:\n        palindrome_str = first_half_str + first_half_str[-2::-1]\n\n    return int(palindrome_str)\n```"}
{"text": "You are tasked with implementing a `Document` class in Python that models a simple text document. The class should support the following operations:\n\n1. **Initialization**: Create a document with a given title and optional content.\n2. **Add Text**: Append text to the document's content. Ensure that there is a single space between the existing content and the new text.\n3. **Remove Text**: Remove all occurrences of a specified text from the document's content.\n4. **Display Content**: Print the current content of the document.\n5. **Word Count**: Return the number of words in the document's content.\n\n**Sample Input/Output**:\n- Initialize a document with title \"Sample\" and content \"Hello world\".\n- Add text \"This is a test\".\n- Remove text \"world\".\n- Display content: \"Hello This is a test\"\n- Word count: 5", "response": "```python\nclass Document:\n    def __init__(self, title, content=\"\"):\n        \"\"\"\n        Initialize the document with a title and optional content.\n        \n        :param title: The title of the document.\n        :param content: The initial content of the document (default is an empty string).\n        \"\"\"\n        self.title = title\n        self.content = content\n\n    def add_text(self, text):\n        \"\"\"\n        Append text to the document's content with a space separator.\n        \n        :param text: The text to be added to the document.\n        \"\"\"\n        if self.content:\n            self.content += \" \" + text\n        else:\n            self.content = text\n\n    def remove_text(self, text):\n        \"\"\"\n        Remove all occurrences of the specified text from the document's content.\n        \n        :param text: The text to be removed from the document.\n        \"\"\"\n        self.content = self.content.replace(text, '').strip()\n\n    def display_content(self):\n        \"\"\"\n        Print the current content of the document.\n        \"\"\"\n        print(self.content)\n\n    def word_count(self):\n        \"\"\"\n        Return the number of words in the document's content.\n        \n        :return: The number of words in the document.\n        \"\"\"\n        return len(self.content.split()) if self.content else 0\n```"}
{"text": "You are given a text file containing only lowercase alphabetic characters and spaces. Your task is to write a Python function that reads the file and returns a dictionary. The keys in the dictionary should be the unique words found in the file, and the values should be the frequencies of those words.\n\n**Input:**\n- A string `file_path` representing the path to the text file.\n\n**Output:**\n- A dictionary where keys are words and values are their respective frequencies.\n\n**Sample Input:**\n- File \"example.txt\" contains the text: \"this is a test this is only a test\"\n\n**Sample Output:**\n- `{'this': 2, 'is': 2, 'a': 2, 'test': 2, 'only': 1}`", "response": "```python\ndef word_frequencies(file_path):\n    \"\"\"\n    Reads a text file and returns a dictionary with words as keys and their frequencies as values.\n    \n    :param file_path: str, path to the text file\n    :return: dict, words and their frequencies\n    \"\"\"\n    word_freq = {}\n    with open(file_path, 'r') as file:\n        for line in file:\n            words = line.split()\n            for word in words:\n                if word in word_freq:\n                    word_freq[word] += 1\n                else:\n                    word_freq[word] = 1\n    return word_freq\n\n# Example usage\n# Assuming \"example.txt\" contains the text: \"this is a test this is only a test\"\nprint(word_frequencies(\"example.txt\"))\n```"}
{"text": "You are given a string `s`. Your task is to write a function `reverse_string` that returns the reversed version of the string `s`. You must implement the function using a loop to construct the reversed string one character at a time, and you are not allowed to use Python's built-in slicing method (e.g., `s[::-1]`).\n\n**Input:**\n- A single string `s` (0 ≤ |s| ≤ 1000), where |s| denotes the length of the string.\n\n**Output:**\n- A single string, which is the reversed version of the input string `s`.\n\n**Sample Input:**\n```\nhello\nPython\n\"\"\n```\n\n**Sample Output:**\n```\nolleh\nnohtyP\n```", "response": "```python\ndef reverse_string(s):\n    \"\"\"\n    Reverses the input string s using a loop.\n\n    Parameters:\n    s (str): The string to be reversed.\n\n    Returns:\n    str: The reversed string.\n    \"\"\"\n    reversed_str = ''\n    for char in s:\n        reversed_str = char + reversed_str\n    return reversed_str\n\n# Test the function\nprint(reverse_string(\"hello\"))  # Output: \"olleh\"\nprint(reverse_string(\"Python\")) # Output: \"nohtyP\"\nprint(reverse_string(\"\"))       # Output: \"\"\n```"}
{"text": "You are tasked with implementing a function to simulate a rock-paper-scissors game between two players. The function should accept two string parameters, each representing the choice of a player ('rock', 'paper', or 'scissors'). The function should return a string indicating the result of the game: 'Player 1 wins', 'Player 2 wins', or 'Tie'.\n\n**Sample Input:**\n```\nrock, scissors\npaper, paper\nscissors, rock\n```\n\n**Sample Output:**\n```\nPlayer 1 wins\nTie\nPlayer 2 wins\n```", "response": "```python\ndef rock_paper_scissors(player1, player2):\n    \"\"\"\n    Simulates a rock-paper-scissors game between two players.\n\n    Parameters:\n    player1 (str): The choice of the first player ('rock', 'paper', or 'scissors').\n    player2 (str): The choice of the second player ('rock', 'paper', or 'scissors').\n\n    Returns:\n    str: The result of the game ('Player 1 wins', 'Player 2 wins', or 'Tie').\n    \"\"\"\n    rules = {'rock': 'scissors', 'scissors': 'paper', 'paper': 'rock'}\n    \n    if player1 == player2:\n        return 'Tie'\n    \n    if rules[player1] == player2:\n        return 'Player 1 wins'\n    else:\n        return 'Player 2 wins'\n```"}
{"text": "You are given a string `s`. Your task is to implement a function `remove_punctuation` that removes all punctuation characters from the string `s` and returns the resulting string. The punctuation characters are defined by the `string.punctuation` constant from the `string` module. \n\n**Input:**\n- A single string `s` (1 ≤ |s| ≤ 10^5), which may contain uppercase and lowercase letters, digits, punctuation, and whitespace.\n\n**Output:**\n- A string with all punctuation characters removed.\n\n**Sample Input:**\n```\nHello, World!\n```\n\n**Sample Output:**\n```\nHello World\n```", "response": "```python\nimport string\n\ndef remove_punctuation(input_string):\n    \"\"\"\n    Removes all punctuation characters from the input string.\n\n    Parameters:\n    input_string (str): The string from which to remove punctuation.\n\n    Returns:\n    str: A new string with all punctuation characters removed.\n    \"\"\"\n    translator = str.maketrans('', '', string.punctuation)\n    return input_string.translate(translator)\n```"}
{"text": "You are given two strings, `text` and `pattern`. Your task is to write a function `count_pattern_occurrences(text, pattern)` that returns the number of times `pattern` appears in `text`, including overlapping occurrences. \n\n**Input:**\n- The first line contains the string `text` (1 ≤ |text| ≤ 10^5).\n- The second line contains the string `pattern` (1 ≤ |pattern| ≤ |text|).\n\n**Output:**\n- Print a single integer representing the number of times `pattern` appears in `text`.\n\n**Sample Input:**\n```\nabcabcabc\nabc\n```\n\n**Sample Output:**\n```\n3\n```\n\n**Sample Input:**\n```\naaaa\naa\n```\n\n**Sample Output:**\n```\n3\n```", "response": "```python\ndef count_pattern_occurrences(text, pattern):\n    \"\"\"\n    Counts the number of times the pattern appears in the text, including overlapping occurrences.\n\n    :param text: The string in which to search for the pattern.\n    :param pattern: The string pattern to search for in the text.\n    :return: The number of times the pattern appears in the text.\n    \"\"\"\n    count = 0\n    pattern_length = len(pattern)\n    for i in range(len(text) - pattern_length + 1):\n        if text[i:i + pattern_length] == pattern:\n            count += 1\n    return count\n\n# Example usage\ntext = 'abcabcabc'\npattern = 'abc'\nprint(count_pattern_occurrences(text, pattern))  # Output: 3\n\ntext = 'aaaa'\npattern = 'aa'\nprint(count_pattern_occurrences(text, pattern))  # Output: 3\n```"}
{"text": "You are given two sentences as strings. Your task is to implement a function `find_common_words(sentence1, sentence2)` that identifies and returns a list of words that appear in both sentences. The comparison should be case-insensitive and punctuation should be ignored. The resulting list of common words must be sorted in alphabetical order.\n\n**Function Signature:**\n```python\ndef find_common_words(sentence1: str, sentence2: str) -> List[str]:\n```\n\n**Input:**\n- `sentence1`: A string representing the first sentence.\n- `sentence2`: A string representing the second sentence.\n\n**Output:**\n- A list of strings, where each string is a word that appears in both sentences, sorted in alphabetical order.\n\n**Constraints:**\n- The input sentences only contain English alphabetic characters and punctuation marks (period, comma, question mark, and exclamation mark).\n\n**Sample Input:**\n```python\nsentence1 = \"Hello, world! This is a test sentence.\"\nsentence2 = \"Another test sentence, hello!\"\n```\n\n**Sample Output:**\n```python\n['hello', 'sentence', 'test']\n```", "response": "```python\nfrom typing import List\nimport string\n\ndef find_common_words(sentence1: str, sentence2: str) -> List[str]:\n    \"\"\"\n    Finds and returns a sorted list of common words between two sentences,\n    ignoring case and punctuation.\n    \n    :param sentence1: A string representing the first sentence.\n    :param sentence2: A string representing the second sentence.\n    :return: A list of common words sorted in alphabetical order.\n    \"\"\"\n    translator = str.maketrans('', '', string.punctuation)\n    cleaned_sentence1 = sentence1.translate(translator).lower()\n    cleaned_sentence2 = sentence2.translate(translator).lower()\n    \n    words1 = set(cleaned_sentence1.split())\n    words2 = set(cleaned_sentence2.split())\n    \n    common_words = words1.intersection(words2)\n    \n    return sorted(common_words)\n```"}
{"text": "You are given a list of integers. Your task is to write a function that computes the sum of all unique integers in the list. Each integer should be considered only once, even if it appears multiple times in the list.\n\n**Input:**\n- A list of integers `numbers` (1 ≤ len(numbers) ≤ 10^5), where each integer is in the range -10^9 ≤ numbers[i] ≤ 10^9.\n\n**Output:**\n- An integer representing the sum of all unique numbers in the list.\n\n**Sample Input:**\n```\n[1, 2, 3, 2, 4]\n```\n\n**Sample Output:**\n```\n10\n```", "response": "```python\ndef sum_unique_numbers(numbers):\n    \"\"\"\n    Computes the sum of all unique integers in the given list.\n\n    :param numbers: List of integers\n    :return: Sum of unique integers\n    \"\"\"\n    return sum(set(numbers))\n\n# Example usage\nresult = sum_unique_numbers([1, 2, 3, 2, 4])\nprint(result)  # Output should be 10\n```"}
